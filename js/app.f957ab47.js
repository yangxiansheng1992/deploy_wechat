(function(e){function t(t){for(var o,s,a=t[0],c=t[1],u=t[2],l=0,g=[];l<a.length;l++)s=a[l],r[s]&&g.push(r[s][0]),r[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(g.length)g.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,s=1;s<n.length;s++){var a=n[s];0!==r[a]&&(o=!1)}o&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},s={app:0},r={app:0},i=[];function a(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-04ca17ce":"b6c5ecc3","chunk-0bad68a9":"ba7d4437","chunk-1095abe5":"b46a0273","chunk-19d6a10b":"13bdd012","chunk-19f86aca":"a8badeec","chunk-22558bd7":"dcb5efcf","chunk-2431dd5e":"5eab14a1","chunk-2d0af29c":"8c478274","chunk-2d216ead":"0770df45","chunk-7d9471ee":"f6483e95","chunk-b35286aa":"4b944271","chunk-d4605150":"cd11708e"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-04ca17ce":1,"chunk-0bad68a9":1,"chunk-1095abe5":1,"chunk-19d6a10b":1,"chunk-19f86aca":1,"chunk-22558bd7":1,"chunk-2431dd5e":1,"chunk-7d9471ee":1,"chunk-b35286aa":1,"chunk-d4605150":1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=new Promise(function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-04ca17ce":"bc483d38","chunk-0bad68a9":"274491b4","chunk-1095abe5":"0e433876","chunk-19d6a10b":"561b445e","chunk-19f86aca":"2dc087b9","chunk-22558bd7":"3b0df0ae","chunk-2431dd5e":"a8a5a721","chunk-2d0af29c":"31d6cfe0","chunk-2d216ead":"31d6cfe0","chunk-7d9471ee":"9b344dc7","chunk-b35286aa":"b3f7304d","chunk-d4605150":"6b6e4216"}[e]+".css",r=c.p+o,i=document.getElementsByTagName("link"),a=0;a<i.length;a++){var u=i[a],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===r))return t()}var g=document.getElementsByTagName("style");for(a=0;a<g.length;a++){u=g[a],l=u.getAttribute("data-href");if(l===o||l===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete s[e],d.parentNode.removeChild(d),n(i)},d.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){s[e]=0}));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise(function(t,n){o=r[e]=[t,n]});t.push(o[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=a(e),u=function(t){l.onerror=l.onload=null,clearTimeout(g);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+o+": "+s+")");i.type=o,i.request=s,n[1](i)}r[e]=void 0}};var g=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/production-sub-path/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var g=0;g<u.length;g++)t(u[g]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0075":function(e,t,n){},"034f":function(e,t,n){"use strict";var o=n("64a9"),s=n.n(o);s.a},"0a42":function(e,t,n){},"0f30":function(e,t,n){"use strict";var o=n("46ee"),s=n.n(o);s.a},1:function(e,t){},1253:function(e,t,n){e.exports=n.p+"img/icon_cqssc.5b4dbe2c.png"},1788:function(e,t,n){"use strict";var o=n("310a"),s=n.n(o);s.a},"17d1":function(e,t,n){e.exports=n.p+"img/me.81bbcbb9.svg"},"18a1":function(e,t,n){e.exports=n.p+"img/归来仍少年.a37fa7d9.jpg"},"1a59":function(e,t,n){},"1f58":function(e,t,n){"use strict";var o=n("5932"),s=n.n(o);s.a},2133:function(e,t,n){},"22ae":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-header",style:e.style},[e.isLeftShow?n("div",{staticClass:"left",on:{click:e.goBack}},[n("font-awesome-icon",{attrs:{icon:"angle-left",color:"#fffffb"}})],1):e._e(),n("div",{staticClass:"title"},[e._v("\n    "+e._s(e.title)+"\n  ")]),e.isSearchShow?n("div",{staticClass:"search"},[n("font-awesome-icon",{attrs:{icon:"search",color:"#fffffb"}})],1):e._e(),n("div",{staticClass:"right",attrs:{slot:"right"},slot:"right"},[e._t("right")],2)])},s=[],r={props:{isLeftShow:{type:Boolean,default:!0},title:{type:String,default:""},isSearchShow:{type:Boolean,default:!0},bgColor:{type:String,default:"#1e2b39"}},computed:{style:function(){return{backgroundColor:this.bgColor}}},methods:{logClick:function(){console.log("选择")},goBack:function(){this.$router.go(-1)}}},i=r,a=(n("6f3e"),n("2877")),c=Object(a["a"])(i,o,s,!1,null,"2bd15960",null);t["a"]=c.exports},2342:function(e,t,n){},2404:function(e,t,n){},"310a":function(e,t,n){},"349c":function(e,t,n){"use strict";var o=n("b937"),s=n.n(o);s.a},3606:function(e,t,n){e.exports=n.p+"img/icon_xyft.0c932512.png"},3721:function(e,t,n){"use strict";var o=n("9f6a"),s=n.n(o);s.a},3793:function(e,t,n){"use strict";var o=n("cb95"),s=n.n(o);s.a},"3fac":function(e,t,n){},"41a9":function(e,t,n){e.exports=n.p+"img/icon_gxk3.26568cb8.png"},4571:function(e,t,n){e.exports=n.p+"media/科幻.50602ca8.mp4"},4606:function(e,t,n){"use strict";var o=n("e0ef"),s=n.n(o);s.a},"46ee":function(e,t,n){},"478d":function(e,t,n){},"48b2":function(e,t,n){"use strict";var o=n("89da"),s=n.n(o);s.a},"4aa4":function(e,t,n){},5130:function(e,t,n){"use strict";var o=n("478d"),s=n.n(o);s.a},5444:function(e,t,n){"use strict";var o=n("b470"),s=n.n(o);s.a},5458:function(e,t,n){"use strict";var o=n("fee2"),s=n.n(o);s.a},5640:function(e,t,n){"use strict";var o=n("3fac"),s=n.n(o);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),s=n("76a0"),r=n.n(s),i=(n("aa35"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),a=[],c={name:"App",data:function(){return{isLogged:!0}},created:function(){},methods:{}},u=c,l=(n("034f"),n("2877")),g=Object(l["a"])(u,i,a,!1,null,null,null),d=g.exports,p=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("Head",{attrs:{title:e.title,isSearchShow:e.isSearchShow,isLeftShow:e.isLeftShow,bgColor:e.bgColor}},[n("div",{staticClass:"icon-box",attrs:{slot:"right"},on:{click:function(t){return e.showMenu(e.iconType)}},slot:"right"},[n("font-awesome-icon",{attrs:{icon:e.iconType,color:e.iconColor}})],1)]),n("div",{staticClass:"option"},[n("OptionAction",{ref:"optionAction"})],1),n("main",[n("Scroll",{staticClass:"scroll"},[n("router-view")],1)],1),n("tab-list")],1)},m=[],h=n("22ae"),C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"wrapper"},[e._t("default")],2)},_=[],y=(n("c5f6"),n("1fba")),M={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!1},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},pulldown:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var e=this;setTimeout(function(){e.initScroll()},20)},methods:{initScroll:function(){var e=this;this.$refs.wrapper&&(this.scroll=new y["a"](this.$refs.wrapper,{probeType:this.probeType,click:this.click,scrollX:this.scrollX}),this.listenScroll&&this.scroll.on("scroll",function(t){e.$emit("scroll",t)}),this.pullup&&this.scroll.on("scrollEnd",function(){e.scroll.y<=e.scroll.maxScrollY+50&&e.$emit("scroll-end")}),this.pulldown&&this.scroll.on("touchend",function(t){t.y>50&&e.$emit("pulldown")}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){e.$emit("before-scroll")}))},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){if(this.scroll){var e=this.scroll.scrollTo;e.apply.apply(e,[this.scroll].concat(Array.prototype.slice.call(arguments)))}},scrollToElement:function(){if(this.scroll){var e=this.scroll.scrollToElement;e.apply.apply(e,[this.scroll].concat(Array.prototype.slice.call(arguments)))}}},watch:{data:function(){var e=this;setTimeout(function(){e.refresh()},this.refreshDelay)}}},R=M,I=Object(l["a"])(R,C,_,!1,null,null,null),v=I.exports,S=v,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab"},e._l(e.tabList,function(t){return n("router-link",{key:t.title,staticClass:"tab-item",attrs:{tag:"div",routerLinkActive:t.linkClass,to:t.name}},[n("div",{staticClass:"tab-link",class:t.linkClass,on:{click:function(n){return e.setTitle(t)}}},[n("span",{staticClass:"tab-link-text"},[e._v(e._s(t.title))])])])}),1)},E=[],b={data:function(){return{tabList:[{title:"微信",name:"/chat",linkClass:"tab-link-1",iconType:"plus",bgColor:"#1e2b39",iconColor:"#fffffb"},{title:"通讯录",name:"/clientList",linkClass:"tab-link-2",iconType:"plus",bgColor:"#1e2b39",iconColor:"#fffffb"},{title:"发现",name:"/find",linkClass:"tab-link-3",iconType:"plus",bgColor:"#1e2b39",iconColor:"#fffffb"},{title:"我",name:"/me",linkClass:"tab-link-4",iconType:"camera",bgColor:"#fffffb",iconColor:"#1e2b39"}]}},methods:{setTitle:function(e){this.$parent.$data.title=e.title,this.$parent.$data.iconType=e.iconType,this.$parent.$data.bgColor=e.bgColor,this.$parent.$data.iconColor=e.iconColor}}},O=b,N=(n("c677"),Object(l["a"])(O,T,E,!1,null,"f5f6acfa",null)),A=N.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"option-box"},[n("span",{staticClass:"top"}),e._l(e.list,function(t){return n("div",{key:t.id,staticClass:"option",on:{click:t.click}},[n("font-awesome-icon",{attrs:{icon:t.icon}}),n("span",[e._v(e._s(t.title))])],1)})],2)},L=[],U={data:function(){var e=this;return{list:[{title:"发起群聊",icon:"comment",id:123,click:function(){e.$router.push({name:"chatroom",params:{chatItemData:{title:"lol开黑"}}})}},{title:"添加朋友",icon:"user-plus",id:236,click:function(){console.log("添加朋友")}},{title:"扫一扫",icon:"qrcode",id:789,click:function(){console.log("打开摄像头扫一扫")}},{title:"收付款",icon:"hand-holding-usd",id:134,click:function(){console.log("去付款")}},{title:"帮助和反馈",icon:"envelope",id:234,click:function(){console.log("帮助和反馈")}}],isShow:!1}},methods:{show:function(){this.isShow=!0},hide:function(){this.isShow=!1}}},k=U,w=(n("1f58"),Object(l["a"])(k,P,L,!1,null,"90c82964",null)),D=w.exports,B={name:"App",components:{Head:h["a"],Scroll:S,TabList:A,OptionAction:D},data:function(){return{isLogged:!0,title:"微信",iconType:"plus",isSearchShow:!1,isLeftShow:!1,bgColor:"#1e2b39",iconColor:"#fffffb"}},methods:{showMenu:function(e){"plus"!==e?console.log("打开摄像头"):this.$refs.optionAction.$data.isShow=!this.$refs.optionAction.$data.isShow}}},j=B,x=(n("5640"),Object(l["a"])(j,f,m,!1,null,"2ee91fef",null)),H=x.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chatroom"},[n("Head",{attrs:{title:e.userData.title,isSearchShow:e.isSearchShow}},[n("div",{staticClass:"icon-right",attrs:{slot:"right"},on:{click:e.toUserSet},slot:"right"},[n("font-awesome-icon",{attrs:{icon:"ellipsis-h"}})],1)]),n("main",[n("scroll",{staticClass:"scroll",attrs:{data:e.chatList}},[n("div",{staticClass:"wrapper"},e._l(e.chatList,function(e,t){return n("chat-item",{key:e.time+e.msg+2*t,attrs:{data:e}})}),1)])],1),n("footer",[n("quill-editor")],1)],1)},V=[],q=n("cebc"),K=n("2f62"),G=n("5795"),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item"},["my"===e.data.msgType?n("MyChat",{attrs:{data:e.data}}):e._e(),"friend"===e.data.msgType?n("FriendCaht",{attrs:{data:e.data}}):e._e()],1)},Q=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-item"},[n("div",{staticClass:"chat-msg"},[n("p",{staticClass:"time"},[e._v(e._s(e.data.sentUser))]),n("div",{staticClass:"msg"},[e._v("\n      "+e._s(e.data.msg)+"\n    ")])]),n("div",{staticClass:"chat-user"},[n("div",{staticClass:"img-box"},[n("img",{attrs:{src:e.data.avatar,alt:""}})])])])},W=[],Y={props:{data:{type:Object,required:!0,default:function(){}}}},X=Y,z=(n("e647"),Object(l["a"])(X,$,W,!1,null,"1421ccf6",null)),Z=z.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chat-item"},[n("div",{staticClass:"chat-user"},[n("div",{staticClass:"img-box"},[n("img",{attrs:{src:e.data.avatar,alt:""}})])]),n("div",{staticClass:"chat-msg"},[n("p",{staticClass:"time"},[e._v(e._s(e.data.sentUser))]),n("div",{staticClass:"msg"},[e._v("\n      "+e._s(e.data.msg)+"\n    ")])])])},te=[],ne={props:{data:{type:Object,required:!0,default:function(){}}}},oe=ne,se=(n("3793"),Object(l["a"])(oe,ee,te,!1,null,"f45d6a4c",null)),re=se.exports,ie={props:{data:{type:Object,required:!0}},computed:{userId:function(){return G["a"].getUserInfo().user_id}},components:{MyChat:Z,FriendCaht:re}},ae=ie,ce=Object(l["a"])(ae,J,Q,!1,null,"17a5fb2c",null),ue=ce.exports,le=(n("a481"),n("d225")),ge=n("bd86"),de=function e(){Object(le["a"])(this,e)};Object(ge["a"])(de,"deleteBlank",function(e){return 0===e.replace(/\s+/g,"").length});var pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toast-primary";Object(s["Toast"])({message:e,position:t,className:n,duration:2500})},fe=n("5709"),me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"title",domProps:{innerHTML:e._s(e.title)}}),e._l(e.options,function(t,o){return n("div",{key:123*o,staticClass:"input-wrapper"},[n("div",{staticClass:"sub-title"},[e._v(e._s(t.item))]),n("quill-editor",{ref:"myQuillEditor",refInFor:!0,staticClass:"editor",on:{blur:e.onEditorBlur,focus:e.onEditorFocus,ready:e.onEditorReady},model:{value:e.messages[o],callback:function(t){e.$set(e.messages,o,t)},expression:"messages[index]"}})],1)})],2)},he=[],Ce={components:{},props:{item:{type:Object},index:{type:Number}},data:function(){return{messages:[],title:"<h1>富文本编辑器</h1>",options:[{item:""}]}},methods:{onEditorBlur:function(){console.log("blur",this.messages)},onEditorFocus:function(){console.log("focus",this.messages)},onEditorReady:function(){console.log("ready",this.messages)}}},_e=Ce,ye=(n("dcc1"),Object(l["a"])(_e,me,he,!1,null,null,null)),Me=ye.exports,Re="https://www.bs7010.com//images/avatar/default.jpg",Ie={name:"chatroom",components:{Head:h["a"],ChatItem:ue,Scroll:S,QuillEditor:Me},computed:Object(q["a"])({userData:function(){return Object(q["a"])({},this.$route.params.chatItemData)}},Object(K["b"])({chatList:function(e){return e.chatList},rcConnectStatus:function(e){return e.rcConnectStatus}})),data:function(){return{isSearchShow:!1,userText:""}},beforeRouteEnter:function(e,t,n){n(function(e){return e.joinChatRoom()})},methods:{toUserSet:function(){this.$router.push({name:"user-set",params:{userinfo:this.userData}})},sendMsg:function(){if(de.deleteBlank(this.userText))pe("内容不能为空");else{var e=G["a"].getUserInfo(),t=e.user_id;this.sendPersonMessage("my",this.userText,t),this.scrollEnd(),this.userText=""}},scrollEnd:function(){var e=document.querySelectorAll(".item");if(e.length>1){var t=e[e.length-1];t.scrollIntoView()}},sendPersonMessage:function(e,t,n){var o=this;fe["a"].sendPersonMessage({targetId:"chatroom",content:{msgType:e,msg:t,avatar:Re,sentUser:n},success:function(){console.log("发送成功获取消息列表"),console.log(o.chatList),pe("发送成功")}})},joinChatRoom:function(){this.rcConnectStatus&&fe["a"].joinChatRoom({chatRoomId:"chatroom",success:function(){pe("欢迎来到《lol开黑群》,勇往直前，冲啊!\n")}})}}},ve=Ie,Se=(n("1788"),Object(l["a"])(ve,F,V,!1,null,"70458ae9",null)),Te=Se.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("Head",{attrs:{title:e.userinfo.title,isSearchShow:e.isSearchShow}}),n("main",[e._v("\n    我是用户设置\n  ")])],1)},be=[],Oe={name:"user-set",components:{Head:h["a"]},computed:{userinfo:function(){return Object(q["a"])({},this.$route.params.userinfo)}},data:function(){return{isSearchShow:!1}},created:function(){console.log(this.$route.params.userinfo)}},Ne=Oe,Ae=(n("5444"),Object(l["a"])(Ne,Ee,be,!1,null,"40364db6",null)),Pe=Ae.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map"},[n("Head",{attrs:{title:e.userData.title,isSearchShow:e.isSearchShow}}),n("main",[n("scroll",{staticClass:"scroll"},[n("div",{staticClass:"wrapper"},[n("el-amap",{ref:"map",staticClass:"amap-demo",attrs:{vid:"amapDemo","amap-manager":e.amapManager,center:e.center,zoom:e.zoom,plugin:e.plugin,events:e.events}}),n("div",{staticClass:"toolbar"},[n("button",{on:{click:function(t){return e.toshanghai()}}},[e._v("去上海")]),n("button",{on:{click:function(t){return e.tohubei()}}},[e._v("去湖北")]),n("button",{on:{click:function(t){return e.tohome()}}},[e._v("石角山")]),n("button",{on:{click:function(t){return e.toyangxin()}}},[e._v("阳新")])])],1)])],1),n("footer")],1)},Ue=[],ke=n("8f9b"),we=n.n(ke),De=new we.a.AMapManager,Be={name:"interest",components:{Head:h["a"],Scroll:S},computed:{userData:function(){return Object(q["a"])({},this.$route.params.chatItemData)}},data:function(){var e=this;return{isSearchShow:!1,amapManager:De,center:[115.09914368525148,30.04930754426117],lng:0,lat:0,loaded:!1,plugin:[{pName:"ToolBar",events:{init:function(e){console.log(e)}}}],events:{init:function(t){AMapUI.loadUI(["overlay/SimpleMarker"],function(e){new e({iconLabel:"A",iconStyle:"red",map:t,position:t.getCenter()})}),console.log(t.getCenter()),console.log(e.$refs.map.$$getInstance()),t.getCity(function(e){console.log(e)})},moveend:function(){},zoomchange:function(){},click:function(e){console.log(e),alert("map clicked")}},zoom:12}},mounted:function(){},methods:{toshanghai:function(){this.center=[121.59996,31.197646]},tohubei:function(){this.center=[114.30499863848087,30.591848631865414]},tohome:function(){this.center=[114.87443410009143,29.71561202715223]},toyangxin:function(){this.center=[115.18035490438342,29.85926914703324]},addMarker:function(){var e={position:[121.5273285+.02*(Math.random()-.5),31.21515044+.02*(Math.random()-.5)]};this.markers.push(e)}}},je=Be,xe=(n("dbd5"),Object(l["a"])(je,Le,Ue,!1,null,"7e4bee95",null)),He=xe.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video"},[n("Head",{attrs:{title:e.userData.title,isSearchShow:e.isSearchShow}}),n("main",[n("video-player-box",{attrs:{playerOptions:e.playerOptions}})],1)],1)},Ve=[],qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"videos"},[n("video-player",{ref:"videoPlayer",staticClass:"video-player-box",attrs:{options:e.playerOptions,playsinline:!0,customEventName:"customstatechangedeventname",events:e.events},on:{play:e.onPlayerPlay,pause:e.onPlayerPause,timeupdate:function(t){return e.onPlayerTimeupdate(t)}}})],1),n("div",{staticClass:"option"},[n("div",{staticClass:"content"},[n("mt-button",{staticClass:"top",on:{click:function(t){return e.chageVideo(-1)}}},[e._v("上一部video")]),n("div",{staticClass:"center"},[n("mt-button",{staticClass:"left",on:{click:function(t){return e.chageVolume(-.1)}}},[e._v("音量-")]),n("div",{staticClass:"action",on:{click:e.chageVideoType}},[e.trigger?n("mt-button",{staticClass:"middle"},[e._v("暂停")]):n("mt-button",{staticClass:"middle"},[e._v("播放")])],1),n("mt-button",{staticClass:"right",on:{click:function(t){return e.chageVolume(.1)}}},[e._v("音量+")])],1),n("mt-button",{staticClass:"bottom",on:{click:function(t){return e.chageVideo(1)}}},[e._v("下一部video")])],1),n("div",{staticClass:"menu"},[n("mt-button",{staticClass:"middle",on:{click:e.progress}},[e._v("快进")]),n("mt-button",{staticClass:"middle"},[e._v("快退")]),n("mt-button",{staticClass:"middle"},[e._v("全屏")])],1)]),n("div",{staticClass:"range-box"},[n("p",[e._v("mintUi进度条")]),n("mt-progress",{attrs:{value:e.timeUpdateA,"bar-height":5}},[n("div",{attrs:{slot:"start"},slot:"start"},[e._v("0%")]),n("div",{attrs:{slot:"end"},slot:"end"},[e._v("100%")])]),n("p",[e._v("自定义进度条")]),n("div",{staticClass:"set-range"},[n("span",{staticClass:"left"},[e._v("0%")]),n("input",{staticClass:"range",attrs:{type:"range",max:"100",mmin:"0",step:"1"},domProps:{value:e.timeUpdateB},on:{change:function(t){return e.fnTimeUpdateB(t)}}}),n("span",{staticClass:"right"},[e._v("100%")])])],1)])},Ke=[],Ge=(n("fda2"),n("d6d3")),Je={props:{playerOptions:{type:Object,required:!0}},components:{videoPlayer:Ge["videoPlayer"]},data:function(){return{trigger:!1,events:["play","pause","timeupdate"],optionNumber:0,updataVolume:.1,timeUpdateA:0,timeUpdateB:0}},methods:{onPlayerPlay:function(){this.trigger=!0},onPlayerPause:function(){this.trigger=!1},onPlayerTimeupdate:function(e){this.timeUpdateA=Math.floor(e.currentTime()/e.duration()*100),this.timeUpdateB=Math.floor(e.currentTime()/e.duration()*100)},chageVideo:function(e){this.trigger=!1,this.optionNumber+=e,this.optionNumber>=this.$parent.$data.videoList.length-1&&(this.optionNumber=this.$parent.$data.videoList.length-1),this.optionNumber<=0&&(this.optionNumber=0),this.$parent.$data.optionNumber=this.optionNumber,this.$parent.updataNumber(this.$parent.$data.optionNumber)},chageVideoType:function(){this.trigger=!this.trigger,this.trigger?this.$refs.videoPlayer.player.play():this.$refs.videoPlayer.player.pause()},chageVolume:function(e){this.updataVolume=10*this.updataVolume,e*=10,this.updataVolume+=e,this.updataVolume=this.updataVolume/10,this.updataVolume<=0&&(this.updataVolume=0),this.updataVolume>=1&&(this.updataVolume=1),this.$refs.videoPlayer.player.volume(this.updataVolume)},fnTimeUpdateB:function(){console.log(this.timeUpdateB)},progress:function(){console.log("快进")}}},Qe=Je,$e=(n("658d"),Object(l["a"])(Qe,qe,Ke,!1,null,"77729406",null)),We=$e.exports,Ye={name:"video-page",components:{Head:h["a"],VideoPlayerBox:We},computed:{userData:function(){return Object(q["a"])({},this.$route.params.chatItemData)},playerOptions:function(){return this.videoList[this.optionNumber]}},data:function(){return{isSearchShow:!1,videoList:[{muted:!0,language:"zh-cn",playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:n("c1a6")}],poster:n("d8c5")},{muted:!0,language:"zh-cn",playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:"https://cdn.theguardian.tv/webM/2015/07/20/150716YesMen_synd_768k_vp8.webm"}],poster:n("996a")},{muted:!0,language:"zh-cn",playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:n("4571")}],poster:n("18a1")}],optionNumber:0}},methods:{updataNumber:function(e){e<0?this.optionNumber=0:e>this.videoList.length-1?this.optionNumber=this.videoList.length-1:this.optionNumber=e}}},Xe=Ye,ze=(n("e6fe"),Object(l["a"])(Xe,Fe,Ve,!1,null,"a09ac3c6",null)),Ze=ze.exports,et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"video"},[n("Head",{attrs:{title:e.userData.title,isSearchShow:e.isSearchShow}}),n("main",[n("scroll",{staticClass:"scroll"},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"iframe-box"})])])],1),n("footer")],1)},tt=[],nt={name:"chatroom",components:{Head:h["a"],Scroll:S},computed:{userData:function(){return Object(q["a"])({},this.$route.params.chatItemData)}},data:function(){return{isSearchShow:!1}},created:function(){this.getYml()},methods:{getYml:function(){}}},ot=nt,st=(n("8c95"),Object(l["a"])(ot,et,tt,!1,null,"1f7f5ce4",null)),rt=st.exports,it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"animate"},[n("div",{staticClass:"content"},[n("Head",{attrs:{title:e.userData.title,isSearchShow:e.isSearchShow}}),n("main",[n("iframe-animate",{attrs:{animateType:e.animateType}})],1),n("mt-button",{attrs:{size:"large"},on:{click:e.showmenu}},[e._v("打开菜单")])],1),n("iframe",{staticClass:"iframe",attrs:{src:"static/iframe/canvas/index.html"}}),n("PopMenu",{ref:"menu",attrs:{animateList:e.animateList}})],1)},at=[],ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"iframe-box"},[n("iframe",{ref:"iframe",staticClass:"iframe",attrs:{src:e.animateSrc},on:{load:e.changeData}})])},ut=[],lt={props:{animateType:{type:[String,Number],required:!0}},watch:{animateType:function(){this.updateAnimateSrc()}},data:function(){return{animateSrc:""}},mounted:function(){this.updateAnimateSrc()},methods:{updateAnimateSrc:function(){this.animateSrc="static/iframe/".concat(this.animateType,"/index.html")},changeData:function(){}}},gt=lt,dt=(n("aa31"),Object(l["a"])(gt,ct,ut,!1,null,"2a2a2060",null)),pt=dt.exports,ft=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Popup",{ref:"popup",attrs:{color:"#d64f44",width:"90%"}},[o("div",{staticClass:"left-menu",attrs:{slot:"content"},slot:"content"},[o("div",{staticClass:"chatroom-link"},e._l(e.animateList,function(t){return o("div",{key:t.type,staticClass:"item",on:{click:function(n){return e.setAnimation(t.type)}}},[o("div",{staticClass:"icon"},[o("img",{attrs:{src:n("b40a")("./icon_"+t.type+".png")}})]),o("p",{staticClass:"text"},[e._v(e._s(t.name))])])}),0)])])},mt=[],ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mt-popup",{style:e.popStyle,attrs:{"pop-transition":"popup-fade"},model:{value:e.isShow,callback:function(t){e.isShow=t},expression:"isShow"}},[n("div",{staticClass:"modal-content",style:e.style},[n("span",{staticClass:"close-icon",on:{click:e.hide}},[n("font-awesome-icon",{attrs:{icon:"times",color:"#000"}})],1),n("div",{staticClass:"modal-info"},[e.title.length?n("header",{staticClass:"head"},[e._v(e._s(e.title))]):e._e(),e._t("content")],2)])])},Ct=[],_t={props:{title:{type:String,default:""},color:{type:String,default:"#333"},width:{type:[String,Number],default:"80%"}},data:function(){return{isShow:!1}},computed:{style:function(){return{backgroundColor:this.color}},popStyle:function(){return{width:this.width}}},methods:{hide:function(){this.isShow=!1},show:function(){this.isShow=!0}}},yt=_t,Mt=(n("7169"),Object(l["a"])(yt,ht,Ct,!1,null,"4f1e0e6e",null)),Rt=Mt.exports,It=Rt,vt={components:{Popup:It},props:{animateList:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{isShow:!1}},methods:{setAnimation:function(e){this.$parent.$data.animateType=e,this.hide()},show:function(){this.$refs.popup.show()},hide:function(){this.$refs.popup.hide()}}},St=vt,Tt=(n("4606"),Object(l["a"])(St,ft,mt,!1,null,"01c55a94",null)),Et=Tt.exports,bt={name:"animation-page",components:{Head:h["a"],IframeAnimate:pt,PopMenu:Et},computed:{userData:function(){return Object(q["a"])({},this.$route.params.chatItemData)}},data:function(){return{isSearchShow:!1,animateType:"bjpk10",animateList:[{name:"北京pk10",type:"bjpk10"},{name:"重庆时时彩",type:"cqssc"},{name:"广西快三",type:"gxk3"},{name:"幸运飞艇",type:"xyft"}]}},methods:{showmenu:function(){this.$refs.menu.show()}}},Ot=bt,Nt=(n("3721"),Object(l["a"])(Ot,it,at,!1,null,"e4cb64e6",null)),At=Nt.exports,Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"js-native"},[n("Head",{attrs:{title:e.userData.title,isSearchShow:e.isSearchShow}}),n("div",{staticClass:"classification"},e._l(e.list,function(t){return n("span",{key:t.id,on:{click:function(n){return e.showPopup(t.popopName)}}},[e._v(e._s(t.title))])}),0),n("Popup",{ref:"popup",attrs:{color:"#feeeed"}},[n("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[n("me-svg",{directives:[{name:"show",rawName:"v-show",value:"MeSvg"===e.isPopupShow,expression:"isPopupShow === 'MeSvg'"}]})],1)])],1)},Lt=[],Ut=n("75fc"),kt=n("d59f"),wt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Dt=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"me-svg"},[o("img",{attrs:{src:n("97eb"),alt:""}}),o("img",{attrs:{src:n("17d1"),alt:""}}),o("img",{attrs:{src:n("6f64"),alt:""}})])}],Bt={},jt=Bt,xt=(n("9466"),Object(l["a"])(jt,wt,Dt,!1,null,"7e12c580",null)),Ht=xt.exports,Ft={components:{Head:h["a"],Popup:It,MeSvg:Ht},computed:{userData:function(){return Object(q["a"])({},this.$route.params.chatItemData)}},data:function(){return{isSearchShow:!1,list:[],isPopupShow:""}},created:function(){this.getJsNativeList()},methods:{getJsNativeList:function(){var e=this;kt["a"].getJsNativeList().then(function(t){var n=t.data;t.status;e.list=Object(Ut["a"])(n.data)}).catch(function(e){console.log(e)})},showPopup:function(e){this.isPopupShow=e,this.$refs.popup.show()}}},Vt=Ft,qt=(n("821a"),Object(l["a"])(Vt,Pt,Lt,!1,null,"3dab2e0c",null)),Kt=qt.exports,Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue"},[n("me-head"),n("main",[n("router-view")],1),n("vue-tab")],1)},Jt=[],Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("div",{staticClass:"icon",on:{click:e.toChat}},[n("font-awesome-icon",{attrs:{icon:"angle-left"}})],1),n("div",{staticClass:"input"},[n("mt-search",{attrs:{"cancel-text":"搜索"},nativeOn:{change:function(t){return e.search(t)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)])},$t=[],Wt={data:function(){return{value:""}},methods:{toChat:function(){this.$router.push("/chat")},search:function(e){console.log(e.target.value)}}},Yt=Wt,Xt=(n("5130"),Object(l["a"])(Yt,Qt,$t,!1,null,null,null)),zt=Xt.exports,Zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab"},e._l(e.tabList,function(t){return n("div",{key:t.name,staticClass:"tab-item",class:{active:e.$route.path===t.name},on:{click:function(n){return e.doLink(t.name)}}},[n("div",{staticClass:"tab-inner"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:t.icon}}),n("span",[e._v(e._s(t.title))])],1)])}),0)},en=[],tn={data:function(){return{tabList:[{title:"vue基础",name:"/vue-basis",icon:"book-open"},{title:"vue扩展",name:"/vue-extension",icon:"book-reader"},{title:"UI库",name:"/vue-ui",icon:"cubes"},{title:"小功能",name:"/vue-functional",icon:"award"}]}},methods:{doLink:function(e){this.$router.push(e)}}},nn=tn,on=(n("94a1"),Object(l["a"])(nn,Zt,en,!1,null,"4b6b96c3",null)),sn=on.exports,rn={name:"chatroom",components:{MeHead:zt,VueTab:sn},computed:{userData:function(){return Object(q["a"])({},this.$route.params.chatItemData)}},data:function(){return{isSearchShow:!1}},methods:{}},an=rn,cn=(n("9639"),Object(l["a"])(an,Gt,Jt,!1,null,"3a3c1352",null)),un=cn.exports,ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"css-box"},[n("Head",{attrs:{title:e.userData.title,isSearchShow:e.isSearchShow}}),n("main",[e._l(e.cssList,function(t){return n("MeButton",{key:t.title,class:e.animateName,attrs:{text:t.title},nativeOn:{click:function(n){return e.showPopup(t)}}})}),n("PcPopup",{ref:"popup"},[n("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[n("glossy-3d-button",{directives:[{name:"show",rawName:"v-show",value:"Glossy3dButton"===e.popupSlot,expression:"popupSlot === 'Glossy3dButton'"}]}),n("rectangular-loader",{directives:[{name:"show",rawName:"v-show",value:"RectangularLoader"===e.popupSlot,expression:"popupSlot === 'RectangularLoader'"}]}),n("toggle-checkbox",{directives:[{name:"show",rawName:"v-show",value:"ToggleCheckbox"===e.popupSlot,expression:"popupSlot === 'ToggleCheckbox'"}]}),n("text-3d-marquee",{directives:[{name:"show",rawName:"v-show",value:"Text3dMarquee"===e.popupSlot,expression:"popupSlot === 'Text3dMarquee'"}],attrs:{text:"3d跑马灯"}}),n("contentric-arc-rotating",{directives:[{name:"show",rawName:"v-show",value:"ContentricArcRotating"===e.popupSlot,expression:"popupSlot === 'ContentricArcRotating'"}]}),n("broken-text",{directives:[{name:"show",rawName:"v-show",value:"BrokenText"===e.popupSlot,expression:"popupSlot === 'BrokenText'"}]}),n("mask-image",{directives:[{name:"show",rawName:"v-show",value:"MaskImage"===e.popupSlot,expression:"popupSlot === 'MaskImage'"}]})],1)])],2)],1)},gn=[],dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn",on:{click:e.changeAnimate}},e._l(e.text,function(t,o){return n("span",{key:o,attrs:{"data-text":t}},[e._v(e._s(t))])}),0)},pn=[],fn={props:{text:{type:String,required:!0}},methods:{changeAnimate:function(){var e=this;this.animateName="fadeIn",this.timer=setTimeout(function(){e.animateName="",clearTimeout(e.timer)},100)}},beforeDestroy:function(){clearTimeout(this.timer)}},mn=fn,hn=(n("5458"),Object(l["a"])(mn,dn,pn,!1,null,"194325ca",null)),Cn=hn.exports,_n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",{staticClass:"modal",on:{click:function(t){return t.target!==t.currentTarget?null:e.hide(t)}}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-info"},[e._t("content")],2)])]):e._e()},yn=[],Mn={props:{title:{type:String,default:""}},data:function(){return{isShow:!1}},computed:{},methods:{hide:function(){this.isShow=!1},show:function(){this.isShow=!0}}},Rn=Mn,In=(n("8205"),Object(l["a"])(Rn,_n,yn,!1,null,"28473f28",null)),vn=In.exports,Sn=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Tn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("div",{staticClass:"btn"},[e._v("\n    BUTTON\n  ")])])}],En={},bn=En,On=(n("f878"),Object(l["a"])(bn,Sn,Tn,!1,null,"468d5116",null)),Nn=On.exports,An=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rectangular"},[n("div",{staticClass:"loader"},e._l(3,function(e){return n("span",{key:e})}),0)])},Pn=[],Ln={},Un=Ln,kn=(n("0f30"),Object(l["a"])(Un,An,Pn,!1,null,"56150620",null)),wn=kn.exports,Dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toggle-box"},[n("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:e.ischecked},on:{click:e.changeChecked}}),e._m(0)])},Bn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"switch"},[n("div",{staticClass:"inner"},[n("div",{staticClass:"disc"})])])}],jn={data:function(){return{ischecked:!0}},methods:{changeChecked:function(){this.ischecked=!this.ischecked}}},xn=jn,Hn=(n("c7c9"),Object(l["a"])(xn,Dn,Bn,!1,null,"46f9c2b6",null)),Fn=Hn.exports,Vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"marquee"},[n("div",{staticClass:"box"},e._l(2,function(t){return n("div",{key:t,staticClass:"inner"},[n("span",[e._v(e._s(e.text))])])}),0)])},qn=[],Kn={props:{text:{type:String,required:!0}}},Gn=Kn,Jn=(n("c4aa"),Object(l["a"])(Gn,Vn,qn,!1,null,"7b8dd446",null)),Qn=Jn.exports,$n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Wn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"arc"},[n("div",{staticClass:"circle"})])}],Yn={},Xn=Yn,zn=(n("60d5"),Object(l["a"])(Xn,$n,Wn,!1,null,"4c37d138",null)),Zn=zn.exports,eo=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},to=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"borken"},[n("div",{staticClass:"text",attrs:{"data-text":"BROKEN"}},[e._v("BROKEN")])])}],no={},oo=no,so=(n("e292"),Object(l["a"])(oo,eo,to,!1,null,"1a2a3d77",null)),ro=so.exports,io=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ao=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mask"},[n("i",{staticClass:"mask-i"})])}],co={},uo=co,lo=(n("349c"),Object(l["a"])(uo,io,ao,!1,null,"70cb6ad1",null)),go=lo.exports,po={components:{Head:h["a"],MeButton:Cn,PcPopup:vn,Glossy3dButton:Nn,RectangularLoader:wn,ToggleCheckbox:Fn,Text3dMarquee:Qn,ContentricArcRotating:Zn,BrokenText:ro,MaskImage:go},computed:{userData:function(){return Object(q["a"])({},this.$route.params.chatItemData)}},data:function(){return{isSearchShow:!1,cssList:[{title:"金属光泽按钮",showName:"Glossy3dButton"},{title:"矩形loading动画",showName:"RectangularLoader"},{title:"切换开关",showName:"ToggleCheckbox"},{title:"3d跑马灯",showName:"Text3dMarquee"},{title:"同心圆弧加载动画",showName:"ContentricArcRotating"},{title:"破裂文字效果",showName:"BrokenText"},{title:"mask效果",showName:"MaskImage"}],animateName:"",popupSlot:""}},methods:{showPopup:function(e){this.$refs.popup.show(),this.popupSlot=e.showName},hidePopup:function(){this.$refs.popup.hide()}}},fo=po,mo=(n("48b2"),Object(l["a"])(fo,ln,gn,!1,null,"56cd0198",null)),ho=mo.exports,Co=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"react"},[n("Head",{attrs:{title:e.userData.title,isSearchShow:e.isSearchShow}}),n("main")],1)},_o=[],yo={name:"chatroom",components:{Head:h["a"]},computed:{userData:function(){return Object(q["a"])({},this.$route.params.chatItemData)}},data:function(){return{isSearchShow:!1}},created:function(){},methods:{}},Mo=yo,Ro=(n("9c98"),Object(l["a"])(Mo,Co,_o,!1,null,"54122e4a",null)),Io=Ro.exports,vo=[{path:"/",component:H,redirect:"/chat",children:[{path:"/chat",name:"chat",meta:{title:"首页"},component:function(){return n.e("chunk-0bad68a9").then(n.bind(null,"6f29"))}},{path:"/clientList",name:"clientList",meta:{title:"客户列表"},component:function(){return n.e("chunk-1095abe5").then(n.bind(null,"4551"))}},{path:"/find",name:"find",meta:{title:"发现"},component:function(){return n.e("chunk-d4605150").then(n.bind(null,"9f44"))}},{path:"/me",name:"me",meta:{title:"个人中心"},component:function(){return n.e("chunk-7d9471ee").then(n.bind(null,"8822"))}}]},{path:"/guide",name:"guide",meta:{title:"推荐"},component:function(){return n.e("chunk-22558bd7").then(n.bind(null,"7320"))}},{path:"/login",name:"login",meta:{title:"登录"},component:function(){return n.e("chunk-19f86aca").then(n.bind(null,"9ed6"))}},{path:"/register",name:"register",meta:{title:"注册"},component:function(){return n.e("chunk-04ca17ce").then(n.bind(null,"a519"))}},{path:"/read-detail",name:"read-detail",meta:{title:"读后感"},component:function(){return n.e("chunk-04ca17ce").then(n.bind(null,"a519"))}},{path:"/chatroom",name:"chatroom",meta:{title:"聊天室"},component:Te},{path:"/user-set",name:"user-set",meta:{title:"聊天室设置"},component:Pe},{path:"/video-page",name:"video-page",meta:{title:"电影院"},component:Ze},{path:"/audio-page",name:"audio-page",meta:{title:"音乐库"},component:rt},{path:"/animation-page",name:"animation-page",meta:{title:"动画吧"},component:At},{path:"/amap",name:"amap",meta:{title:"高德地图"},component:He},{path:"/js-native",name:"js-native",meta:{title:"js原生知识"},component:Kt},{path:"/css-study",name:"css-study",meta:{title:"学习css"},component:ho},{path:"/vue",name:"vue",component:un,redirect:"vue-basis",children:[{path:"/vue-basis",name:"vue-basis",meta:{title:"vue基础"},component:function(){return n.e("chunk-2431dd5e").then(n.bind(null,"bf4d"))}},{path:"/vue-extension",name:"vue-extension",meta:{title:"vue扩展"},component:function(){return n.e("chunk-b35286aa").then(n.bind(null,"1a80"))}},{path:"/vue-ui",name:"vue-ui",meta:{title:"vueUI库"},component:function(){return n.e("chunk-2d0af29c").then(n.bind(null,"0cc6"))}},{path:"/vue-functional",name:"vue-functional",meta:{title:"vue小功能"},component:function(){return n.e("chunk-2d216ead").then(n.bind(null,"c505"))}}]},{path:"/react",name:"react",meta:{title:"react知识点集中营"},component:Io},{path:"/read-page",name:"read-page",meta:{title:"战略性布局文档"},component:function(){return n.e("chunk-19d6a10b").then(n.bind(null,"359a"))}}];o["default"].use(p["a"]);var So=new p["a"]({routes:vo,mode:"hash"});window.onblur=function(){document.title="想你了，快回来"},So.afterEach(function(e){window.scrollTo(0,0),window.document.title=e.meta.title,window.onfocus=function(){document.title=e.meta.title}});var To=So,Eo=n("653a"),bo=n("9483");Object(bo["a"])("".concat("/production-sub-path/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("2404");var Oo=n("ecee"),No=n("c074"),Ao=n("ad3d");Oo["c"].add(No["a"],No["k"],No["m"],No["e"],No["h"],No["n"],No["f"],No["o"],No["l"],No["j"],No["i"],No["c"],No["d"],No["g"],No["b"]),o["default"].component("font-awesome-icon",Ao["a"]);var Po=n("96eb"),Lo=n.n(Po),Uo=n("9614");Lo.a.mock("".concat(Uo["a"].chatListUrl),"post",{data:[{title:"lol开黑（聊天）",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"chatroom"},{title:"电影院",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"video-page"},{title:"音乐库",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"audio-page"},{title:"动画吧",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"animation-page"},{title:"高德地图",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"amap"},{title:"js原生知识",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"js-native"},{title:"vue知识点集中营",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"vue"},{title:"react知识点集中营",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"react"},{title:"学习css(pc端效果)",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"css-study"}]}),Lo.a.mock("".concat(Uo["a"].getToken),"get",{data:[{title:"lol开黑（聊天）",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"chatroom"}]}),Lo.a.mock("".concat(Uo["a"].friendList),{list:[{type:"a","user|20":[{name:"@cname","id|+1":110,"age|18-28":0,birthday:'@date("yyyy-MM-dd")',city:"@city(true)",color:"@color"}]},{type:"b","user|20":[{name:"@cname","id|+1":110,"age|18-28":0,birthday:'@date("yyyy-MM-dd")',city:"@city(true)",color:"@color"}]},{type:"c","user|20":[{name:"@cname","id|+1":110,"age|18-28":0,birthday:'@date("yyyy-MM-dd")',city:"@city(true)",color:"@color"}]}]}),Lo.a.mock("".concat(Uo["a"].chat),{quotes:[{name:"@cname","id|+1":88,"age|18-28":0,birthday:'@date("yyyy-MM-dd")',city:"@city(true)",color:"@color",text:"我尊重同性恋，我理解抑郁症，我会喂地下的流浪猫，我会给老奶奶让座，我会对店员说谢谢...纵然，我平庸，长相普通，脾气不好，吃尽生活的苦，但我依然，想努力地成为一个善良的人"},{name:"@cname","id|+1":88,"age|18-28":0,birthday:'@date("yyyy-MM-dd")',city:"@city(true)",color:"@color",text:"我跑啊跑啊，就是为了追上那个曾经被赋予众望的自己"},{name:"@cname","id|+1":88,"age|18-28":0,birthday:'@date("yyyy-MM-dd")',city:"@city(true)",color:"@color",text:"如果没用梦想，那跟咸鱼又有什么分别，如果只能做咸鱼，也要做最咸的那条"},{name:"@cname","id|+1":88,"age|18-28":0,birthday:'@date("yyyy-MM-dd")',city:"@city(true)",color:"@color",text:"每一根韭菜都会找到属于自己的牙缝"},{name:"@cname","id|+1":88,"age|18-28":0,birthday:'@date("yyyy-MM-dd")',city:"@city(true)",color:"@color",text:"我们一边受伤，一边行走，一边扇自己耳光，一边就地自省。有时候觉得自己像个哲学家，有时候觉得自己更像是胡言乱语的神经病，而更多时候，觉得这世界疯狂无情却不乏美丽。"},{name:"@cname","id|+1":88,"age|18-28":0,birthday:'@date("yyyy-MM-dd")',city:"@city(true)",color:"@color",text:"永远不要试图和一个傻逼讲道理，因为傻逼会把你的智商拉到和他一样的水平线上，然后用他丰富的经验打败你。"}]}),Lo.a.mock("".concat(Uo["a"].vueList),"post",{data:[{title:"你知道vue的模板语法用的是哪个web模板引擎的吗？说说你对这模板引擎的理解",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点1",content:"VueJS作为一个前端框架，少不了模板引擎的功能，为了优化模板引擎，Vue会在编译阶段把template转化为render函数，在编译阶段之前（预编译阶段）我们可以定制一些模板引擎的行为，比如文本插入分隔符、指令、过滤器",linkPage:"https://blog.csdn.net/qq_41047322/article/details/82935877"},{title:"你知道v-model的原理吗？说说看",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点2",content:"v-model只是一个语法糖，等于:value+@input，真正的实现靠的还是： \ufeffv-bind:绑定响应式数据，触发 input 事件并传递数据 (核心和重点)",linkPage:"https://www.kancloud.cn/dataoedu/vue/327250"},{title:"你有使用过vue开发多语言项目吗？说说你的做法？",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点3",content:"多语言，走国际化，那么就需要切换语言和识别地区；一款vue-i18n插件，做这方便比较方便",linkPage:"https://github.com/kazupon/vue-i18n"},{title:"在使用计算属性的时，函数名和data数据源中的数据可以同名吗？",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点4",content:"不能同名 因为不管是计算属性还是data还是props 都会被挂载在vm实例上，因此 这三个都不能同名",linkPage:"https://www.jianshu.com/p/ae99e8b96c06"},{title:"vue中data的属性可以和methods中的方法同名吗？为什么？",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点5",content:"他们都作为属性加到this中去了，所以要注意data中的命名不能和methods中冲突",linkPage:"https://github.com/haizlin/fe-interview/issues/557"},{title:"怎么给vue定义全局的方法？",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点6",content:"第一种：挂载到Vue的prototype上。把全局方法写到一个文件里面，然后for循环挂载到Vue的prototype上，缺点是调用这个方法的时候没有提示；第二种：利用全局混入mixin，因为mixin里面的methods会和创建的每个单文件组件合并。这样做的优点是调用这个方法的时候有提示",linkPage:"https://www.jianshu.com/p/7547ff8760c3"},{title:"vue2.0不再支持v-html中使用过滤器了怎么办？",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点7",content:"在method中定义方法",linkPage:"https://github.com/haizlin/fe-interview/issues/555"},{title:"怎么解决vue打包后静态资源图片失效的问题？",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点8",content:"设置assetsPublicPath将 assetsPublicPath: ' / ' 改为 assetsPublicPath: './ '",linkPage:"https://blog.csdn.net/jian_xi/article/details/70158952"},{title:"怎么解决vue动态设置img的src不生效的问题？",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点9",content:"原因是vue并没有把你的路径字符串当做路径来处理，而是直接当做字符串了,可以在开始的时候进行import引入，或者在data里面进行require引入",linkPage:"https://segmentfault.com/q/1010000004582219"},{title:"使用vue后怎么针对搜索引擎做SEO优化？",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点10",content:"使用服务端渲染，vue官方推荐nuxt.js",linkPage:"https://blog.csdn.net/jian_xi/article/details/70158952"},{title:"跟keep-alive有关的生命周期是哪些？描述下这些生命周期",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点11",content:"在被keep-alive包含的组件/路由中，会多出两个生命周期的钩子:activated 与 deactivated",linkPage:"https://juejin.im/entry/5b7585e4518825332755c4da"},{title:"如果现在让你从vue/react/angularjs三个中选择一个，你会选哪个？说说你的理由",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点12",content:"团队技术积累 哪个熟练有积累 哪个优先",linkPage:"https://blog.csdn.net/qq_26780317/article/details/88656036"},{title:"你知道vue2.0兼容IE哪个版本以上吗？",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点13",content:"不支持ie8及以下，部分兼容ie9 ，完全兼容10以上",linkPage:"https://my.oschina.net/u/171860/blog/1831843"},{title:"你有看过vue推荐的风格指南吗？列举出你知道的几条",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点14",content:"1、组件名称见名知意，最好加特殊前缀，如：el-Button、el-row等；2、组件的prop尽可能描述的越详细越好；3、为组件样式设置scoped作用域",linkPage:"https://cn.vuejs.org/v2/style-guide/index.html"},{title:"你知道vue中key的原理吗？说说你对它的理解",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点15",content:"作用的话，便于diff算法的更新，key的唯一性，能让算法更快的找到需要更新的dom，需要注意的是，key要唯一，不然会出现很隐蔽性的更新问题",linkPage:"https://www.jianshu.com/p/32943c14ee66"},{title:"vue中怎么重置data？",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点16",content:"使用Object.assign()，vm.$data可以获取当前状态下的data，vm.$options.data可以获取到组件初始化状态下的data，具体可以看vm.$options。",linkPage:"https://cn.vuejs.org/v2/api/#vm-options"}]}),Lo.a.mock("".concat(Uo["a"].jsNativeList),"post",{data:[{title:"原型",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点1",popopName:"",content:"你知道vue的模板语法用的是哪个web模板引擎的吗？说说你对这模板引擎的理解"},{title:"svg",time:Lo.a.Random.time("A HH:mm:ss"),id:"知识点2",popopName:"MeSvg",content:"你知道vue的模板语法用的是哪个web模板引擎的吗？说说你对这模板引擎的理解"}]}),Lo.a.mock("".concat(Uo["a"].strategyList),"post",{data:[{title:"web组件化",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"webComponents"},{title:"渐进式网络应用程序（简称PWA）",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"pwa"},{title:"如果你想成为全栈，GraphQL是你突破口",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"GraphQL"},{title:"Serverless Services（无服务器服务）",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"Serverless Services"},{title:"网站静态化",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"JAMStack"},{title:"javascript AI",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"AI"},{title:"javascript 物联网（lot）",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"物联网"},{title:"知识挖掘技术",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"知识挖掘技术"}]}),Lo.a.mock("".concat(Uo["a"].meItemList),"post",{data:[{title:"读《必然》后感",img:Lo.a.Random.image(),time:Lo.a.Random.time("A HH:mm:ss"),id:"read-BiRan",name:"read-detail",detail:{head:"免费大行其道，怎么让用户掏钱呢？KK(凯文·凯利) 列举了几项原生性特征",list:[{name:"1,即时性（Immediacy）",text:"许多人会在首映式的时候前去电影院花大价钱看那些以后会通过下载和租赁方式变得免费，或者几乎免费的电影。从非常现实的角度来看，他们花钱购买的并不是电影（电影是“免费的”），而是即时看到最新的电影。"},{name:"2,个性化（Personalization）",text:"个性化要求是创造者与消费者、艺术家与粉丝、生产者与用户之间的不断对话。它是一种典型的原生性，因为它可以交互，是一种对时间的消费。营销人员将这种情况称为“粘性”，因为在这种关系中，双方都对原生资产有所投入，同时也不愿意移情别恋，更不愿意从头再来。这种关系的紧密程度，是无法通过复制粘贴得到的。"},{name:"3,解释性（Interpretation）",text:"有个老笑话是这么讲的：软件下载免费，用户手册一万美元。"},{name:"4,可靠性（Authenticity）",text:"你或许能免费获得一个流行的软件应用，但即便你不需要看说明书，你也得考虑这个软件有没有缺陷、是不是恶意程序或者垃圾软件。这种情况下，你会很高兴地为可靠性付钱。这样，你在使用软件时就会自由自在，脑袋里不用为别的事情操心。"},{name:"5,获取权（Accessibility）",text:"拥有往往是件烦人的事情。从某种程度上讲，iTunes通过云端提供的内容，就是在向你出售获取权。虽然可以从其他地方下载到免费版本，但你还是会为了方便地获取音乐而付费。你花钱购买的不是这些东西，而是简单获取的便利，以及不用再去维护的义务。"},{name:"6,实体化（Embodiment）",text:"在实体化的最佳案例方面，没有什么能比得上具有切真实体的音乐现场演出。在这种情况里，音乐是免费的，实体演出却是昂贵的。图书是免费的，但亲身与作者交谈是昂贵的。现场演出巡演、TED现场演讲、电台现场节目，甚至在你面前表演厨艺的厨师，都能展现出那些本可能免费下载到的事物，其实体化付费片段所具有的威力和价值。"},{name:"7,可赞助（patronage）",text:"从本质上讲，热心的受众和爱好者希望为创作者买单。爱好者们喜欢奖励，无论对方是艺术家、音乐家、作家、演员，还是其他创造欣赏价值的创造者，因为这能让爱好者们和倾慕的对象建立联系。但他们只在以下几种情况里才会买单："},{name:"8,支付",text:"1支付方式必须超级简单；2支付金额必须合理；3可以看到支付后的收益；4花出去的钱必须让人感到能让创造者获益。"},{name:"9,可寻性（Discoverability）",text:"当世界上的图书、歌曲、电影、应用和其他所有事情都以数百万计（其中大部分都是免费的）争夺你的注意力的时候，能被寻找到就具有了价值。而鉴于被创造出来的作品每天都以爆发性的数字增长，能被寻找到就更成了难能之事。爱好者们会用很多方法从百亿千亿的产品中发掘出有价值的作品。他们利用评论、评测和品牌（出版商、厂牌、工作室），而越来越多地则依赖其他爱好者和朋友来推荐好东西。他们也越来越希望为引导买单。据说《电视指南》赚到的钱，比它提供指南的美国三大电视台赚到的还要多。你花钱购买的并不是复制品，而是能够找到想要物品的能力。"},{name:"10,使用",text:"对事物的占有不再像曾经那样重要，而对事物的使用则比以往更加重要。云端的一个核心优势在于它变得越来越大，我们的设备就变得越来越小巧轻薄。"},{name:"11,共享",text:"每个成功的无政府体系中总会存在一个长老会组织。蜂巢思维，大量的失控元素与少量自上而下的控制相结合，既愚笨，又足够聪明，可以胜任许多工作。虽然不能解决所有问题，但是是开始解决问题的最佳方式。"},{name:"12,追踪",text:"当匿名变成常态时，系统必然失败。充斥匿名者的社群要么自行毁灭，要么从完全匿名变成伪匿名状态。"},{name:"13,提问",text:"答案将变的廉价，而问题会更有价值。计算机是无用的，它们只能给你答案。"}]}}]});var ko=n("5a0c"),wo=n.n(ko),Do=n("953d"),Bo=n.n(Do);n("a753"),n("8096"),n("14e1");o["default"].use(we.a),we.a.initAMapApiLoader({key:"7d80a00c8d5506eaac8050a1bfb549e7",plugin:["Autocomplete","PlaceSearch","Scale","OverView","ToolBar","MapType","PolyEditor","AMap.CircleEditor"],uiVersion:"1.0.11",v:"1.4.4"}),o["default"].config.productionTip=!1,o["default"].prototype.$day=wo.a,o["default"].use(r.a),o["default"].use(Bo.a,{placeholder:"请输入内容"}),new o["default"]({router:To,store:Eo["a"],render:function(e){return e(d)}}).$mount("#app")},"56e8":function(e,t,n){e.exports=n.p+"img/icon_bjpk10.17c56803.png"},5709:function(e,t,n){"use strict";var o=n("d225"),s=n("b0b4"),r=n("bd86"),i=(n("7f7f"),n("96cf"),n("3b8d")),a=n("bc3a"),c=n.n(a),u=function e(){Object(o["a"])(this,e)};Object(r["a"])(u,"appKey","x18ywvqfxczhc"),Object(r["a"])(u,"AppSecret","7XbvINhe82"),Object(r["a"])(u,"RongCloudTokenUrl","http://192.168.56.1:1990/user/token"),Object(r["a"])(u,"avatar","https://www.bs7010.com//images/avatar/default.jpg");var l=function e(){Object(o["a"])(this,e)};Object(r["a"])(l,"getRongCloudToken",function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.userId,o=t.name,s=t.portraitUrl,e.abrupt("return",c.a.get("".concat(u.RongCloudTokenUrl),{params:{userId:n,name:o,portraitUrl:s}}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(JSON.stringify(e))}));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());n("a1be");var g=RongIMLib,d=g.RongIMClient,p=function(){function e(){Object(o["a"])(this,e)}return Object(s["a"])(e,null,[{key:"init",value:function(e,t){var n=e.appKey;d.init(n),this.setConnectionStatusListener(t),this.setOnReceiveMessageListener(t),this.connect(e,t),this.instance=d.getInstance()}},{key:"connect",value:function(e,t){var n=e.token;d.connect(n,{onSuccess:function(e){t.connectSuccess&&t.connectSuccess(e)},onTokenIncorrect:function(){t.onError("token无效")},onError:function(e){var n;switch(console.log(e),e){case RongIMLib.ErrorCode.TIMEOUT:n="服务器连接超时";break;case RongIMLib.ConnectionState.UNACCEPTABLE_PAROTOCOL_VERSION:n="不可接受的协议版本";break;case RongIMLib.ConnectionState.IDENTIFIER_REJECTED:n="appkey不正确";break;case RongIMLib.ConnectionState.SERVER_UNAVAILABLE:n="消息服务暂时不可用";break;default:}t.onError(n)}})}},{key:"setConnectionStatusListener",value:function(e){var t=this;d.setConnectionStatusListener({onChanged:function(n){var o={};switch(n){case RongIMLib.ConnectionStatus.CONNECTED:case 0:o.code=0,o.message="连接成功",console.log("rc连接成功"),e.getInstance&&e.getInstance(t.instance);break;case RongIMLib.ConnectionStatus.CONNECTING:case 1:console.log("连接中"),o.code=1,o.message="连接中";break;case RongIMLib.ConnectionStatus.DISCONNECTED:case 2:o.code=2,o.message="连接断开，请检查网络状况或刷新重试！",console.log("当前用户主动断开链接");break;case RongIMLib.ConnectionStatus.NETWORK_UNAVAILABLE:case 3:o.code=3,o.message="网络不可用，请检查网络状况",console.log("网络不可用");break;case RongIMLib.ConnectionStatus.CONNECTION_CLOSED:case 4:o.code=4,o.message="未知原因，连接断开，请检查网络状况或刷新重试！",console.log("未知原因，连接关闭");break;case RongIMLib.ConnectionStatus.KICKED_OFFLINE_BY_OTHER_CLIENT:case 6:o.code=6,o.message="您已在其他设备登录，本机被踢掉线",console.log("用户账户在其他设备登录，本机被踢掉线");break;case RongIMLib.ConnectionStatus.DOMAIN_INCORRECT:case 12:o.code=6,o.message="当前运行域名错误，请检查安全域名配置",console.log("当前运行域名错误，请检查安全域名配置");break;default:}e.connectionStatusListener(o)}})}},{key:"setOnReceiveMessageListener",value:function(e){d.setOnReceiveMessageListener({onReceived:function(t){switch(t.messageType){case d.MessageType.TextMessage:break;case d.MessageType.ImageMessage:break;case d.MessageType.PersonMessage:break;case d.MessageType.UnknownMessage:break;default:}e.receiveNewMessage&&e.receiveNewMessage(t)}})}},{key:"start",value:function(e){var t=e.appKey,n=e.token,o=e.userId,s=e.callbacks,r={appKey:t,token:n,userId:o};this.init(r,s),console.log("初始化 应用")}},{key:"disconnect",value:function(){this.instance.disconnect(),console.log("断开链接")}},{key:"reconnect",value:function(e){var t=e.success,n=e.error;d.reconnect({onSuccess:function(e){t("重新连接成功"),console.log("重新链接成功，用户id：".concat(e))},onTokenIncorrect:function(){n("重新链接失败，token无效"),console.log("重新链接失败，token无效")},onError:function(e){var t="";switch(e){case RongIMLib.ErrorCode.TIMEOUT:t="超时";break;case RongIMLib.ErrorCode.UNKNOWN_ERROR:t="未知错误";break;case RongIMLib.ErrorCode.UNACCEPTABLE_PROTOCOL_VERSION:t="不可接受的协议版本";break;case RongIMLib.ErrorCode.IDENTIFIER_REJECTED:t="appkey不正确";break;case RongIMLib.ErrorCode.SERVER_UNAVAILABLE:t="服务器不可用";break;default:}n(t),console.log("重新链接失败，原因：".concat(t))}})}},{key:"sendMessage",value:function(e){var t=e.conversationType,n=e.targetId,o=e.msg,s=e.extra,r=e.success,i=e.error,a=new RongIMLib.TextMessage({content:o,extra:s}),c=RongIMLib.ConversationType[t];d.getInstance().sendMessage(c,n,a,{onSuccess:function(e){console.log("发送消息成功>>>>>>>>>>>>>>>>"),console.log(e),r&&r(e)},onError:function(e,t){var n="";switch(e){case RongIMLib.ErrorCode.TIMEOUT:n="超时";break;case RongIMLib.ErrorCode.UNKNOWN:n="未知错误";break;case RongIMLib.ErrorCode.REJECTED_BY_BLACKLIST:n="在黑名单中，无法向对方发送消息";break;case RongIMLib.ErrorCode.NOT_IN_DISCUSSION:n="不在讨论组中";break;case RongIMLib.ErrorCode.NOT_IN_GROUP:n="不在群组中";break;case RongIMLib.ErrorCode.NOT_IN_CHATROOM:n="不在聊天室中";break;default:}i&&i({info:n,message:t}),console.log("发送失败: ".concat(n).concat(e))}})}},{key:"joinChatRoom",value:function(e){var t=e.chatRoomId,n=e.count,o=void 0===n?0:n,s=e.success,r=e.error;d.getInstance().joinChatRoom(t,o,{onSuccess:function(){console.log("加入聊天室成功。"),s&&s(!0)},onError:function(e){if(r)switch(e){case-1:r("网络超时");break;default:r("加入聊天室失败");break}}})}},{key:"quitChatRoom",value:function(e){var t=e.chatRoomId,n=e.success,o=e.error;d.getInstance().quitChatRoom(t,{onSuccess:function(){console.log("退出聊天室成功。"),n&&n(!0)},onError:function(e){if(o)switch(e){case-1:o("网络超时");break;default:o("退出聊天室失败");break}}})}},{key:"getChatRoomInfo",value:function(e){var t=e.chatRoomId,n=e.count,o=e.success,s=e.error,r=RongIMLib.GetChatRoomType.REVERSE;d.getInstance().getChatRoomInfo(t,n,r,{onSuccess:function(e){o&&o(e)},onError:function(e){s&&s(e)}})}},{key:"getChatRoomHistoryMessages",value:function(e){var t=e.chatRoomId,n=e.count,o=void 0===n?20:n,s=e.order,r=void 0===s?1:s,i=e.success,a=e.error;d.getInstance().getChatRoomHistoryMessages(t,o,r,{onSuccess:function(e,t){i&&i(e,t)},onError:function(e){a&&a(e)}})}},{key:"registerMessage",value:function(e,t){var n=e,o="s:".concat(e),s=new RongIMLib.MessageTag(!0,!0);d.registerMessageType(n,o,s,t)}},{key:"sendPersonMessage",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,o,s,r,i,a,c,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.conversationType,o=t.targetId,s=t.content,r=t.success,i=t.error,a=["msgType","msg","avatar","sentUser"],this.registerMessage("PersonMessage",a),c=new d.RegisterMessage.PersonMessage(s),u=RongIMLib.ConversationType[n],e.next=7,d.getInstance().sendMessage(u,o,c,{onSuccess:function(e){r&&r(e)},onError:function(e,t){var n="";switch(e){case RongIMLib.ErrorCode.TIMEOUT:n="超时";break;case RongIMLib.ErrorCode.UNKNOWN:n="未知错误";break;case RongIMLib.ErrorCode.NOT_IN_CHATROOM:n="不在聊天室中";break;case RongIMLib.ErrorCode.RC_CHATROOM_USER_KICKED:n="您已被踢出并禁止加入聊天室。";break;case RongIMLib.ErrorCode.FORBIDDEN_IN_CHATROOM:n="您在该聊天室中已被禁言。";break;default:}i&&i(n,t)}});case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),f=n("c88c"),m=n("653a"),h=n("5795");n.d(t,"a",function(){return C});var C=function(){function e(){Object(o["a"])(this,e)}return Object(s["a"])(e,null,[{key:"rongCloudStart",value:function(){var e=this,t=h["a"].getUserInfo(),n=t.user_id;l.getRongCloudToken({userId:n,name:n,portraitUrl:u.avatar}).then(function(t){var n=t.token,o=t.userId;console.log(n),m["a"].commit("setRongCloudToken",n),e.connectRongCloud(n,o)})}},{key:"connectRongCloud",value:function(e,t){var n=this,o=u.appKey;p.start({appKey:o,token:e,userId:t,callbacks:{connectSuccess:function(){m["a"].commit("setRongCloudConnect",!0)},connectionStatusListener:function(e){n.connectionStatusListener(e)},receiveNewMessage:function(e){n.receiveNewMessage(e)},onError:function(e){console.log(e)}}})}},{key:"connectionStatusListener",value:function(t){var n=t.code,o=t.message;switch(n){case 0:Object(f["a"])();break;case 3:e.disconnect(),Object(f["c"])(o);break;case 4:e.disconnect(),Object(f["c"])(o);break;case 6:e.disconnect(),Object(f["c"])(o);break;case 12:e.disconnect(),Object(f["c"])(o);break;default:break}}},{key:"receiveNewMessage",value:function(e){var t=e.content.message||e,n=t.content;console.log("监听收到的消息"),console.log(e),h["a"].getUserInfo().user_id===n.sentUser?n.msgType="my":n.msgType="friend",m["a"].commit("addChatList",this.makeChatDetailData(n.msgType,n.msg,n.avatar,n.sentUser,e.messageId,e.targetId,e.receivedTime,e.sentTime))}},{key:"sendPersonMessage",value:function(e){var t=this,n=e.conversationType,o=e.targetId,s=e.content,r=e.success,i=n||"CHATROOM";p.sendPersonMessage({conversationType:i,targetId:o,content:s,success:function(e){m["a"].commit("addChatList",t.makeChatDetailData(e.content.msgType,e.content.msg,e.content.avatar,e.content.sentUser,e.messageId,e.targetId,e.receivedTime,e.sentTime)),r&&r(e)},error:function(e){return Object(f["c"])(e+"sss")}})}},{key:"makeChatDetailData",value:function(e,t,n,o,s,r,i,a){return{msgType:e,msg:t,avatar:n,sentUser:o,messageId:s,targetId:r,receivedTime:i,sentTime:a}}},{key:"disconnect",value:function(){p.disconnect()}}]),e}();Object(r["a"])(C,"joinChatRoom",function(e){var t=e.chatRoomId,n=e.success;Object(f["b"])("加入中..."),p.joinChatRoom({chatRoomId:t,success:function(){Object(f["a"])(),n()},error:function(e){Object(f["a"])(),Object(f["c"])(e)}})}),Object(r["a"])(C,"quitChatRoom",function(e){var t=e.chatRoomId,n=e.success;Object(f["b"])("退出中..."),p.quitChatRoom({chatRoomId:t,success:function(){Object(f["a"])(),n()},error:function(e){Object(f["a"])(),Object(f["c"])(e)}})})},5795:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n("d225"),s=n("bd86"),r=n("a78e"),i=n.n(r),a={TOKEN_KEY:"token"},c=function e(){Object(o["a"])(this,e)};Object(s["a"])(c,"setToken",function(e){i.a.set(a.TOKEN_KEY,e,{expires:7})}),Object(s["a"])(c,"getToken",function(){var e=i.a.get(a.TOKEN_KEY);return e||!1}),Object(s["a"])(c,"setUserInfo",function(e){localStorage.userInfo=JSON.stringify(e)}),Object(s["a"])(c,"getUserInfo",function(){var e=localStorage,t=e.userInfo;return!!t&&JSON.parse(t)}),Object(s["a"])(c,"clean",function(e){i.a.remove(a.TOKEN_KEY),localStorage.removeItem("userInfo"),e&&e()}),Object(s["a"])(c,"setGlobalConfig",function(e){localStorage.globalConfig=JSON.stringify(e)}),Object(s["a"])(c,"getGlobalConfig",function(){var e=localStorage,t=e.globalConfig;return!!t&&JSON.parse(t)})},5932:function(e,t,n){},"5d98":function(e,t,n){},"60d5":function(e,t,n){"use strict";var o=n("8343"),s=n.n(o);s.a},"64a9":function(e,t,n){},"653a":function(e,t,n){"use strict";var o=n("2b0e"),s=n("2f62");o["default"].use(s["a"]),t["a"]=new s["a"].Store({state:{token:"",rcConnectStatus:!1,chatList:[]},mutations:{setRongCloudToken:function(e,t){e.token=t},setRongCloudConnect:function(e,t){e.rcConnectStatus=t},addChatList:function(e,t){e.chatList.push(t)}},actions:{}})},6568:function(e,t,n){},"658d":function(e,t,n){"use strict";var o=n("b776"),s=n.n(o);s.a},"69ac":function(e,t,n){},"6f3e":function(e,t,n){"use strict";var o=n("2133"),s=n.n(o);s.a},"6f64":function(e,t,n){e.exports=n.p+"img/fivestar.b24ae363.svg"},7169:function(e,t,n){"use strict";var o=n("6568"),s=n.n(o);s.a},"72cf":function(e,t,n){e.exports=n.p+"img/icon_canvas.48d8c1de.png"},7864:function(e,t,n){},8205:function(e,t,n){"use strict";var o=n("2342"),s=n.n(o);s.a},"821a":function(e,t,n){"use strict";var o=n("e2f8"),s=n.n(o);s.a},8343:function(e,t,n){},"886b":function(e,t,n){},"89da":function(e,t,n){},"8c95":function(e,t,n){"use strict";var o=n("0075"),s=n.n(o);s.a},"8f70":function(e,t,n){},9466:function(e,t,n){"use strict";var o=n("8f70"),s=n.n(o);s.a},"94a1":function(e,t,n){"use strict";var o=n("f02d"),s=n.n(o);s.a},9614:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("d225"),s=n("bd86"),r=function e(){Object(o["a"])(this,e)};Object(s["a"])(r,"domain","https://mock.test"),Object(s["a"])(r,"chatListUrl","".concat(r.domain,"/chat-list-url")),Object(s["a"])(r,"getToken","".concat(r.domain,"/getToken")),Object(s["a"])(r,"friendList","".concat(r.domain,"/friendList")),Object(s["a"])(r,"vueList","".concat(r.domain,"/vueListUrl")),Object(s["a"])(r,"jsNativeList","".concat(r.domain,"/jsNativeList")),Object(s["a"])(r,"strategyList","".concat(r.domain,"/strategyList")),Object(s["a"])(r,"meItemList","".concat(r.domain,"/meItemList"))},9639:function(e,t,n){"use strict";var o=n("4aa4"),s=n.n(o);s.a},"97eb":function(e,t,n){e.exports=n.p+"img/zidingyi.fd9ebfa4.svg"},"996a":function(e,t,n){e.exports=n.p+"img/不过是一场宿醉.f3a5f234.jpg"},"9c98":function(e,t,n){"use strict";var o=n("dafd"),s=n.n(o);s.a},"9f6a":function(e,t,n){},a1be:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var core_js_modules_es6_string_sub__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("673e"),core_js_modules_es6_string_sub__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_string_sub__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("3b2b"),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_typed_uint8_array__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("34ef"),core_js_modules_es6_typed_uint8_array__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_typed_uint8_array__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_typed_int8_array__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("b05c"),core_js_modules_es6_typed_int8_array__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_typed_int8_array__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_regexp_flags__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("3846"),core_js_modules_es6_regexp_flags__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_regexp_flags__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("4917"),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_11__),F_project_vue_wechat_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("7618");!function(e,t){if("object"==("undefined"===typeof exports?"undefined":Object(F_project_vue_wechat_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_12__["a"])(exports))&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&__webpack_require__("3c35"))define(t);else{var n=t(),o=n.RongIMClient,s=!!e.RongIMLib;if(s){var r=RongIMLib.RongIMClient||{};for(var i in r)o[i]=r[i]}e.RongIMLib=n,e.RongIMClient=o}}(window,function(){var Polling={SetUserStatusInput:function(){var e={};this.setStatus=function(t){e.status=t},this.toArrayBuffer=function(){return e}},SetUserStatusOutput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},GetUserStatusInput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},GetUserStatusOutput:function(){var e={};this.setStatus=function(t){e.status=t},this.setSubUserId=function(t){e.subUserId=t},this.toArrayBuffer=function(){return e}},VoipDynamicInput:function(){var e={};this.setEngineType=function(t){e.engineType=t},this.setChannelName=function(t){e.channelName=t},this.setChannelExtra=function(t){e.channelExtra=t},this.toArrayBuffer=function(){return e}},VoipDynamicOutput:function(){var e={};this.setDynamicKey=function(t){e.dynamicKey=t},this.toArrayBuffer=function(){return e}},SubUserStatusInput:function(){var e={};this.setUserid=function(t){e.userid=t},this.toArrayBuffer=function(){return e}},SubUserStatusOutput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},CleanHisMsgInput:function(){var e={};this.setTargetId=function(t){e.targetId=t},this.setDataTime=function(t){e.dataTime=t},this.setConversationType=function(t){e.conversationType=t},this.toArrayBuffer=function(){return e}},DeleteMsgInput:function(){var e={};this.setType=function(t){e.type=t},this.setConversationId=function(t){e.conversationId=t},this.setMsgs=function(t){e.msgs=t},this.toArrayBuffer=function(){return e}},DeleteMsg:function(){var e={};this.setMsgId=function(t){e.msgId=t},this.setMsgDataTime=function(t){e.msgDataTime=t},this.setDirect=function(t){e.direct=t},this.toArrayBuffer=function(){return e}},DeleteMsgOutput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},SearchMpInput:function(){var e={};this.setType=function(t){e.type=t},this.setId=function(t){e.id=t},this.toArrayBuffer=function(){return e}},SearchMpOutput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.setInfo=function(t){e.info=t},this.toArrayBuffer=function(){return e}},MpInfo:function(){var e={};this.setMpid=function(t){e.mpid=t},this.setName=function(t){e.name=t},this.setType=function(t){e.type=t},this.setTime=function(t){e.time=t},this.setPortraitUri=function(t){e.portraitUrl=t},this.setExtra=function(t){e.extra=t},this.toArrayBuffer=function(){return e}},PullMpInput:function(){var e={};this.setMpid=function(t){e.mpid=t},this.setTime=function(t){e.time=t},this.toArrayBuffer=function(){return e}},PullMpOutput:function(){var e={};this.setStatus=function(t){e.status=t},this.setInfo=function(t){e.info=t},this.toArrayBuffer=function(){return e}},MPFollowInput:function(){var e={};this.setId=function(t){e.id=t},this.toArrayBuffer=function(){return e}},MPFollowOutput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.setInfo=function(t){e.info=t},this.toArrayBuffer=function(){return e}},NotifyMsg:function(){var e={};this.setType=function(t){e.type=t},this.setTime=function(t){e.time=t},this.setChrmId=function(t){e.chrmId=t},this.toArrayBuffer=function(){return e}},SyncRequestMsg:function(){var e={};this.setSyncTime=function(t){e.syncTime=t||0},this.setIspolling=function(t){e.ispolling=!!t},this.setIsweb=function(t){e.isweb=!!t},this.setIsPullSend=function(t){e.isPullSend=!!t},this.setSendBoxSyncTime=function(t){e.sendBoxSyncTime=t},this.toArrayBuffer=function(){return e}},UpStreamMessage:function(){var e={};this.setSessionId=function(t){e.sessionId=t},this.setClassname=function(t){e.classname=t},this.setContent=function(t){t&&(e.content=t)},this.setPushText=function(t){e.pushText=t},this.setUserId=function(t){e.userId=t},this.setAppData=function(t){e.appData=t},this.toArrayBuffer=function(){return e}},DownStreamMessages:function(){var e={};this.setList=function(t){e.list=t},this.setSyncTime=function(t){e.syncTime=t},this.setFinished=function(t){e.finished=t},this.toArrayBuffer=function(){return e}},DownStreamMessage:function(){var e={};this.setFromUserId=function(t){e.fromUserId=t},this.setType=function(t){e.type=t},this.setGroupId=function(t){e.groupId=t},this.setClassname=function(t){e.classname=t},this.setContent=function(t){t&&(e.content=t)},this.setDataTime=function(t){e.dataTime=t},this.setStatus=function(t){e.status=t},this.setMsgId=function(t){e.msgId=t},this.toArrayBuffer=function(){return e}},CreateDiscussionInput:function(){var e={};this.setName=function(t){e.name=t},this.toArrayBuffer=function(){return e}},CreateDiscussionOutput:function(){var e={};this.setId=function(t){e.id=t},this.toArrayBuffer=function(){return e}},ChannelInvitationInput:function(){var e={};this.setUsers=function(t){e.users=t},this.toArrayBuffer=function(){return e}},LeaveChannelInput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},QueryChatroomInfoInput:function(){var e={};this.setCount=function(t){e.count=t},this.setOrder=function(t){e.order=t},this.toArrayBuffer=function(){return e}},QueryChatroomInfoOutput:function(){var e={};this.setUserTotalNums=function(t){e.userTotalNums=t},this.setUserInfos=function(t){e.userInfos=t},this.toArrayBuffer=function(){return e}},ChannelEvictionInput:function(){var e={};this.setUser=function(t){e.user=t},this.toArrayBuffer=function(){return e}},RenameChannelInput:function(){var e={};this.setName=function(t){e.name=t},this.toArrayBuffer=function(){return e}},ChannelInfoInput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},ChannelInfoOutput:function(){var e={};this.setType=function(t){e.type=t},this.setChannelId=function(t){e.channelId=t},this.setChannelName=function(t){e.channelName=t},this.setAdminUserId=function(t){e.adminUserId=t},this.setFirstTenUserIds=function(t){e.firstTenUserIds=t},this.setOpenStatus=function(t){e.openStatus=t},this.toArrayBuffer=function(){return e}},ChannelInfosInput:function(){var e={};this.setPage=function(t){e.page=t},this.setNumber=function(t){e.number=t},this.toArrayBuffer=function(){return e}},ChannelInfosOutput:function(){var e={};this.setChannels=function(t){e.channels=t},this.setTotal=function(t){e.total=t},this.toArrayBuffer=function(){return e}},MemberInfo:function(){var e={};this.setUserId=function(t){e.userId=t},this.setUserName=function(t){e.userName=t},this.setUserPortrait=function(t){e.userPortrait=t},this.setExtension=function(t){e.extension=t},this.toArrayBuffer=function(){return e}},GroupMembersInput:function(){var e={};this.setPage=function(t){e.page=t},this.setNumber=function(t){e.number=t},this.toArrayBuffer=function(){return e}},GroupMembersOutput:function(){var e={};this.setMembers=function(t){e.members=t},this.setTotal=function(t){e.total=t},this.toArrayBuffer=function(){return e}},GetUserInfoInput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},GetUserInfoOutput:function(){var e={};this.setUserId=function(t){e.userId=t},this.setUserName=function(t){e.userName=t},this.setUserPortrait=function(t){e.userPortrait=t},this.toArrayBuffer=function(){return e}},GetSessionIdInput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},GetSessionIdOutput:function(){var e={};this.setSessionId=function(t){e.sessionId=t},this.toArrayBuffer=function(){return e}},GetQNupTokenInput:function(){var e={};this.setType=function(t){e.type=t},this.toArrayBuffer=function(){return e}},GetQNupTokenOutput:function(){var e={};this.setDeadline=function(t){e.deadline=t},this.setToken=function(t){e.token=t},this.toArrayBuffer=function(){return e}},GetQNdownloadUrlInput:function(){var e={};this.setType=function(t){e.type=t},this.setKey=function(t){e.key=t},this.setFileName=function(t){e.fileName=t},this.toArrayBuffer=function(){return e}},GetQNdownloadUrlOutput:function(){var e={};this.setDownloadUrl=function(t){e.downloadUrl=t},this.toArrayBuffer=function(){return e}},Add2BlackListInput:function(){var e={};this.setUserId=function(t){e.userId=t},this.toArrayBuffer=function(){return e}},RemoveFromBlackListInput:function(){var e={};this.setUserId=function(t){e.userId=t},this.toArrayBuffer=function(){return e}},QueryBlackListInput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},QueryBlackListOutput:function(){var e={};this.setUserIds=function(t){e.userIds=t},this.toArrayBuffer=function(){return e}},BlackListStatusInput:function(){var e={};this.setUserId=function(t){e.userId=t},this.toArrayBuffer=function(){return e}},BlockPushInput:function(){var e={};this.setBlockeeId=function(t){e.blockeeId=t},this.toArrayBuffer=function(){return e}},ModifyPermissionInput:function(){var e={};this.setOpenStatus=function(t){e.openStatus=t},this.toArrayBuffer=function(){return e}},GroupInput:function(){var e={};this.setGroupInfo=function(t){for(var n=0,o=[];n<t.length;n++)o.push({id:t[n].getContent().id,name:t[n].getContent().name});e.groupInfo=o},this.toArrayBuffer=function(){return e}},GroupOutput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},GroupInfo:function(){var e={};this.setId=function(t){e.id=t},this.setName=function(t){e.name=t},this.getContent=function(){return e},this.toArrayBuffer=function(){return e}},GroupHashInput:function(){var e={};this.setUserId=function(t){e.userId=t},this.setGroupHashCode=function(t){e.groupHashCode=t},this.toArrayBuffer=function(){return e}},GroupHashOutput:function(){var e={};this.setResult=function(t){e.result=t},this.toArrayBuffer=function(){return e}},ChrmInput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},ChrmOutput:function(){var e={};this.setNothing=function(t){e.nothing=t},this.toArrayBuffer=function(){return e}},ChrmPullMsg:function(){var e={};this.setSyncTime=function(t){e.syncTime=t},this.setCount=function(t){e.count=t},this.toArrayBuffer=function(){return e}},RelationsInput:function(){var e={};this.setType=function(t){e.type=t},this.setMsg=function(t){e.msg=t},this.setCount=function(t){e.count=t},this.toArrayBuffer=function(){return e}},RelationsOutput:function(){var e={};this.setInfo=function(t){e.info=t},this.toArrayBuffer=function(){return e}},RelationInfo:function(){var e={};this.setType=function(t){e.type=t},this.setUserId=function(t){e.userId=t},this.setMsg=function(t){e.msg=t},this.toArrayBuffer=function(){return e}},HistoryMessageInput:function(){var e={};this.setTargetId=function(t){e.targetId=t},this.setDataTime=function(t){e.dataTime=t},this.setSize=function(t){e.size=t},this.toArrayBuffer=function(){return e}},HistoryMessagesOuput:function(){var e={};this.setList=function(t){e.list=t},this.setSyncTime=function(t){e.syncTime=t},this.setHasMsg=function(t){e.hasMsg=t},this.toArrayBuffer=function(){return e}},HistoryMsgInput:function(){var e={};this.setTargetId=function(t){e.targetId=t},this.setTime=function(t){e.time=t},this.setCount=function(t){e.count=t},this.setOrder=function(t){e.order=t},this.toArrayBuffer=function(){return e}},HistoryMsgOuput:function(){var e={};this.setList=function(t){e.list=t},this.setSyncTime=function(t){e.syncTime=t},this.setHasMsg=function(t){e.hasMsg=t},this.toArrayBuffer=function(){return e}}};for(var f in Polling)Polling[f].decode=function(b){var back={},val=JSON.parse(b)||eval("("+b+")");for(var i in val)back[i]=val[i],back["get"+i.charAt(0).toUpperCase()+i.slice(1)]=function(){return val[i]};return back};var md5=function(){function e(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function t(e,t){return e<<t|e>>>32-t}function n(n,o,s,r,i,a){return e(t(e(e(o,n),e(r,a)),i),s)}function o(e,t,o,s,r,i,a){return n(t&o|~t&s,e,t,r,i,a)}function s(e,t,o,s,r,i,a){return n(t&s|o&~s,e,t,r,i,a)}function r(e,t,o,s,r,i,a){return n(t^o^s,e,t,r,i,a)}function i(e,t,o,s,r,i,a){return n(o^(t|~s),e,t,r,i,a)}function a(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;var a,c,u,l,g,d=1732584193,p=-271733879,f=-1732584194,m=271733878;for(a=0;a<t.length;a+=16)c=d,u=p,l=f,g=m,d=o(d,p,f,m,t[a],7,-680876936),m=o(m,d,p,f,t[a+1],12,-389564586),f=o(f,m,d,p,t[a+2],17,606105819),p=o(p,f,m,d,t[a+3],22,-1044525330),d=o(d,p,f,m,t[a+4],7,-176418897),m=o(m,d,p,f,t[a+5],12,1200080426),f=o(f,m,d,p,t[a+6],17,-1473231341),p=o(p,f,m,d,t[a+7],22,-45705983),d=o(d,p,f,m,t[a+8],7,1770035416),m=o(m,d,p,f,t[a+9],12,-1958414417),f=o(f,m,d,p,t[a+10],17,-42063),p=o(p,f,m,d,t[a+11],22,-1990404162),d=o(d,p,f,m,t[a+12],7,1804603682),m=o(m,d,p,f,t[a+13],12,-40341101),f=o(f,m,d,p,t[a+14],17,-1502002290),p=o(p,f,m,d,t[a+15],22,1236535329),d=s(d,p,f,m,t[a+1],5,-165796510),m=s(m,d,p,f,t[a+6],9,-1069501632),f=s(f,m,d,p,t[a+11],14,643717713),p=s(p,f,m,d,t[a],20,-373897302),d=s(d,p,f,m,t[a+5],5,-701558691),m=s(m,d,p,f,t[a+10],9,38016083),f=s(f,m,d,p,t[a+15],14,-660478335),p=s(p,f,m,d,t[a+4],20,-405537848),d=s(d,p,f,m,t[a+9],5,568446438),m=s(m,d,p,f,t[a+14],9,-1019803690),f=s(f,m,d,p,t[a+3],14,-187363961),p=s(p,f,m,d,t[a+8],20,1163531501),d=s(d,p,f,m,t[a+13],5,-1444681467),m=s(m,d,p,f,t[a+2],9,-51403784),f=s(f,m,d,p,t[a+7],14,1735328473),p=s(p,f,m,d,t[a+12],20,-1926607734),d=r(d,p,f,m,t[a+5],4,-378558),m=r(m,d,p,f,t[a+8],11,-2022574463),f=r(f,m,d,p,t[a+11],16,1839030562),p=r(p,f,m,d,t[a+14],23,-35309556),d=r(d,p,f,m,t[a+1],4,-1530992060),m=r(m,d,p,f,t[a+4],11,1272893353),f=r(f,m,d,p,t[a+7],16,-155497632),p=r(p,f,m,d,t[a+10],23,-1094730640),d=r(d,p,f,m,t[a+13],4,681279174),m=r(m,d,p,f,t[a],11,-358537222),f=r(f,m,d,p,t[a+3],16,-722521979),p=r(p,f,m,d,t[a+6],23,76029189),d=r(d,p,f,m,t[a+9],4,-640364487),m=r(m,d,p,f,t[a+12],11,-421815835),f=r(f,m,d,p,t[a+15],16,530742520),p=r(p,f,m,d,t[a+2],23,-995338651),d=i(d,p,f,m,t[a],6,-198630844),m=i(m,d,p,f,t[a+7],10,1126891415),f=i(f,m,d,p,t[a+14],15,-1416354905),p=i(p,f,m,d,t[a+5],21,-57434055),d=i(d,p,f,m,t[a+12],6,1700485571),m=i(m,d,p,f,t[a+3],10,-1894986606),f=i(f,m,d,p,t[a+10],15,-1051523),p=i(p,f,m,d,t[a+1],21,-2054922799),d=i(d,p,f,m,t[a+8],6,1873313359),m=i(m,d,p,f,t[a+15],10,-30611744),f=i(f,m,d,p,t[a+6],15,-1560198380),p=i(p,f,m,d,t[a+13],21,1309151649),d=i(d,p,f,m,t[a+4],6,-145523070),m=i(m,d,p,f,t[a+11],10,-1120210379),f=i(f,m,d,p,t[a+2],15,718787259),p=i(p,f,m,d,t[a+9],21,-343485551),d=e(d,c),p=e(p,u),f=e(f,l),m=e(m,g);return[d,p,f,m]}function c(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function l(e){return c(a(u(e),8*e.length))}function g(e,t){var n,o,s=u(e),r=[],i=[];for(r[15]=i[15]=void 0,s.length>16&&(s=a(s,8*e.length)),n=0;n<16;n+=1)r[n]=909522486^s[n],i[n]=1549556828^s[n];return o=a(r.concat(u(t)),512+8*t.length),c(a(i.concat(o),640))}function d(e){var t,n,o="0123456789abcdef",s="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),s+=o.charAt(t>>>4&15)+o.charAt(15&t);return s}function p(e){return unescape(encodeURIComponent(e))}function f(e){return l(p(e))}function m(e){return d(f(e))}function h(e,t){return g(p(e),p(t))}function C(e,t){return d(h(e,t))}function _(e,t,n){return t?n?h(t,e):C(t,e):n?f(e):m(e)}return _}(),RongIMLib,RongIMLib,RongIMLib;!function(e){!function(e){e[e.ALL=1]="ALL",e[e.PART=2]="PART"}(e.MentionedType||(e.MentionedType={})),e.MentionedType,function(e){e[e.CUSTOMER_SERVICE=1]="CUSTOMER_SERVICE",e[e.RECALL=2]="RECALL"}(e.MethodType||(e.MethodType={})),e.MethodType,function(e){e[e.IN_BLACK_LIST=0]="IN_BLACK_LIST",e[e.NOT_IN_BLACK_LIST=1]="NOT_IN_BLACK_LIST"}(e.BlacklistStatus||(e.BlacklistStatus={})),e.BlacklistStatus,function(e){e[e.XHR_POLLING=0]="XHR_POLLING",e[e.WEBSOCKET=1]="WEBSOCKET",e[e.HTTP=0]="HTTP",e[e.HTTPS=1]="HTTPS"}(e.ConnectionChannel||(e.ConnectionChannel={})),e.ConnectionChannel,function(e){e[e.ONLY_ROBOT=1]="ONLY_ROBOT",e[e.ONLY_HUMAN=2]="ONLY_HUMAN",e[e.ROBOT_FIRST=3]="ROBOT_FIRST",e[e.HUMAN_FIRST=4]="HUMAN_FIRST"}(e.CustomerType||(e.CustomerType={})),e.CustomerType,function(e){e[e.NONE=0]="NONE",e[e.SQQUENCE=1]="SQQUENCE",e[e.REVERSE=2]="REVERSE"}(e.GetChatRoomType||(e.GetChatRoomType={})),e.GetChatRoomType,function(e){e[e.CONNECTED=0]="CONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.DISCONNECTED=2]="DISCONNECTED",e[e.KICKED_OFFLINE_BY_OTHER_CLIENT=6]="KICKED_OFFLINE_BY_OTHER_CLIENT",e[e.WEBSOCKET_UNAVAILABLE=7]="WEBSOCKET_UNAVAILABLE",e[e.NETWORK_UNAVAILABLE=3]="NETWORK_UNAVAILABLE",e[e.DOMAIN_INCORRECT=12]="DOMAIN_INCORRECT",e[e.CONNECTION_CLOSED=4]="CONNECTION_CLOSED",e[e.ULTRALIMIT=1101]="ULTRALIMIT",e[e.REQUEST_NAVI=201]="REQUEST_NAVI",e[e.RESPONSE_NAVI=202]="RESPONSE_NAVI"}(e.ConnectionStatus||(e.ConnectionStatus={})),e.ConnectionStatus,function(e){e[e.DO_NOT_DISTURB=0]="DO_NOT_DISTURB",e[e.NOTIFY=1]="NOTIFY"}(e.ConversationNotificationStatus||(e.ConversationNotificationStatus={})),e.ConversationNotificationStatus,function(e){e[e.NONE=0]="NONE",e[e.PRIVATE=1]="PRIVATE",e[e.DISCUSSION=2]="DISCUSSION",e[e.GROUP=3]="GROUP",e[e.CHATROOM=4]="CHATROOM",e[e.CUSTOMER_SERVICE=5]="CUSTOMER_SERVICE",e[e.SYSTEM=6]="SYSTEM",e[e.APP_PUBLIC_SERVICE=7]="APP_PUBLIC_SERVICE",e[e.PUBLIC_SERVICE=8]="PUBLIC_SERVICE"}(e.ConversationType||(e.ConversationType={})),e.ConversationType,function(e){e[e.OPENED=0]="OPENED",e[e.CLOSED=1]="CLOSED"}(e.DiscussionInviteStatus||(e.DiscussionInviteStatus={})),e.DiscussionInviteStatus,function(e){e[e.RECALL_MESSAGE=25101]="RECALL_MESSAGE",e[e.SEND_FREQUENCY_TOO_FAST=20604]="SEND_FREQUENCY_TOO_FAST",e[e.RC_MSG_UNAUTHORIZED=20406]="RC_MSG_UNAUTHORIZED",e[e.RC_DISCUSSION_GROUP_ID_INVALID=20407]="RC_DISCUSSION_GROUP_ID_INVALID",e[e.FORBIDDEN_IN_GROUP=22408]="FORBIDDEN_IN_GROUP",e[e.NOT_IN_DISCUSSION=21406]="NOT_IN_DISCUSSION",e[e.NOT_IN_GROUP=22406]="NOT_IN_GROUP",e[e.NOT_IN_CHATROOM=23406]="NOT_IN_CHATROOM",e[e.FORBIDDEN_IN_CHATROOM=23408]="FORBIDDEN_IN_CHATROOM",e[e.RC_CHATROOM_USER_KICKED=23409]="RC_CHATROOM_USER_KICKED",e[e.RC_CHATROOM_NOT_EXIST=23410]="RC_CHATROOM_NOT_EXIST",e[e.RC_CHATROOM_IS_FULL=23411]="RC_CHATROOM_IS_FULL",e[e.RC_CHATROOM_PATAMETER_INVALID=23412]="RC_CHATROOM_PATAMETER_INVALID",e[e.CHATROOM_GET_HISTORYMSG_ERROR=23413]="CHATROOM_GET_HISTORYMSG_ERROR",e[e.CHATROOM_NOT_OPEN_HISTORYMSG_STORE=23414]="CHATROOM_NOT_OPEN_HISTORYMSG_STORE",e[e.SENSITIVE_SHIELD=21501]="SENSITIVE_SHIELD",e[e.SENSITIVE_REPLACE=21502]="SENSITIVE_REPLACE",e[e.TIMEOUT=-1]="TIMEOUT",e[e.UNKNOWN=-2]="UNKNOWN",e[e.JOIN_IN_DISCUSSION=21407]="JOIN_IN_DISCUSSION",e[e.CREATE_DISCUSSION=21408]="CREATE_DISCUSSION",e[e.INVITE_DICUSSION=21409]="INVITE_DICUSSION",e[e.GET_USERINFO_ERROR=23407]="GET_USERINFO_ERROR",e[e.REJECTED_BY_BLACKLIST=405]="REJECTED_BY_BLACKLIST",e[e.RC_NET_CHANNEL_INVALID=30001]="RC_NET_CHANNEL_INVALID",e[e.RC_NET_UNAVAILABLE=30002]="RC_NET_UNAVAILABLE",e[e.RC_MSG_RESP_TIMEOUT=30003]="RC_MSG_RESP_TIMEOUT",e[e.RC_HTTP_SEND_FAIL=30004]="RC_HTTP_SEND_FAIL",e[e.RC_HTTP_REQ_TIMEOUT=30005]="RC_HTTP_REQ_TIMEOUT",e[e.RC_HTTP_RECV_FAIL=30006]="RC_HTTP_RECV_FAIL",e[e.RC_NAVI_RESOURCE_ERROR=30007]="RC_NAVI_RESOURCE_ERROR",e[e.RC_NODE_NOT_FOUND=30008]="RC_NODE_NOT_FOUND",e[e.RC_DOMAIN_NOT_RESOLVE=30009]="RC_DOMAIN_NOT_RESOLVE",e[e.RC_SOCKET_NOT_CREATED=30010]="RC_SOCKET_NOT_CREATED",e[e.RC_SOCKET_DISCONNECTED=30011]="RC_SOCKET_DISCONNECTED",e[e.RC_PING_SEND_FAIL=30012]="RC_PING_SEND_FAIL",e[e.RC_PONG_RECV_FAIL=30013]="RC_PONG_RECV_FAIL",e[e.RC_MSG_SEND_FAIL=30014]="RC_MSG_SEND_FAIL",e[e.RC_CONN_ACK_TIMEOUT=31e3]="RC_CONN_ACK_TIMEOUT",e[e.RC_CONN_PROTO_VERSION_ERROR=31001]="RC_CONN_PROTO_VERSION_ERROR",e[e.RC_CONN_ID_REJECT=31002]="RC_CONN_ID_REJECT",e[e.RC_CONN_SERVER_UNAVAILABLE=31003]="RC_CONN_SERVER_UNAVAILABLE",e[e.RC_CONN_USER_OR_PASSWD_ERROR=31004]="RC_CONN_USER_OR_PASSWD_ERROR",e[e.RC_CONN_NOT_AUTHRORIZED=31005]="RC_CONN_NOT_AUTHRORIZED",e[e.RC_CONN_REDIRECTED=31006]="RC_CONN_REDIRECTED",e[e.RC_CONN_PACKAGE_NAME_INVALID=31007]="RC_CONN_PACKAGE_NAME_INVALID",e[e.RC_CONN_APP_BLOCKED_OR_DELETED=31008]="RC_CONN_APP_BLOCKED_OR_DELETED",e[e.RC_CONN_USER_BLOCKED=31009]="RC_CONN_USER_BLOCKED",e[e.RC_DISCONN_KICK=31010]="RC_DISCONN_KICK",e[e.RC_DISCONN_EXCEPTION=31011]="RC_DISCONN_EXCEPTION",e[e.RC_QUERY_ACK_NO_DATA=32001]="RC_QUERY_ACK_NO_DATA",e[e.RC_MSG_DATA_INCOMPLETE=32002]="RC_MSG_DATA_INCOMPLETE",e[e.BIZ_ERROR_CLIENT_NOT_INIT=33001]="BIZ_ERROR_CLIENT_NOT_INIT",e[e.BIZ_ERROR_DATABASE_ERROR=33002]="BIZ_ERROR_DATABASE_ERROR",e[e.BIZ_ERROR_INVALID_PARAMETER=33003]="BIZ_ERROR_INVALID_PARAMETER",e[e.BIZ_ERROR_NO_CHANNEL=33004]="BIZ_ERROR_NO_CHANNEL",e[e.BIZ_ERROR_RECONNECT_SUCCESS=33005]="BIZ_ERROR_RECONNECT_SUCCESS",e[e.BIZ_ERROR_CONNECTING=33006]="BIZ_ERROR_CONNECTING",e[e.MSG_ROAMING_SERVICE_UNAVAILABLE=33007]="MSG_ROAMING_SERVICE_UNAVAILABLE",e[e.MSG_INSERT_ERROR=33008]="MSG_INSERT_ERROR",e[e.MSG_DEL_ERROR=33009]="MSG_DEL_ERROR",e[e.CONVER_REMOVE_ERROR=34001]="CONVER_REMOVE_ERROR",e[e.CONVER_GETLIST_ERROR=34002]="CONVER_GETLIST_ERROR",e[e.CONVER_SETOP_ERROR=34003]="CONVER_SETOP_ERROR",e[e.CONVER_TOTAL_UNREAD_ERROR=34004]="CONVER_TOTAL_UNREAD_ERROR",e[e.CONVER_TYPE_UNREAD_ERROR=34005]="CONVER_TYPE_UNREAD_ERROR",e[e.CONVER_ID_TYPE_UNREAD_ERROR=34006]="CONVER_ID_TYPE_UNREAD_ERROR",e[e.CONVER_CLEAR_ERROR=34007]="CONVER_CLEAR_ERROR",e[e.CLEAR_HIS_ERROR=34010]="CLEAR_HIS_ERROR",e[e.CLEAR_HIS_TYPE_ERROR=34008]="CLEAR_HIS_TYPE_ERROR",e[e.CLEAR_HIS_TIME_ERROR=34011]="CLEAR_HIS_TIME_ERROR",e[e.CONVER_GET_ERROR=34009]="CONVER_GET_ERROR",e[e.GROUP_SYNC_ERROR=35001]="GROUP_SYNC_ERROR",e[e.GROUP_MATCH_ERROR=35002]="GROUP_MATCH_ERROR",e[e.CHATROOM_ID_ISNULL=36001]="CHATROOM_ID_ISNULL",e[e.CHARTOOM_JOIN_ERROR=36002]="CHARTOOM_JOIN_ERROR",e[e.CHATROOM_HISMESSAGE_ERROR=36003]="CHATROOM_HISMESSAGE_ERROR",e[e.BLACK_ADD_ERROR=37001]="BLACK_ADD_ERROR",e[e.BLACK_GETSTATUS_ERROR=37002]="BLACK_GETSTATUS_ERROR",e[e.BLACK_REMOVE_ERROR=37003]="BLACK_REMOVE_ERROR",e[e.DRAF_GET_ERROR=38001]="DRAF_GET_ERROR",e[e.DRAF_SAVE_ERROR=38002]="DRAF_SAVE_ERROR",e[e.DRAF_REMOVE_ERROR=38003]="DRAF_REMOVE_ERROR",e[e.SUBSCRIBE_ERROR=39001]="SUBSCRIBE_ERROR",e[e.QNTKN_FILETYPE_ERROR=41001]="QNTKN_FILETYPE_ERROR",e[e.QNTKN_GET_ERROR=41002]="QNTKN_GET_ERROR",e[e.COOKIE_ENABLE=51001]="COOKIE_ENABLE",e[e.GET_MESSAGE_BY_ID_ERROR=61001]="GET_MESSAGE_BY_ID_ERROR",e[e.HAVNODEVICEID=24001]="HAVNODEVICEID",e[e.DEVICEIDISHAVE=24002]="DEVICEIDISHAVE",e[e.SUCCESS=0]="SUCCESS",e[e.FEILD=24009]="FEILD",e[e.VOIPISNULL=24013]="VOIPISNULL",e[e.NOENGINETYPE=24010]="NOENGINETYPE",e[e.NULLCHANNELNAME=24011]="NULLCHANNELNAME",e[e.VOIPDYANMICERROR=24012]="VOIPDYANMICERROR",e[e.NOVOIP=24014]="NOVOIP",e[e.INTERNALERRROR=24015]="INTERNALERRROR",e[e.VOIPCLOSE=24016]="VOIPCLOSE",e[e.CLOSE_BEFORE_OPEN=51001]="CLOSE_BEFORE_OPEN",e[e.ALREADY_IN_USE=51002]="ALREADY_IN_USE",e[e.INVALID_CHANNEL_NAME=51003]="INVALID_CHANNEL_NAME",e[e.VIDEO_CONTAINER_IS_NULL=51004]="VIDEO_CONTAINER_IS_NULL",e[e.DELETE_MESSAGE_ID_IS_NULL=61001]="DELETE_MESSAGE_ID_IS_NULL",e[e.CANCEL=1]="CANCEL",e[e.REJECT=2]="REJECT",e[e.HANGUP=3]="HANGUP",e[e.BUSYLINE=4]="BUSYLINE",e[e.NO_RESPONSE=5]="NO_RESPONSE",e[e.ENGINE_UN_SUPPORTED=6]="ENGINE_UN_SUPPORTED",e[e.NETWORK_ERROR=7]="NETWORK_ERROR",e[e.REMOTE_CANCEL=11]="REMOTE_CANCEL",e[e.REMOTE_REJECT=12]="REMOTE_REJECT",e[e.REMOTE_HANGUP=13]="REMOTE_HANGUP",e[e.REMOTE_BUSYLINE=14]="REMOTE_BUSYLINE",e[e.REMOTE_NO_RESPONSE=15]="REMOTE_NO_RESPONSE",e[e.REMOTE_ENGINE_UN_SUPPORTED=16]="REMOTE_ENGINE_UN_SUPPORTED",e[e.REMOTE_NETWORK_ERROR=17]="REMOTE_NETWORK_ERROR",e[e.VOIP_NOT_AVALIABLE=18]="VOIP_NOT_AVALIABLE"}(e.ErrorCode||(e.ErrorCode={})),e.ErrorCode,function(e){e[e.MEDIA_AUDIO=1]="MEDIA_AUDIO",e[e.MEDIA_VEDIO=2]="MEDIA_VEDIO"}(e.VoIPMediaType||(e.VoIPMediaType={})),e.VoIPMediaType,function(e){e[e.IMAGE=1]="IMAGE",e[e.AUDIO=2]="AUDIO",e[e.VIDEO=3]="VIDEO",e[e.FILE=100]="FILE"}(e.MediaType||(e.MediaType={})),e.MediaType,function(e){e[e.SEND=1]="SEND",e[e.RECEIVE=2]="RECEIVE"}(e.MessageDirection||(e.MessageDirection={})),e.MessageDirection,function(e){e[e.IMAGE=1]="IMAGE",e[e.AUDIO=2]="AUDIO",e[e.VIDEO=3]="VIDEO",e[e.FILE=4]="FILE"}(e.FileType||(e.FileType={})),e.FileType,function(e){e[e.RC_REAL_TIME_LOCATION_NOT_INIT=-1]="RC_REAL_TIME_LOCATION_NOT_INIT",e[e.RC_REAL_TIME_LOCATION_SUCCESS=0]="RC_REAL_TIME_LOCATION_SUCCESS",e[e.RC_REAL_TIME_LOCATION_GPS_DISABLED=1]="RC_REAL_TIME_LOCATION_GPS_DISABLED",e[e.RC_REAL_TIME_LOCATION_CONVERSATION_NOT_SUPPORT=2]="RC_REAL_TIME_LOCATION_CONVERSATION_NOT_SUPPORT",e[e.RC_REAL_TIME_LOCATION_IS_ON_GOING=3]="RC_REAL_TIME_LOCATION_IS_ON_GOING",e[e.RC_REAL_TIME_LOCATION_EXCEED_MAX_PARTICIPANT=4]="RC_REAL_TIME_LOCATION_EXCEED_MAX_PARTICIPANT",e[e.RC_REAL_TIME_LOCATION_JOIN_FAILURE=5]="RC_REAL_TIME_LOCATION_JOIN_FAILURE",e[e.RC_REAL_TIME_LOCATION_START_FAILURE=6]="RC_REAL_TIME_LOCATION_START_FAILURE",e[e.RC_REAL_TIME_LOCATION_NETWORK_UNAVAILABLE=7]="RC_REAL_TIME_LOCATION_NETWORK_UNAVAILABLE"}(e.RealTimeLocationErrorCode||(e.RealTimeLocationErrorCode={})),e.RealTimeLocationErrorCode,function(e){e[e.RC_REAL_TIME_LOCATION_STATUS_IDLE=0]="RC_REAL_TIME_LOCATION_STATUS_IDLE",e[e.RC_REAL_TIME_LOCATION_STATUS_INCOMING=1]="RC_REAL_TIME_LOCATION_STATUS_INCOMING",e[e.RC_REAL_TIME_LOCATION_STATUS_OUTGOING=2]="RC_REAL_TIME_LOCATION_STATUS_OUTGOING",e[e.RC_REAL_TIME_LOCATION_STATUS_CONNECTED=3]="RC_REAL_TIME_LOCATION_STATUS_CONNECTED"}(e.RealTimeLocationStatus||(e.RealTimeLocationStatus={})),e.RealTimeLocationStatus,function(e){e[e.READ=1]="READ",e[e.LISTENED=2]="LISTENED",e[e.DOWNLOADED=4]="DOWNLOADED",e[e.RETRIEVED=8]="RETRIEVED",e[e.UNREAD=0]="UNREAD"}(e.ReceivedStatus||(e.ReceivedStatus={})),e.ReceivedStatus,function(e){e[e.READ=1]="READ",e[e.LISTENED=2]="LISTENED",e[e.DOWNLOADED=4]="DOWNLOADED",e[e.RETRIEVED=8]="RETRIEVED",e[e.UNREAD=0]="UNREAD"}(e.ReadStatus||(e.ReadStatus={})),e.ReadStatus,function(e){e[e.EXACT=0]="EXACT",e[e.FUZZY=1]="FUZZY"}(e.SearchType||(e.SearchType={})),e.SearchType,function(e){e[e.SENDING=10]="SENDING",e[e.FAILED=20]="FAILED",e[e.SENT=30]="SENT",e[e.RECEIVED=40]="RECEIVED",e[e.READ=50]="READ",e[e.DESTROYED=60]="DESTROYED"}(e.SentStatus||(e.SentStatus={})),e.SentStatus,function(e){e[e.ACCEPTED=0]="ACCEPTED",e[e.UNACCEPTABLE_PROTOCOL_VERSION=1]="UNACCEPTABLE_PROTOCOL_VERSION",e[e.IDENTIFIER_REJECTED=2]="IDENTIFIER_REJECTED",e[e.SERVER_UNAVAILABLE=3]="SERVER_UNAVAILABLE",e[e.TOKEN_INCORRECT=4]="TOKEN_INCORRECT",e[e.NOT_AUTHORIZED=5]="NOT_AUTHORIZED",e[e.REDIRECT=6]="REDIRECT",e[e.PACKAGE_ERROR=7]="PACKAGE_ERROR",e[e.APP_BLOCK_OR_DELETE=8]="APP_BLOCK_OR_DELETE",e[e.BLOCK=9]="BLOCK",e[e.TOKEN_EXPIRE=10]="TOKEN_EXPIRE",e[e.DEVICE_ERROR=11]="DEVICE_ERROR"}(e.ConnectionState||(e.ConnectionState={})),e.ConnectionState,function(e){e[e.ROOM=1]="ROOM",e[e.PERSON=2]="PERSON"}(e.RTCAPIType||(e.RTCAPIType={})),e.RTCAPIType}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(){}return t.getInstance=function(){if(!t._instance)throw new Error("RongIMClient is not initialized. Call .init() method first.");return t._instance},t.showError=function(e){console&&console.error&&console.error(JSON.stringify(e))},t.logger=function(e){var n=e.code,o=t.LogFactory[n]||e;o.funcName=e.funcName,o.msg=e.msg||o.msg,t._memoryStore.depend.showError&&t.showError(o)},t.logCallback=function(e,n){return{onSuccess:e.onSuccess,onError:function(o){t.logger({code:o,funcName:n}),e.onError(o)}}},t.logSendCallback=function(e,n){return{onSuccess:e.onSuccess,onError:function(o,s){t.logger({code:o,funcName:n}),e.onError(o,s)},onBefore:e.onBefore}},t.init=function(n,o,s,r){if(t._instance)return t._memoryStore.sdkInfo;t._instance=new t,s=s||{};var i="http://",a="ws://";"https:"==location.protocol&&(a="wss://",i="https://");var c=!1;"function"!=typeof WebSocket&&(c=!0);var u=function(){var e="undefined"===typeof WebSocket?"undefined":Object(F_project_vue_wechat_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_12__["a"])(WebSocket),t="number"==typeof WebSocket.OPEN;return e&&t};"object"==("undefined"===typeof WebSocket?"undefined":Object(F_project_vue_wechat_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_12__["a"])(WebSocket))&&u()&&(c=!1);var l=function(){return document.documentElement.addBehavior};e.RongUtil.supportLocalStorage()?t._storageProvider=new e.LocalStorageProvider:l()?t._storageProvider=new e.UserDataProvider:t._storageProvider=new e.MemeoryProvider;var g=t._storageProvider.getItem("serverIndex");t.serverStore.index=g||0;var d="{0}{1}",p={navi:"nav.cn.ronghub.com",api:"api.cn.ronghub.com"};e.RongUtil.forEach(p,function(t,n){p[n]=e.RongUtil.stringFormat(d,[i,t])}),e.RongUtil.forEach(p,function(t,n){var o=n in s,r={path:s[n],tmpl:d,protocol:i,sub:!0};t=o?e.RongUtil.formatProtoclPath(r):t,s[n]=t});var f={protobuf:"cdn.ronghub.com/protobuf-2.3.4.min.js"};e.RongUtil.forEach(f,function(t,n){f[n]=e.RongUtil.stringFormat(d,[i,t])}),e.RongUtil.extend(f,s);var m={isPolling:c,wsScheme:a,protocol:i,showError:!0,openMp:!0,snifferTime:2e3};e.RongUtil.extend(m,s),e.RongUtil.isFunction(s.protobuf)&&(t.Protobuf=s.protobuf),t.userStatusObserver=new e.RongObserver,(new e.FeaturePatcher).patchAll();var h={token:"",callback:null,lastReadTime:new e.LimitableMap,historyMessageLimit:new e.MemoryCache,conversationList:[],appKey:n,publicServiceMap:new e.PublicServiceMap,providerType:1,deltaTime:0,filterMessages:[],isSyncRemoteConverList:!0,otherDevice:!1,custStore:{},converStore:{latestMessage:{}},connectAckTime:0,voipStategy:0,isFirstPingMsg:!0,depend:s,listenerList:t._memoryStore.listenerList,notification:{}};t._memoryStore=h,o&&"[object Object]"==Object.prototype.toString.call(o)?t._dataAccessProvider=o:t._dataAccessProvider=new e.ServerDataProvider,s.appCallback=r;var C=t._dataAccessProvider.init(n,s);return t._memoryStore.sdkInfo=C,t._dataAccessProvider.setServerInfo({navi:location.protocol+s.navi+"/navi.xml"}),t.MessageParams={TextMessage:{objectName:"RC:TxtMsg",msgTag:new e.MessageTag(!0,!0)},ImageMessage:{objectName:"RC:ImgMsg",msgTag:new e.MessageTag(!0,!0)},DiscussionNotificationMessage:{objectName:"RC:DizNtf",msgTag:new e.MessageTag(!1,!0)},VoiceMessage:{objectName:"RC:VcMsg",msgTag:new e.MessageTag(!0,!0)},RichContentMessage:{objectName:"RC:ImgTextMsg",msgTag:new e.MessageTag(!0,!0)},FileMessage:{objectName:"RC:FileMsg",msgTag:new e.MessageTag(!0,!0)},HandshakeMessage:{objectName:"",msgTag:new e.MessageTag(!0,!0)},UnknownMessage:{objectName:"",msgTag:new e.MessageTag(!0,!0)},LocationMessage:{objectName:"RC:LBSMsg",msgTag:new e.MessageTag(!0,!0)},InformationNotificationMessage:{objectName:"RC:InfoNtf",msgTag:new e.MessageTag(!1,!0)},ContactNotificationMessage:{objectName:"RC:ContactNtf",msgTag:new e.MessageTag(!1,!0)},ProfileNotificationMessage:{objectName:"RC:ProfileNtf",msgTag:new e.MessageTag(!1,!0)},CommandNotificationMessage:{objectName:"RC:CmdNtf",msgTag:new e.MessageTag(!0,!0)},PublicServiceRichContentMessage:{objectName:"RC:PSImgTxtMsg",msgTag:new e.MessageTag(!0,!0)},PublicServiceMultiRichContentMessage:{objectName:"RC:PSMultiImgTxtMsg",msgTag:new e.MessageTag(!0,!0)},JrmfRedPacketMessage:{objectName:"RCJrmf:RpMsg",msgTag:new e.MessageTag(!0,!0)},JrmfRedPacketOpenedMessage:{objectName:"RCJrmf:RpOpendMsg",msgTag:new e.MessageTag(!0,!0)},GroupNotificationMessage:{objectName:"RC:GrpNtf",msgTag:new e.MessageTag(!1,!0)},CommandMessage:{objectName:"RC:CmdMsg",msgTag:new e.MessageTag(!1,!1)},TypingStatusMessage:{objectName:"RC:TypSts",msgTag:new e.MessageTag(!1,!1)},PublicServiceCommandMessage:{objectName:"RC:PSCmd",msgTag:new e.MessageTag(!1,!1)},RecallCommandMessage:{objectName:"RC:RcCmd",msgTag:new e.MessageTag(!1,!0)},SyncReadStatusMessage:{objectName:"RC:SRSMsg",msgTag:new e.MessageTag(!1,!1)},ReadReceiptRequestMessage:{objectName:"RC:RRReqMsg",msgTag:new e.MessageTag(!1,!1)},ReadReceiptResponseMessage:{objectName:"RC:RRRspMsg",msgTag:new e.MessageTag(!1,!1)},ChangeModeResponseMessage:{objectName:"RC:CsChaR",msgTag:new e.MessageTag(!1,!1)},ChangeModeMessage:{objectName:"RC:CSCha",msgTag:new e.MessageTag(!1,!1)},EvaluateMessage:{objectName:"RC:CsEva",msgTag:new e.MessageTag(!1,!1)},CustomerContact:{objectName:"RC:CsContact",msgTag:new e.MessageTag(!1,!1)},HandShakeMessage:{objectName:"RC:CsHs",msgTag:new e.MessageTag(!1,!1)},HandShakeResponseMessage:{objectName:"RC:CsHsR",msgTag:new e.MessageTag(!1,!1)},SuspendMessage:{objectName:"RC:CsSp",msgTag:new e.MessageTag(!1,!1)},TerminateMessage:{objectName:"RC:CsEnd",msgTag:new e.MessageTag(!1,!1)},CustomerStatusUpdateMessage:{objectName:"RC:CsUpdate",msgTag:new e.MessageTag(!1,!1)},ReadReceiptMessage:{objectName:"RC:ReadNtf",msgTag:new e.MessageTag(!1,!1)}},t.MessageParams.AcceptMessage={objectName:"RC:VCAccept",msgTag:new e.MessageTag(!1,!1)},t.MessageParams.RingingMessage={objectName:"RC:VCRinging",msgTag:new e.MessageTag(!1,!1)},t.MessageParams.SummaryMessage={objectName:"RC:VCSummary",msgTag:new e.MessageTag(!1,!1)},t.MessageParams.HungupMessage={objectName:"RC:VCHangup",msgTag:new e.MessageTag(!1,!1)},t.MessageParams.InviteMessage={objectName:"RC:VCInvite",msgTag:new e.MessageTag(!1,!1)},t.MessageParams.MediaModifyMessage={objectName:"RC:VCModifyMedia",msgTag:new e.MessageTag(!1,!1)},t.MessageParams.MemberModifyMessage={objectName:"RC:VCModifyMem",msgTag:new e.MessageTag(!1,!1)},t.MessageType={TextMessage:"TextMessage",ImageMessage:"ImageMessage",DiscussionNotificationMessage:"DiscussionNotificationMessage",VoiceMessage:"VoiceMessage",RichContentMessage:"RichContentMessage",HandshakeMessage:"HandshakeMessage",UnknownMessage:"UnknownMessage",LocationMessage:"LocationMessage",InformationNotificationMessage:"InformationNotificationMessage",ContactNotificationMessage:"ContactNotificationMessage",ProfileNotificationMessage:"ProfileNotificationMessage",CommandNotificationMessage:"CommandNotificationMessage",CommandMessage:"CommandMessage",TypingStatusMessage:"TypingStatusMessage",ChangeModeResponseMessage:"ChangeModeResponseMessage",ChangeModeMessage:"ChangeModeMessage",EvaluateMessage:"EvaluateMessage",HandShakeMessage:"HandShakeMessage",HandShakeResponseMessage:"HandShakeResponseMessage",SuspendMessage:"SuspendMessage",TerminateMessage:"TerminateMessage",CustomerContact:"CustomerContact",CustomerStatusUpdateMessage:"CustomerStatusUpdateMessage",SyncReadStatusMessage:"SyncReadStatusMessage",ReadReceiptRequestMessage:"ReadReceiptRequestMessage",ReadReceiptResponseMessage:"ReadReceiptResponseMessage",FileMessage:"FileMessage",AcceptMessage:"AcceptMessage",RingingMessage:"RingingMessage",SummaryMessage:"SummaryMessage",HungupMessage:"HungupMessage",InviteMessage:"InviteMessage",MediaModifyMessage:"MediaModifyMessage",MemberModifyMessage:"MemberModifyMessage",JrmfRedPacketMessage:"JrmfRedPacketMessage",JrmfRedPacketOpenedMessage:"JrmfRedPacketOpenedMessage",GroupNotificationMessage:"GroupNotificationMessage",PublicServiceRichContentMessage:"PublicServiceRichContentMessage",PublicServiceMultiRichContentMessage:"PublicServiceMultiRichContentMessage",PublicServiceCommandMessage:"PublicServiceCommandMessage",RecallCommandMessage:"RecallCommandMessage",ReadReceiptMessage:"ReadReceiptMessage"},t.LogFactory={"-1":{code:"-1",msg:"服务器超时"},"-2":{code:"-2",msg:"未知原因失败"},"-3":{code:"-3",msg:"参数错误"},"-4":{code:"-4",msg:"参数不正确或尚未实例化"},25101:{code:"25101",msg:"撤回消息参数错误",desc:"请检查撤回消息参数 https://rongcloud.github.io/websdk-demo/api-test.html"},25102:{code:"25101",msg:"只能撤回自发发送的消息"},20604:{code:"20604",msg:"发送频率过快",desc:"https://developer.rongcloud.cn/ticket/info/9Q3L6vRKd1cLS7rycA==?type=1"},20406:{code:"20406",msg:"被禁言"},23407:{code:"23407",msg:"获取用户失败"},20407:{code:"20407",msg:"群组Id无效"},22408:{code:"22408",msg:"群组被禁言"},22406:{code:"22406",msg:"不在群组"},35001:{code:"35001",msg:"群组同步异常"},35002:{code:"35002",msg:"匹配群信息异常"},21406:{code:"21406",msg:"不在讨论组"},21407:{code:"21407",msg:"加入讨论失败"},21408:{code:"21408",msg:"创建讨论组失败"},21409:{code:"21409",msg:"设置讨论组邀请状态失败"},23406:{code:"23406",msg:"不在聊天室"},23408:{code:"23408",msg:"聊天室被禁言"},23409:{code:"23409",msg:"聊天室中成员被踢出"},23410:{code:"23410",msg:"聊天室不存在"},23411:{code:"23411",msg:"聊天室成员已满"},23412:{code:"23412",msg:"获取聊天室信息参数无效"},23413:{code:"23413",msg:"聊天室异常"},23414:{code:"23414",msg:"没有打开聊天室消息存储"},36001:{code:"36001",msg:"加入聊天室Id为空"},36002:{code:"36002",msg:"加入聊天室失败"},36003:{code:"36003",msg:"拉取聊天室历史消息失败"},24001:{code:"24001",msg:"没有注册DeviveId 也就是用户没有登陆"},24002:{code:"24002",msg:"用户已经存在"},0:{code:"0",msg:"成功"},24009:{code:"24009",msg:"没有对应的用户或token"},24013:{code:"24013",msg:"voip为空"},24010:{code:"24010",msg:"不支持的Voip引擎"},24011:{code:"24011",msg:"channelName 是空"},24012:{code:"24012",msg:"生成Voipkey失败"},24014:{code:"24014",msg:"没有配置voip"},24015:{code:"24015",msg:"服务器内部错误"},24016:{code:"24016",msg:"VOIP close"},30001:{code:"30001",msg:"通信过程中，当前Socket不存在"},30002:{code:"30002",msg:"Socket连接不可用"},30003:{code:"30003",msg:"通信超时"},30004:{code:"30004",msg:"导航操作时，Http请求失败"},30005:{code:"30005",msg:"HTTP请求失败"},30006:{code:"30006",msg:"HTTP接收失败"},30007:{code:"30007",msg:"导航资源错误"},30008:{code:"30008",msg:"没有有效数据"},30009:{code:"30009",msg:"不存在有效 IP 地址"},30010:{code:"30010",msg:"创建 Socket 失败"},30011:{code:"30011",msg:" Socket 被断开"},30012:{code:"30012",msg:"PING 操作失败"},30013:{code:"30013",msg:"PING 超时"},30014:{code:"30014",msg:"消息发送失败"},30016:{code:"30016",msg:"消息大小超限，最大 128 KB"},31000:{code:"31000",msg:"做 connect 连接时，收到的 ACK 超时"},31001:{code:"31001",msg:"参数错误"},31002:{code:"31002",msg:"参数错误，App Id 错误"},31003:{code:"31003",msg:"服务器不可用"},31004:{code:"31004",msg:"Token 错误"},31005:{code:"31005",msg:"App Id 与 Token 不匹配"},31006:{code:"31006",msg:"重定向，地址错误"},31007:{code:"31007",msg:"NAME 与后台注册信息不一致"},31008:{code:"31008",msg:"APP 被屏蔽、删除或不存在"},31009:{code:"31009",msg:"用户被屏蔽"},31010:{code:"31010",msg:"Disconnect，由服务器返回，比如用户互踢"},31011:{code:"31011",msg:"Disconnect，由服务器返回，比如用户互踢"},32001:{code:"32001",msg:"协议层内部错误。query，上传下载过程中数据错误"},32002:{code:"32002",msg:"协议层内部错误"},33001:{code:"33001",msg:"未调用 init 初始化函数"},33002:{code:"33002",msg:"数据库初始化失败"},33003:{code:"33003",msg:"传入参数无效"},33004:{code:"33004",msg:"通道无效"},33005:{code:"33005",msg:"重新连接成功"},33006:{code:"33006",msg:"连接中，再调用 connect 被拒绝"},33007:{code:"33007",msg:"消息漫游服务未开通"},33008:{code:"33008",msg:"消息添加失败"},33009:{code:"33009",msg:"消息删除失败"},34001:{code:"34001",msg:"删除会话失败"},34002:{code:"34002",msg:"拉取历史消息失败"},34003:{code:"34003",msg:"会话指定异常"},34004:{code:"34004",msg:"获取会话未读消息总数失败"},34005:{code:"34005",msg:"获取指定会话类型未读消息数异常"},34006:{code:"34006",msg:"获取指定用户ID&会话类型未读消息数异常"},34007:{code:"34007",msg:"清除会话消息异常"},34008:{code:"34008",msg:"获取会话消息异常"},34009:{code:"34009",msg:"清除历史消息会话类型不正确"},34010:{code:"34010",msg:"清除历史消息失败，请检查传入参数"},37001:{code:"37001",msg:"加入黑名单异常"},37002:{code:"37002",msg:"获得指定人员再黑名单中的状态异常"},37003:{code:"37003",msg:"移除黑名单异常"},405:{code:"405",msg:"在黑名单中"},38001:{code:"38001",msg:"获取草稿失败"},38002:{code:"38002",msg:"保存草稿失败"},38003:{code:"38003",msg:"删除草稿失败"},39001:{code:"39001",msg:"关注公众号失败"},41001:{code:"41001",msg:"文件类型错误"},41002:{code:"41002",msg:"获取七牛token失败"},51001:{code:"51001",msg:"未安装或未启动插件"},51002:{code:"51002",msg:"视频已经存在"},51003:{code:"51003",msg:"无效的channelName"},51004:{code:"51004",msg:"视频内容为空"},61001:{code:"61001",msg:"删除消息数组长度为 0"}},C},t.initApp=function(e,n){t.init(e.appkey,e.dataAccessProvider,e.opts,function(){var e=t._instance;n(null,e)})},t.connect=function(n,o,s,r){e.CheckParam.getInstance().check(["string","object","string|null|object|global|undefined","object|null|global|undefined"],"connect",!0,arguments);var i={onSuccess:o.onSuccess,onTokenIncorrect:o.onTokenIncorrect,onError:function(e){t.logger({code:e,funcName:"connect"}),o.onError(e)}};t._dataAccessProvider.connect(n,i,s,r)},t.reconnect=function(e,n){var o={onSuccess:e.onSuccess,onTokenIncorrect:e.onTokenIncorrect,onError:function(n){t.logger({code:n,funcName:"connect"}),e.onError(n)}};t._dataAccessProvider.reconnect(o,n)},t.registerMessageType=function(e,n,o,s,r){t._dataAccessProvider.registerMessageType(e,n,o,s,r),t.RegisterMessage[e].messageName=e,t.MessageType[e]=e,t.MessageParams[e]={objectName:n,msgTag:o}},t.prototype.registerMessageTypes=function(e){e=e||{},t._dataAccessProvider.registerMessageTypes(e)},t.setConnectionStatusListener=function(e){t._dataAccessProvider?t._dataAccessProvider.setConnectionStatusListener(e):t._memoryStore.listenerList.push(e)},t.statusWatch=function(e){"function"==typeof e&&t.statusListeners.push(e)},t.setOnReceiveMessageListener=function(e){t._dataAccessProvider?t._dataAccessProvider.setOnReceiveMessageListener(e):t._memoryStore.listenerList.push(e)},t.prototype.logout=function(){t._dataAccessProvider.logout()},t.prototype.disconnect=function(){t._dataAccessProvider.disconnect()},t.prototype.startCustomService=function(n,o,s){if(n&&o){var r=new e.HandShakeMessage(s),i=this;e.RongIMClient._memoryStore.custStore.isInit=!0,t.getInstance().sendMessage(e.ConversationType.CUSTOMER_SERVICE,n,r,{onSuccess:function(e){e.isBlack?(o.onError(),i.stopCustomeService(n,{onSuccess:function(){},onError:function(){}})):o.onSuccess()},onError:function(){o.onError()},onBefore:function(){}})}},t.prototype.stopCustomeService=function(n,o){if(n&&o){var s=t._memoryStore.custStore[n];if(s){var r=new e.SuspendMessage({sid:s.sid,uid:s.uid,pid:s.pid});this.sendCustMessage(n,r,{onSuccess:function(){setTimeout(function(){o.onSuccess()})},onError:function(){setTimeout(function(){o.onError()})}})}}},t.prototype.switchToHumanMode=function(n,o){if(n&&o){var s=t._memoryStore.custStore[n];if(s){var r=new e.ChangeModeMessage({sid:s.sid,uid:s.uid,pid:s.pid});this.sendCustMessage(n,r,o)}}},t.prototype.evaluateRebotCustomService=function(n,o,s,r){if(n&&r){var i=t._memoryStore.custStore[n];if(i){var a=new e.EvaluateMessage({sid:i.sid,uid:i.uid,pid:i.pid,isRobotResolved:o,sugest:s,type:0});this.sendCustMessage(n,a,r)}}},t.prototype.evaluateHumanCustomService=function(n,o,s,r){if(n&&r){var i=t._memoryStore.custStore[n];if(i){var a=new e.EvaluateMessage({sid:i.sid,uid:i.uid,pid:i.pid,humanValue:o,sugest:s,type:1});this.sendCustMessage(n,a,r)}}},t.prototype.sendCustMessage=function(n,o,s){t.getInstance().sendMessage(e.ConversationType.CUSTOMER_SERVICE,n,o,{onSuccess:function(e){s.onSuccess()},onError:function(){s.onError()},onBefore:function(){}})},t.prototype.getCurrentConnectionStatus=function(){return t._dataAccessProvider.getCurrentConnectionStatus()},t.prototype.getConnectionChannel=function(){return e.Transportations._TransportType==e.Socket.XHR_POLLING?e.ConnectionChannel.XHR_POLLING:e.Transportations._TransportType==e.Socket.WEBSOCKET?e.ConnectionChannel.WEBSOCKET:void 0},t.prototype.getStorageProvider=function(){return 1==t._memoryStore.providerType?"ServerDataProvider":"OtherDataProvider"},t.prototype.setFilterMessages=function(e){"[object Array]"==Object.prototype.toString.call(e)&&(t._memoryStore.filterMessages=e)},t.prototype.getAgoraDynamicKey=function(e,n,o){t._dataAccessProvider.getAgoraDynamicKey(e,n,o)},t.prototype.getCurrentUserId=function(){return e.Bridge._client.userId},t.prototype.getDeltaTime=function(){return t._dataAccessProvider.getDelaTime()},t.prototype.getMessage=function(e,n){t._dataAccessProvider.getMessage(e,t.logCallback(n,"getMessage"))},t.prototype.deleteLocalMessages=function(e,n,o,s){t._dataAccessProvider.removeLocalMessage(e,n,o,t.logCallback(s,"deleteLocalMessages"))},t.prototype.updateMessage=function(e,n){t._dataAccessProvider.updateMessage(e,t.logCallback(n,"updateMessage"))},t.prototype.clearData=function(){return t._dataAccessProvider.clearData()},t.prototype.clearMessages=function(e,n,o){t._dataAccessProvider.clearMessages(e,n,{onSuccess:function(e){setTimeout(function(){o.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"clearMessages"}),o.onError(e)})}})},t.prototype.clearMessagesUnreadStatus=function(e,n,o){t._dataAccessProvider.updateMessages(e,n,"readStatus",null,{onSuccess:function(e){setTimeout(function(){o.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"clearMessagesUnreadStatus"}),o.onError(e)})}})},t.prototype.deleteRemoteMessages=function(n,o,s,r){if(e.CheckParam.getInstance().check(["number","string|number","array","object"],"deleteRemoteMessages",!1,arguments),0==s.length){var i=e.ErrorCode.DELETE_MESSAGE_ID_IS_NULL;return t.logger({code:i,funcName:"deleteRemoteMessages"}),void r.onError(e.ErrorCode.DELETE_MESSAGE_ID_IS_NULL)}s.length>100&&(s.length=100),r.onSuccess(!0)},t.prototype.deleteMessages=function(e,n,o,s){t._dataAccessProvider.removeMessage(e,n,o,{onSuccess:function(e){setTimeout(function(){s.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"deleteMessages"}),s.onError(e)})}})},t.prototype.sendLocalMessage=function(n,o){e.CheckParam.getInstance().check(["object","object"],"sendLocalMessage",!1,arguments),t._dataAccessProvider.updateMessage(n),this.sendMessage(n.conversationType,n.targetId,n.content,t.logSendCallback(o,"sendLocalMessage"))},t.prototype.sendMessage=function(n,o,s,r,i,a,c,u,l){e.CheckParam.getInstance().check(["number","string|number","object","object","undefined|object|null|global|boolean","undefined|object|null|global|string","undefined|object|null|global|string","undefined|object|null|global|number","undefined|object|null|global"],"sendMessage",!1,arguments),t._dataAccessProvider.sendMessage(n,o,s,t.logSendCallback(r,"sendMessage"),i,a,c,u,l)},t.prototype.sendReceiptResponse=function(e,n,o){t._dataAccessProvider.sendReceiptResponse(e,n,t.logSendCallback(o,"sendReceiptResponse"))},t.prototype.sendTypingStatusMessage=function(e,n,o,s){t._dataAccessProvider.sendTypingStatusMessage(e,n,o,t.logSendCallback(s,"sendTypingStatusMessage"))},t.prototype.sendStatusMessage=function(e,t,n){throw new Error("Not implemented yet")},t.prototype.sendTextMessage=function(e,n,o,s){t._dataAccessProvider.sendTextMessage(e,n,o,t.logSendCallback(s,"sendTextMessage"))},t.prototype.sendRecallMessage=function(n,o){var s=t.logSendCallback(o,"sendRecallMessage");if(n.senderUserId==e.Bridge._client.userId)t._dataAccessProvider.sendRecallMessage(n,s);else{s=t.logSendCallback(o,"sendRecallMessage");s.onError(e.ErrorCode.RECALL_MESSAGE,n)}},t.prototype.insertMessage=function(e,n,o,s){t._dataAccessProvider.addMessage(e,n,o,t.logCallback(s,"insertMessage"))},t.prototype.setMessageContent=function(e,n,o){t._dataAccessProvider.setMessageContent(e,n,o)},t.prototype.getHistoryMessages=function(n,o,s,r,i,a,c){if(e.CheckParam.getInstance().check(["number","string|number","number|null|global|object","number","object","undefined|object|null|global|string","number|null|global|object"],"getHistoryMessages",!1,arguments),r>20)throw new Error("HistroyMessage count must be less than or equal to 20!");if(n.valueOf()<0)throw new Error("ConversationType must be greater than -1");t._dataAccessProvider.getHistoryMessages(n,o,s,r,t.logCallback(i,"getHistoryMessages"),a,c)},t.prototype.getRemoteHistoryMessages=function(n,o,s,r,i,a){e.CheckParam.getInstance().check(["number","string|number","number|null|global|object","number","object","undefined|null|global|object"],"getRemoteHistoryMessages",!1,arguments);var c={errorCode:e.ErrorCode.RC_CONN_PROTO_VERSION_ERROR,funcName:"getRemoteHistoryMessages"};return r>20?(t.logger(c),void i.onError(e.ErrorCode.RC_CONN_PROTO_VERSION_ERROR)):n.valueOf()<0?(t.logger(c),void i.onError(e.ErrorCode.RC_CONN_PROTO_VERSION_ERROR)):void t._dataAccessProvider.getRemoteHistoryMessages(n,o,s,r,t.logCallback(i,"getRemoteHistoryMessages"),a)},t.prototype.clearHistoryMessages=function(e,n){t._dataAccessProvider.clearHistoryMessages(e,n)},t.prototype.clearRemoteHistoryMessages=function(e,n){t._dataAccessProvider.clearRemoteHistoryMessages(e,t.logCallback(n,"clearRemoteHistoryMessages"))},t.prototype.hasRemoteUnreadMessages=function(e,n){t._dataAccessProvider.hasRemoteUnreadMessages(e,t.logCallback(n,"hasRemoteUnreadMessages"))},t.prototype.getTotalUnreadCount=function(e,n){t._dataAccessProvider.getTotalUnreadCount({onSuccess:function(t){setTimeout(function(){e.onSuccess(t)})},onError:function(n){setTimeout(function(){t.logger({code:n,funcName:"getTotalUnreadCount"}),e.onError(n)})}},n)},t.prototype.getConversationUnreadCount=function(e,n){t._dataAccessProvider.getConversationUnreadCount(e,{onSuccess:function(e){setTimeout(function(){n.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"getConversationUnreadCount"}),n.onError(e)})}})},t.prototype.getUnreadCount=function(e,n,o){t._dataAccessProvider.getUnreadCount(e,n,{onSuccess:function(e){setTimeout(function(){o.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"getUnreadCount"}),o.onError(e)})}})},t.prototype.setUnreadCount=function(n,o,s){e.CheckParam.getInstance().check(["number","string","number"],"setUnreadCount",!1,arguments),t._dataAccessProvider.setUnreadCount(n,o,s)},t.prototype.clearUnreadCountByTimestamp=function(e,n,o,s){t._dataAccessProvider.clearUnreadCountByTimestamp(e,n,o,t.logCallback(s,"clearUnreadCountByTimestamp"))},t.prototype.clearUnreadCount=function(e,n,o){t._dataAccessProvider.clearUnreadCount(e,n,{onSuccess:function(e){setTimeout(function(){o.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"clearUnreadCount"}),o.onError(e)})}})},t.prototype.clearTotalUnreadCount=function(e){t._dataAccessProvider.clearTotalUnreadCount({onSuccess:function(t){e.onSuccess(t)},onError:function(n){setTimeout(function(){t.logger({code:n,funcName:"clearTotalUnreadCount"}),e.onError(n)})}})},t.prototype.clearLocalStorage=function(e){t._storageProvider.clearItem(),e()},t.prototype.setMessageExtra=function(e,n,o){t._dataAccessProvider.setMessageExtra(e,n,{onSuccess:function(e){setTimeout(function(){o.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"setMessageExtra"}),o.onError(e)})}})},t.prototype.setMessageReceivedStatus=function(e,n,o){t._dataAccessProvider.setMessageReceivedStatus(e,n,{onSuccess:function(e){setTimeout(function(){o.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"setMessageReceivedStatus"}),o.onError(e)})}})},t.prototype.setMessageStatus=function(e,n,o,s,r){t._dataAccessProvider.setMessageStatus(e,n,o,s,t.logCallback(r,"setMessageStatus"))},t.prototype.setMessageSentStatus=function(e,n,o){t._dataAccessProvider.setMessageSentStatus(e,n,{onSuccess:function(e){setTimeout(function(){o.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"setMessageSentStatus"}),o.onError(e)})}})},t.prototype.clearTextMessageDraft=function(n,o){e.CheckParam.getInstance().check(["number","string|number","object"],"clearTextMessageDraft",!1,arguments);var s="darf_"+n+"_"+o;return delete t._memoryStore[s],!0},t.prototype.getTextMessageDraft=function(n,o){if(e.CheckParam.getInstance().check(["number","string|number","object"],"getTextMessageDraft",!1,arguments),""==o||n<0)throw new Error("params error : "+e.ErrorCode.DRAF_GET_ERROR);var s="darf_"+n+"_"+o;return t._memoryStore[s]},t.prototype.saveTextMessageDraft=function(n,o,s){e.CheckParam.getInstance().check(["number","string|number","string","object"],"saveTextMessageDraft",!1,arguments);var r="darf_"+n+"_"+o;return t._memoryStore[r]=s,!0},t.prototype.searchConversationByContent=function(e,n,o){t._dataAccessProvider.searchConversationByContent(e,t.logCallback(n,"searchConversationByContent"),o)},t.prototype.searchMessageByContent=function(e,n,o,s,r,i,a){t._dataAccessProvider.searchMessageByContent(e,n,o,s,r,i,t.logCallback(a,"searchMessageByContent"))},t.prototype.clearCache=function(){t._dataAccessProvider.clearCache()},t.prototype.clearConversations=function(n){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];0==o.length&&(o=[e.ConversationType.CHATROOM,e.ConversationType.CUSTOMER_SERVICE,e.ConversationType.DISCUSSION,e.ConversationType.GROUP,e.ConversationType.PRIVATE,e.ConversationType.SYSTEM,e.ConversationType.PUBLIC_SERVICE,e.ConversationType.APP_PUBLIC_SERVICE]),t._dataAccessProvider.clearConversations(o,{onSuccess:function(e){setTimeout(function(){n.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"clearConversations"}),n.onError(e)})}})},t.prototype.getConversation=function(n,o,s){e.CheckParam.getInstance().check(["number","string|number","object"],"getConversation",!1,arguments),t._dataAccessProvider.getConversation(n,o,{onSuccess:function(e){setTimeout(function(){s.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"getConversation"}),s.onError(e)})}})},t.prototype.pottingConversation=function(n){var o=this,s=!1;t._dataAccessProvider.getConversation(n.type,n.userId,{onSuccess:function(r){r?s=!0:r=new e.Conversation,r.conversationType=n.type,r.targetId=n.userId,r.latestMessage=e.MessageUtil.messageParser(n.msg),r.latestMessageId=r.latestMessage.messageId,r.objectName=r.latestMessage.objectName,r.receivedStatus=r.latestMessage.receivedStatus,r.receivedTime=r.latestMessage.receiveTime,r.sentStatus=r.latestMessage.sentStatus,r.sentTime=r.latestMessage.sentTime;var i=t._storageProvider.getItem("mentioneds_"+e.Bridge._client.userId+"_"+r.conversationType+"_"+r.targetId);if(i){var a=JSON.parse(i);r.mentionedMsg=a[n.type+"_"+n.userId]}if(!s)if(e.RongUtil.supportLocalStorage()){var c=t._storageProvider.getItem("cu"+e.Bridge._client.userId+n.type+n.userId);r.unreadMessageCount=Number(c)}else r.unreadMessageCount=0;r.conversationType==e.ConversationType.DISCUSSION&&o.getDiscussion(n.userId,{onSuccess:function(e){r.conversationTitle=e.name},onError:function(e){}}),t._dataAccessProvider.addConversation(r,{onSuccess:function(e){}})},onError:function(e){}})},t.prototype.addConversation=function(e,n){t._dataAccessProvider.addConversation(e,n)},t.prototype.sortConversationList=function(e){for(var n=[],o=0,s=e.length;o<s;o++)if(e[o])if(e[o].isTop)n.push(e[o]),e.splice(o,1);else for(var r=0;r<s-o-1;r++)if(e[r].sentTime<e[r+1].sentTime){var i=e[r];e[r]=e[r+1],e[r+1]=i}return t._memoryStore.conversationList=n.concat(e)},t.prototype.getConversationList=function(n,o,s,r){e.CheckParam.getInstance().check(["object","null|undefined|array|object|global","number|undefined|null|object|global","boolean|undefined|null|object|global"],"getConversationList",!1,arguments),t._dataAccessProvider.getConversationList({onSuccess:function(e){o||t._dataAccessProvider?setTimeout(function(){n.onSuccess(e)}):setTimeout(function(){n.onSuccess(t._memoryStore.conversationList)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"getConversationList"}),n.onError(e)})}},o,s,r)},t.prototype.getRemoteConversationList=function(n,o,s,r){e.CheckParam.getInstance().check(["object","null|array|object|global","number|undefined|null|object|global","boolean|undefined|null|object|global"],"getRemoteConversationList",!1,arguments),t._dataAccessProvider.getRemoteConversationList(t.logCallback(n,"getRemoteConversationList"),o,s,r)},t.prototype.updateConversation=function(e){return t._dataAccessProvider.updateConversation(e)},t.prototype.createConversation=function(t,n,o){e.CheckParam.getInstance().check(["number","string|number","string"],"createConversation",!1,arguments);var s=new e.Conversation;return s.targetId=n,s.conversationType=t,s.conversationTitle=o,s.latestMessage={},s.unreadMessageCount=0,s},t.prototype.removeConversation=function(n,o,s){e.CheckParam.getInstance().check(["number","string|number","object"],"removeConversation",!1,arguments),t._dataAccessProvider.removeConversation(n,o,t.logCallback(s,"removeConversation"))},t.prototype.setConversationHidden=function(n,o,s){e.CheckParam.getInstance().check(["number","string|number","boolean"],"setConversationHidden",!1,arguments),t._dataAccessProvider.setConversationHidden(n,o,s)},t.prototype.setConversationToTop=function(n,o,s,r){e.CheckParam.getInstance().check(["number","string|number","boolean","object"],"setConversationToTop",!1,arguments),t._dataAccessProvider.setConversationToTop(n,o,s,{onSuccess:function(e){setTimeout(function(){r.onSuccess(e)})},onError:function(e){setTimeout(function(){t.logger({code:e,funcName:"setConversationToTop"}),r.onError(e)})}})},t.prototype.getConversationNotificationStatus=function(e,n,o){var s={conversationType:e,targetId:n};t._dataAccessProvider.getConversationNotificationStatus(s,t.logCallback(o,"getConversationNotificationStatus"))},t.prototype.setConversationNotificationStatus=function(e,n,o,s){var r={conversationType:e,targetId:n,status:status};t._dataAccessProvider.setConversationNotificationStatus(r,t.logCallback(s,"setConversationNotificationStatus"))},t.prototype.getNotificationQuietHours=function(e){throw new Error("Not implemented yet")},t.prototype.removeNotificationQuietHours=function(e){throw new Error("Not implemented yet")},t.prototype.setNotificationQuietHours=function(e,t,n){throw new Error("Not implemented yet")},t.prototype.addMemberToDiscussion=function(n,o,s){e.CheckParam.getInstance().check(["string","array","object"],"addMemberToDiscussion",!1,arguments),t._dataAccessProvider.addMemberToDiscussion(n,o,t.logCallback(s,"addMemberToDiscussion"))},t.prototype.createDiscussion=function(n,o,s){e.CheckParam.getInstance().check(["string","array","object"],"createDiscussion",!1,arguments),t._dataAccessProvider.createDiscussion(n,o,s)},t.prototype.getDiscussion=function(n,o){e.CheckParam.getInstance().check(["string","object"],"getDiscussion",!1,arguments),t._dataAccessProvider.getDiscussion(n,t.logCallback(o,"getDiscussion"))},t.prototype.quitDiscussion=function(n,o){e.CheckParam.getInstance().check(["string","object"],"quitDiscussion",!1,arguments),t._dataAccessProvider.quitDiscussion(n,t.logCallback(o,"quitDiscussion"))},t.prototype.removeMemberFromDiscussion=function(n,o,s){e.CheckParam.getInstance().check(["string","string","object"],"removeMemberFromDiscussion",!1,arguments),t._dataAccessProvider.removeMemberFromDiscussion(n,o,t.logCallback(s,"removeMemberFromDiscussion"))},t.prototype.setDiscussionInviteStatus=function(n,o,s){e.CheckParam.getInstance().check(["string","number","object"],"setDiscussionInviteStatus",!1,arguments),t._dataAccessProvider.setDiscussionInviteStatus(n,o,t.logCallback(s,"setDiscussionInviteStatus"))},t.prototype.setDiscussionName=function(n,o,s){e.CheckParam.getInstance().check(["string","string","object"],"setDiscussionName",!1,arguments),t._dataAccessProvider.setDiscussionName(n,o,t.logCallback(s,"setDiscussionName"))},t.prototype.joinChatRoom=function(n,o,s){e.CheckParam.getInstance().check(["string|number","number","object"],"joinChatRoom",!1,arguments),""!=n?t._dataAccessProvider.joinChatRoom(n,o,t.logCallback(s,"joinChatRoom")):setTimeout(function(){var n=e.ErrorCode.CHATROOM_ID_ISNULL;t.logger({code:n,funcName:"joinChatRoom"}),s.onError(e.ErrorCode.CHATROOM_ID_ISNULL)})},t.prototype.setDeviceInfo=function(e){t._dataAccessProvider.setDeviceInfo(e)},t.prototype.setChatroomHisMessageTimestamp=function(n,o){e.CheckParam.getInstance().check(["string|number","number"],"setChatroomHisMessageTimestamp",!1,arguments),t._dataAccessProvider.setChatroomHisMessageTimestamp(n,o)},t.prototype.getChatRoomHistoryMessages=function(n,o,s,r){e.CheckParam.getInstance().check(["string|number","number","number","object"],"getChatRoomHistoryMessages",!1,arguments),t._dataAccessProvider.getChatRoomHistoryMessages(n,o,s,t.logCallback(r,"getChatRoomHistoryMessages"))},t.prototype.getChatRoomInfo=function(n,o,s,r){e.CheckParam.getInstance().check(["string|number","number","number","object"],"getChatRoomInfo",!1,arguments),t._dataAccessProvider.getChatRoomInfo(n,o,s,t.logCallback(r,"getChatRoomInfo"))},t.prototype.quitChatRoom=function(n,o){e.CheckParam.getInstance().check(["string|number","object"],"quitChatRoom",!1,arguments),t._dataAccessProvider.quitChatRoom(n,t.logCallback(o,"quitChatRoom"))},t.prototype.getRemotePublicServiceList=function(e,n){t._dataAccessProvider.getRemotePublicServiceList(t.logCallback(e,"getRemotePublicServiceList"),n)},t.prototype.getPublicServiceList=function(n){t._memoryStore.depend.openMp&&(e.CheckParam.getInstance().check(["object"],"getPublicServiceList",!1,arguments),this.getRemotePublicServiceList(t.logCallback(n,"getPublicServiceList")))},t.prototype.getPublicServiceProfile=function(n,o,s){t._memoryStore.depend.openMp&&(e.CheckParam.getInstance().check(["number","string|number","object"],"getPublicServiceProfile",!1,arguments),t._dataAccessProvider.getPublicServiceProfile(n,o,t.logCallback(s,"getPublicServiceProfile")))},t.prototype.pottingPublicSearchType=function(e,n){if(t._memoryStore.depend.openMp){var o=0;return 0==e?(o|=3,o|=0==n?12:48):1==e?(o|=1,o|=0==n?8:32):(o|=2,o|=0==e?4:16),o}},t.prototype.searchPublicService=function(n,o,s){if(t._memoryStore.depend.openMp){e.CheckParam.getInstance().check(["number","string","object"],"searchPublicService",!1,arguments);var r=new t.Protobuf.SearchMpInput;r.setType(this.pottingPublicSearchType(0,n)),r.setId(o),t.bridge.queryMsg(29,e.MessageUtil.ArrayForm(r.toArrayBuffer()),e.Bridge._client.userId,t.logCallback(s,"searchPublicService"),"SearchMpOutput")}},t.prototype.searchPublicServiceByType=function(n,o,s,r){if(t._memoryStore.depend.openMp){e.CheckParam.getInstance().check(["number","number","string","object"],"searchPublicServiceByType",!1,arguments);var i=n==e.ConversationType.APP_PUBLIC_SERVICE?2:1,a=new t.Protobuf.SearchMpInput;a.setType(this.pottingPublicSearchType(i,o)),a.setId(s),t.bridge.queryMsg(29,e.MessageUtil.ArrayForm(a.toArrayBuffer()),e.Bridge._client.userId,t.logCallback(r,"searchPublicServiceByType"),"SearchMpOutput")}},t.prototype.subscribePublicService=function(n,o,s){if(t._memoryStore.depend.openMp){e.CheckParam.getInstance().check(["number","string|number","object"],"subscribePublicService",!1,arguments);var r=new t.Protobuf.MPFollowInput,i=this,a=n==e.ConversationType.APP_PUBLIC_SERVICE?"mcFollow":"mpFollow";r.setId(o),t.bridge.queryMsg(a,e.MessageUtil.ArrayForm(r.toArrayBuffer()),e.Bridge._client.userId,{onSuccess:function(){i.getRemotePublicServiceList({onSuccess:function(){},onError:function(){}}),s.onSuccess()},onError:function(e){var n=e;t.logger({code:n,funcName:"subscribePublicService"}),s.onError(e)}},"MPFollowOutput")}},t.prototype.unsubscribePublicService=function(n,o,s){if(t._memoryStore.depend.openMp){e.CheckParam.getInstance().check(["number","string|number","object"],"unsubscribePublicService",!1,arguments);var r=new t.Protobuf.MPFollowInput,i=n==e.ConversationType.APP_PUBLIC_SERVICE?"mcUnFollow":"mpUnFollow";r.setId(o),t.bridge.queryMsg(i,e.MessageUtil.ArrayForm(r.toArrayBuffer()),e.Bridge._client.userId,{onSuccess:function(){t._memoryStore.publicServiceMap.remove(n,o),s.onSuccess()},onError:function(e){var n=e;t.logger({code:n,funcName:"unsubscribePublicService"}),s.onError(e)}},"MPFollowOutput")}},t.prototype.addToBlacklist=function(n,o){e.CheckParam.getInstance().check(["string|number","object"],"addToBlacklist",!1,arguments),t._dataAccessProvider.addToBlacklist(n,t.logCallback(o,"addToBlacklist"))},t.prototype.getBlacklist=function(n){e.CheckParam.getInstance().check(["object"],"getBlacklist",!1,arguments),t._dataAccessProvider.getBlacklist(n)},t.prototype.getBlacklistStatus=function(n,o){e.CheckParam.getInstance().check(["string|number","object"],"getBlacklistStatus",!1,arguments),t._dataAccessProvider.getBlacklistStatus(n,t.logCallback(o,"getBlacklistStatus"))},t.prototype.removeFromBlacklist=function(n,o){e.CheckParam.getInstance().check(["string|number","object"],"removeFromBlacklist",!1,arguments),t._dataAccessProvider.removeFromBlacklist(n,t.logCallback(o,"removeFromBlacklist"))},t.prototype.getFileToken=function(n,o){e.CheckParam.getInstance().check(["number","object"],"getQngetFileTokenTkn",!1,arguments),t._dataAccessProvider.getFileToken(n,t.logCallback(o,"getFileToken"))},t.prototype.getFileUrl=function(n,o,s,r){e.CheckParam.getInstance().check(["number","string","string|global|object|null","object"],"getFileUrl",!1,arguments),t._dataAccessProvider.getFileUrl(n,o,s,t.logCallback(r,"getFileUrl"))},t.prototype.addRealTimeLocationListener=function(e,t,n){throw new Error("Not implemented yet")},t.prototype.getRealTimeLocation=function(e,t){throw new Error("Not implemented yet")},t.prototype.getRealTimeLocationCurrentState=function(e,t){throw new Error("Not implemented yet")},t.prototype.getRealTimeLocationParticipants=function(e,t){throw new Error("Not implemented yet")},t.prototype.joinRealTimeLocation=function(e,t){throw new Error("Not implemented yet")},t.prototype.quitRealTimeLocation=function(e,t){throw new Error("Not implemented yet")},t.prototype.startRealTimeLocation=function(e,t){throw new Error("Not implemented yet")},t.prototype.updateRealTimeLocationStatus=function(e,t,n,o){throw new Error("Not implemented yet")},t.prototype.startCall=function(n,o,s,r,i,a){if(e.CheckParam.getInstance().check(["number","string|number","array","number","string","object"],"startCall",!1,arguments),t._memoryStore.voipStategy)t._voipProvider.startCall(n,o,s,r,i,t.logCallback(a,"startCall"));else{var c=e.ErrorCode.VOIP_NOT_AVALIABLE;t.logger({code:c,funcName:"startCall"}),a.onError(e.ErrorCode.VOIP_NOT_AVALIABLE)}},t.prototype.joinCall=function(n,o){if(e.CheckParam.getInstance().check(["number","object"],"joinCall",!1,arguments),t._memoryStore.voipStategy)t._voipProvider.joinCall(n,t.logCallback(o,"joinCall"));else{var s=e.ErrorCode.VOIP_NOT_AVALIABLE;t.logger({code:s,funcName:"joinCall"}),o.onError(e.ErrorCode.VOIP_NOT_AVALIABLE)}},t.prototype.hungupCall=function(n,o,s){e.CheckParam.getInstance().check(["number","string","number"],"hungupCall",!1,arguments),t._memoryStore.voipStategy&&t._voipProvider.hungupCall(n,o,s)},t.prototype.changeMediaType=function(n,o,s,r){if(e.CheckParam.getInstance().check(["number","string","number","object"],"changeMediaType",!1,arguments),t._memoryStore.voipStategy)t._voipProvider.changeMediaType(n,o,s,t.logCallback(r,"changeMediaType"));else{var i=e.ErrorCode.VOIP_NOT_AVALIABLE;t.logger({code:i,funcName:"changeMediaType"}),r.onError(e.ErrorCode.VOIP_NOT_AVALIABLE)}},t.prototype.getUnreadMentionedMessages=function(e,n){return t._dataAccessProvider.getUnreadMentionedMessages(e,n)},t.prototype.clearListeners=function(){t._dataAccessProvider.clearListeners()},t.prototype.getUserStatus=function(e,n){t._dataAccessProvider.getUserStatus(e,t.logCallback(n,"getUserStatus"))},t.prototype.setUserStatus=function(e,n){t._dataAccessProvider.setUserStatus(e,t.logCallback(n,"setUserStatus"))},t.prototype.setUserStatusListener=function(e,n){var o=e.userIds,s=e.multiple;t.userStatusObserver.watch({key:o,func:n,multiple:s}),t._dataAccessProvider.setUserStatusListener(e,n)},t.messageWatch=function(e){t.RTCListener=e},t.prototype.getRTCUserInfoList=function(n,o){e.CheckParam.getInstance().check(["object","object"],"getRTCUserInfoList",!1,arguments),t._dataAccessProvider.getRTCUserInfoList(n,o)},t.prototype.getRTCUserList=function(n,o){e.CheckParam.getInstance().check(["object","object"],"getRTCUserList",!1,arguments),t._dataAccessProvider.getRTCUserList(n,o)},t.prototype.setRTCUserInfo=function(n,o,s){e.CheckParam.getInstance().check(["object","object","object"],"setRTCUserInfo",!1,arguments),t._dataAccessProvider.setRTCUserInfo(n,o,s)},t.prototype.removeRTCUserInfo=function(n,o,s){e.CheckParam.getInstance().check(["object","object","object"],"removeRTCUserInfo",!1,arguments),t._dataAccessProvider.removeRTCUserInfo(n,o,s)},t.prototype.getRTCRoomInfo=function(n,o){e.CheckParam.getInstance().check(["object","object"],"getRTCRoomInfo",!1,arguments),t._dataAccessProvider.getRTCRoomInfo(n,o)},t.prototype.setRTCRoomInfo=function(n,o,s){e.CheckParam.getInstance().check(["object","object","object"],"setRTCRoomInfo",!1,arguments),t._dataAccessProvider.setRTCRoomInfo(n,o,s)},t.prototype.removeRTCRoomInfo=function(n,o,s){e.CheckParam.getInstance().check(["object","object","object"],"removeRTCRoomInfo",!1,arguments),t._dataAccessProvider.removeRTCRoomInfo(n,o,s)},t.prototype.joinRTCRoom=function(n,o){e.CheckParam.getInstance().check(["object","object"],"joinRTCRoom",!1,arguments),t._dataAccessProvider.joinRTCRoom(n,o)},t.prototype.quitRTCRoom=function(n,o){e.CheckParam.getInstance().check(["object","object"],"quitRTCRoom",!1,arguments),t._dataAccessProvider.quitRTCRoom(n,o)},t.prototype.RTCPing=function(n,o){e.CheckParam.getInstance().check(["object","object"],"RTCPing",!1,arguments),t._dataAccessProvider.RTCPing(n,o)},t.prototype.setRTCUserData=function(n,o,s,r,i,a){e.CheckParam.getInstance().check(["string","string","string","boolean","object","global|object|null|undefined"],"setRTCUserData",!1,arguments),t._dataAccessProvider.setRTCUserData(n,o,s,r,i,a)},t.prototype.getRTCUserData=function(n,o,s,r){e.CheckParam.getInstance().check(["string","array","boolean","object","global|object|null"],"getRTCUserData",!1,arguments),t._dataAccessProvider.getRTCUserData(n,o,s,r)},t.prototype.removeRTCUserData=function(n,o,s,r,i){e.CheckParam.getInstance().check(["string","array","boolean","object","global|object|null|undefined"],"removeRTCUserData",!1,arguments),t._dataAccessProvider.removeRTCUserData(n,o,s,r,i)},t.prototype.setRTCRoomData=function(n,o,s,r,i,a){e.CheckParam.getInstance().check(["string","string","string","boolean","object","global|object|null|undefined"],"setRTCRoomData",!1,arguments),t._dataAccessProvider.setRTCRoomData(n,o,s,r,i,a)},t.prototype.getRTCRoomData=function(n,o,s,r){e.CheckParam.getInstance().check(["string","array","boolean","object"],"getRTCRoomData",!1,arguments),t._dataAccessProvider.getRTCRoomData(n,o,s,r)},t.prototype.removeRTCRoomData=function(n,o,s,r,i){e.CheckParam.getInstance().check(["string","array","boolean","object","global|object|null|undefined"],"removeRTCRoomData",!1,arguments),t._dataAccessProvider.removeRTCRoomData(n,o,s,r,i)},t.prototype.getNavi=function(){return t._dataAccessProvider.getNavi()},t.prototype.getRTCToken=function(n,o){return e.CheckParam.getInstance().check(["object","object"],"getRTCToken",!1,arguments),t._dataAccessProvider.getRTCToken(n,o)},t.prototype.getAppInfo=function(){return{appKey:t._memoryStore.appKey}},t.RTCListener=function(){},t.LogFactory={},t.MessageType={},t.RegisterMessage={},t._memoryStore={listenerList:[],isPullFinished:!1,syncMsgQueue:[]},t.isNotPullMsg=!1,t.userStatusObserver=null,t.sdkver="2.4.0",t.otherDeviceLoginCount=0,t.serverStore={index:0},t.isFirstConnect=!0,t.statusListeners=[],t.userStatusListener=null,t}();e.RongIMClient=t}(RongIMLib||(RongIMLib={})),function(e){!function(e){e[e.AT_MOST_ONCE=0]="AT_MOST_ONCE",e[e.AT_LEAST_ONCE=1]="AT_LEAST_ONCE",e[e.EXACTLY_ONCE=2]="EXACTLY_ONCE",e[e.DEFAULT=3]="DEFAULT"}(e.Qos||(e.Qos={}));var t=e.Qos;!function(e){e[e.CONNECT=1]="CONNECT",e[e.CONNACK=2]="CONNACK",e[e.PUBLISH=3]="PUBLISH",e[e.PUBACK=4]="PUBACK",e[e.QUERY=5]="QUERY",e[e.QUERYACK=6]="QUERYACK",e[e.QUERYCON=7]="QUERYCON",e[e.SUBSCRIBE=8]="SUBSCRIBE",e[e.SUBACK=9]="SUBACK",e[e.UNSUBSCRIBE=10]="UNSUBSCRIBE",e[e.UNSUBACK=11]="UNSUBACK",e[e.PINGREQ=12]="PINGREQ",e[e.PINGRESP=13]="PINGRESP",e[e.DISCONNECT=14]="DISCONNECT"}(e.Type||(e.Type={}));var n=(e.Type,["invtDiz","crDiz","qnUrl","userInf","dizInf","userInf","joinGrp","quitDiz","exitGrp","evctDiz",["","ppMsgP","pdMsgP","pgMsgP","chatMsg","pcMsgP","","pmcMsgN","pmpMsgN","","","","prMsgS"],"pdOpen","rename","uGcmpr","qnTkn","destroyChrm","createChrm","exitChrm","queryChrm","joinChrm","pGrps","addBlack","rmBlack","getBlack","blackStat","addRelation","qryRelation","delRelation","pullMp","schMp","qnTkn","qnUrl","qryVoipK","delMsg","qryCHMsg","getUserStatus","setUserStatus","subUserStatus","cleanHisMsg"]),o=function(){function t(n,o){this.connectionStatus=-1;var r=o.appId,i=encodeURIComponent(o.token),a=o.sdkVer,c=o.apiVer;this.self=o,this.socket=s.getInstance().createServer();var u=this,l=e.RongIMClient._storageProvider,g=l.getItem("servers");g=JSON.parse(g)||[];var d=e.RongIMClient._memoryStore.depend,p=function(t){u.url=e.RongUtil.tplEngine("{host}/websocket?appId={appId}&token={token}&sdkVer={sdkVer}&apiVer={apiVer}",{host:t,appId:r,token:i,sdkVer:a,apiVer:c}),u.socket.connect(u.url,n);var o=l.getItem("rong_current_user");e.Navigation.Endpoint={host:t,userId:o}};({ws:function(){for(var t=new e.Timer({timeout:15e3}),n=[],o=[],s=!1,r=function(){for(var e=0;e<n.length;e++){var t=n[e];clearTimeout(t)}for(e=0;e<o.length;e++)o[e].abort();n.length=0,o.length=0},i=function(i,a){var c=i.url,u=i.time;if(!s){var l=setTimeout(function(){var n=function(){s||(r(),s=!0,t.pause(),a(c))},i=e.MessageUtil.detectCMP({url:c,success:n,fail:function(e){console.log(e)}});o.push(i)},u);n.push(l)}},a=function(e){var t=/(http|https):\/\/([^\/]+)/i,n=e.match(t)[2];p(n)},c="{protocol}{server}/ping?r={random}",l=0;l<g.length;l++){var f=g[l];f&&(f=e.RongUtil.tplEngine(c,{protocol:d.protocol,server:f,random:e.RongUtil.getTimestamp()}),i({url:f,time:1e3*l},a))}t.resume(function(){e.Navigation.clear(),r(),u.socket.fire("StatusChanged",e.ConnectionStatus.NETWORK_UNAVAILABLE)})},comet:function(){var e=g[0];p(e)}})[d.isPolling?"comet":"ws"]();var f=t._ConnectionStatusListener,m="object"==Object(F_project_vue_wechat_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_12__["a"])(f),h=this;h.socket.on("StatusChanged",function(t){if(!m)throw new Error("setConnectStatusListener:Parameter format is incorrect");var n=t==e.ConnectionStatus.NETWORK_UNAVAILABLE,s=!e.RongIMClient._memoryStore.depend.isPolling;e.RongIMClient.isFirstConnect&&n&&s&&(t=e.ConnectionStatus.WEBSOCKET_UNAVAILABLE),h.connectionStatus=t,setTimeout(function(){f.onChanged(t)}),t==e.ConnectionStatus.DISCONNECTED&&o.clearHeartbeat(),t==e.ConnectionStatus.KICKED_OFFLINE_BY_OTHER_CLIENT&&e.RongIMClient.otherDeviceLoginCount++,t==e.ConnectionStatus.CONNECTED&&(e.RongIMClient.isFirstConnect=!1),t==e.ConnectionStatus.WEBSOCKET_UNAVAILABLE&&(h.changeConnectType(),e.RongIMClient.isFirstConnect=!1,e.RongIMClient.connect(o.token,e.RongIMClient._memoryStore.callback))}),this.socket.on("message",o.handler.handleMessage),this.socket.on("disconnect",function(e){u.socket.fire("StatusChanged",e||2)})}return t.prototype.changeConnectType=function(){e.RongIMClient._memoryStore.depend.isPolling=!e.RongIMClient._memoryStore.depend.isPolling,new e.FeatureDectector},t.prototype.writeAndFlush=function(e){this.socket.send(e)},t.prototype.reconnect=function(t){e.MessageIdHandler.clearMessageId(),this.socket=this.socket.reconnect(),t&&(this.self.reconnectObj=t)},t.prototype.disconnect=function(e){this.socket.disconnect(e)},t}();e.Channel=o;var s=function(){function t(){this.socket=null,this._events={}}return t.getInstance=function(){return new t},t.prototype.connect=function(t,n){return this.socket&&(t&&(e.RongIMClient._storageProvider.setItem("rongSDK",this.checkTransport()),this.on("connect",n||new Function)),t&&(this.currentURL=t),this.socket.createTransport(t)),this},t.prototype.createServer=function(){var e=this.getTransport(this.checkTransport());if(null===e)throw new Error("the channel was not supported");return e},t.prototype.getTransport=function(n){return n==t.XHR_POLLING?this.socket=new e.PollingTransportation(this):n==t.WEBSOCKET&&(this.socket=new e.SocketTransportation(this)),this},t.prototype.send=function(e){this.socket&&(this.checkTransport()==t.WEBSOCKET?this.socket.send(e):this.socket.send(this._encode(e)))},t.prototype.onMessage=function(e){this.fire("message",e)},t.prototype.disconnect=function(e){return this.socket.disconnect(e),this.fire("disconnect",e),this},t.prototype.reconnect=function(){if(this.currentURL&&e.RongIMClient._storageProvider.getItem("rongSDK"))return this.connect(this.currentURL,null);throw new Error("reconnect:no have URL")},t.prototype.checkTransport=function(){return e.RongIMClient._memoryStore.depend.isPolling&&(e.Transportations._TransportType=t.XHR_POLLING),e.Transportations._TransportType},t.prototype.fire=function(e,t){if(e in this._events)for(var n=0,o=this._events[e].length;n<o;n++)this._events[e][n](t);return this},t.prototype.on=function(t,n){return"function"==typeof n&&t?(t in this._events?-1==e.MessageUtil.indexOf(this._events,n)&&this._events[t].push(n):this._events[t]=[n],this):this},t.prototype.removeEvent=function(e,t){if(e in this._events)for(var n=0,o=this._events[e].length;n<o;n++)this._events[e][n]==t&&this._events[e].splice(n,1);return this},t.prototype._encode=function(t){var n="?messageid="+t.getMessageId()+"&header="+t.getHeaderFlag()+"&sessionid="+e.RongIMClient._storageProvider.getItem("sId"+e.Navigation.Endpoint.userId);return/(PubAckMessage|QueryConMessage)/.test(t._name)||(n+="&topic="+t.getTopic()+"&targetid="+(t.getTargetId()||"")),{url:n,data:"getData"in t?t.getData():""}},t.XHR_POLLING="xhr-polling",t.WEBSOCKET="websocket",t}();e.Socket=s;var r=function(){function n(t,n){this.timeoutMillis=6e3,this.timeout_=0,this.sdkVer="",this.apiVer=Math.floor(1e6*Math.random()),this.channel=null,this.handler=null,this.userId="",this.reconnectObj={},this.heartbeat=0,this.pullMsgHearbeat=0,this.chatroomId="",this.SyncTimeQueue=[],this.cacheMessageIds=[],this.token=t,this.appId=n,this.SyncTimeQueue.state="complete",this.sdkVer=e.RongIMClient.sdkver}return n.prototype.resumeTimer=function(){var e=this;this.timeout_=setTimeout(function(){e.channel.disconnect()},this.timeoutMillis)},n.prototype.pauseTimer=function(){this.timeout_&&(clearTimeout(this.timeout_),this.timeout_=0)},n.prototype.connect=function(t){this.handler=new a(this),this.handler.setConnectCallback(t);var n=this;this.channel=new o(function(){e.Transportations._TransportType==s.WEBSOCKET&&n.keepLive()},this),this.channel.socket.fire("StatusChanged",e.ConnectionStatus.CONNECTING)},n.prototype.checkSocket=function(t){this.channel.writeAndFlush(new e.PingReqMessage);var n=0,o=setInterval(function(){e.RongIMClient._memoryStore.isFirstPingMsg?n>15&&(clearInterval(o),t.onError()):(clearInterval(o),t.onSuccess()),n++},100)},n.prototype.keepLive=function(){this.heartbeat>0&&clearInterval(this.heartbeat);var t=this;t.heartbeat=setInterval(function(){t.resumeTimer(),t.channel.writeAndFlush(new e.PingReqMessage)},3e4),t.pullMsgHearbeat>0&&clearInterval(t.pullMsgHearbeat),t.pullMsgHearbeat=setInterval(function(){t.syncTime(!0,void 0,void 0,!1)},18e4)},n.prototype.clearHeartbeat=function(){clearInterval(this.heartbeat),this.heartbeat=0,this.pauseTimer(),clearInterval(this.pullMsgHearbeat),this.pullMsgHearbeat=0},n.prototype.publishMessage=function(n,o,s,r,i){var a=e.MessageIdHandler.messageIdPlus(this.channel.reconnect);if(a){var c=new e.PublishMessage(n,o,s);c.setMessageId(a),r?(c.setQos(t.AT_LEAST_ONCE),this.handler.putCallback(new e.PublishCallback(r.onSuccess,r.onError),c.getMessageId(),i)):c.setQos(t.AT_MOST_ONCE),this.channel.writeAndFlush(c)}},n.prototype.queryMessage=function(t,o,s,r,i,a){if("userInf"==t&&n.userInfoMapping[s])i.onSuccess(n.userInfoMapping[s]);else{var c=e.MessageIdHandler.messageIdPlus(this.channel.reconnect);if(c){var u=new e.QueryMessage(t,o,s);u.setMessageId(c),u.setQos(r),this.handler.putCallback(new e.QueryCallback(i.onSuccess,i.onError),u.getMessageId(),a),this.channel.writeAndFlush(u)}}},n.prototype.invoke=function(n,o,s){var r,a,c,u,l=this,g=this.SyncTimeQueue.shift();if(void 0!=g){this.SyncTimeQueue.state="pending";var d=e.SyncTimeUtil.get(),p=d.sent;if(2!=g.type)r=d.received,a=new e.RongIMClient.Protobuf.SyncRequestMsg,a.setIspolling(!1),c="pullMsg",u=this.userId,a.setSendBoxSyncTime(p);else if(u=g.chrmId||l.chatroomId,r=e.RongIMClient._memoryStore.lastReadTime.get(u+i._client.userId+"CST")||0,a=new e.RongIMClient.Protobuf.ChrmPullMsg,a.setCount(0),c="chrmPull",!u)throw new Error("syncTime:Received messages of chatroom but was not init");if(g.pulltime<=r)return this.SyncTimeQueue.state="complete",void this.invoke(n,u,s);n&&"setIsPullSend"in a&&a.setIsPullSend(!0),a.setSyncTime(r),this.queryMessage(c,e.MessageUtil.ArrayForm(a.toArrayBuffer()),u,t.AT_LEAST_ONCE,{onSuccess:function(t){var o=e.MessageUtil.int64ToTimestamp(t.syncTime),a=u,g="chrmPull"==c;if(g)a+=i._client.userId+"CST",e.RongIMClient._memoryStore.lastReadTime.set(a,o);else{var d=e.RongIMClient._storageProvider;o>d.getItem(a)&&d.setItem(a,o)}var f=t.list,m=t.finished;g&&(m=!0),e.RongIMClient._memoryStore.isPullFinished=m;for(var h=e.RongIMClient._memoryStore.connectAckTime,C=0,_=f.length,y=_;C<_;C++){y-=1;var M=f[C],R=e.MessageUtil.int64ToTimestamp(M.dataTime);if(R>(M.direction==e.MessageDirection.SEND?p:r)){var I=R<h;i._client.handler.onReceived(M,void 0,I,y,!1,m)}}l.SyncTimeQueue.state="complete",l.invoke(n,u,s)},onError:function(e){l.SyncTimeQueue.state="complete",l.invoke(n,u,s)}},"DownStreamMessages")}},n.prototype.syncTime=function(e,t,n,o){this.SyncTimeQueue.push({type:e,pulltime:t,chrmId:n}),1==this.SyncTimeQueue.length&&"complete"==this.SyncTimeQueue.state&&this.invoke(!e,n,o)},n.prototype.__init=function(t){this.handler=new a(this),this.handler.setConnectCallback(e.RongIMClient._memoryStore.callback),this.channel=new o(t,this)},n.userInfoMapping={},n}();e.Client=r;var i=function(){function s(){}return s.getInstance=function(){return new s},s.prototype.connect=function(t,n,o){if(e.RongIMClient.Protobuf)return s._client=(new e.Navigation).connect(t,n,o),s._client},s.prototype.setListener=function(e){"object"==Object(F_project_vue_wechat_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_12__["a"])(e)&&("function"==typeof e.onChanged?o._ConnectionStatusListener=e:"function"==typeof e.onReceived&&(o._ReceiveMessageListener=e))},s.prototype.reconnect=function(e){s._client.channel.reconnect(e)},s.prototype.disconnect=function(){s._client.channel.disconnect(2)},s.prototype.queryMsg=function(e,o,r,i,a){"string"!=typeof e&&(e=n[e]),s._client.queryMessage(e,o,r,t.AT_MOST_ONCE,i,a)},s.prototype.pubMsg=function(t,o,r,i,a,c){"number"==typeof c?c==e.MethodType.CUSTOMER_SERVICE?s._client.publishMessage("pcuMsgP",o,r,i,a):c==e.MethodType.RECALL&&s._client.publishMessage("recallMsg",o,r,i,a):s._client.publishMessage(n[10][t],o,r,i,a)},s}();e.Bridge=i;var a=function(){function t(e){if(this.map={},this.connectCallback=null,!o._ReceiveMessageListener)throw new Error("please set onReceiveMessageListener");this._onReceived=o._ReceiveMessageListener.onReceived,this._client=e,this.syncMsgMap=new Object}return t.prototype.putCallback=function(e,t,n){var o={Callback:e,Message:n};o.Callback.resumeTimer(),this.map[t]=o},t.prototype.setConnectCallback=function(t){t&&(this.connectCallback=new e.ConnectAck(t.onSuccess,t.onError,this._client))},t.prototype.onReceived=function(t,n,o,s,r){var a,c,u;if("PublishMessage"!=t._name)a=t,e.RongIMClient._storageProvider.setItem(this._client.userId,e.MessageUtil.int64ToTimestamp(a.dataTime));else{if("s_ntf"==t.getTopic())return a=e.RongIMClient.Protobuf.NotifyMsg.decode(t.getData()),void this._client.syncTime(a.type,e.MessageUtil.int64ToTimestamp(a.time),a.chrmId);if("s_msg"==t.getTopic()){a=e.RongIMClient.Protobuf.DownStreamMessage.decode(t.getData());var l=e.MessageUtil.int64ToTimestamp(a.dataTime);e.RongIMClient._storageProvider.setItem(this._client.userId,l),e.RongIMClient._memoryStore.lastReadTime.get(this._client.userId,l)}else{if("s_stat"==t.getTopic())return a=e.RongIMClient.Protobuf.GetUserStatusOutput.decode(t.getData()),a=e.RongInnerTools.convertUserStatus(a),void e.RongIMClient.userStatusObserver.notify({key:a.userId,entity:a});if(i._client.sdkVer&&"1.0.0"==i._client.sdkVer)return;a=e.RongIMClient.Protobuf.UpStreamMessage.decode(t.getData());var g=t.getTopic(),d=g.substr(0,2);"pp"==d?a.type=1:"pd"==d?a.type=2:"pg"==d?a.type=3:"ch"==d?a.type=4:"pc"==d&&(a.type=5),a.groupId=t.getTargetId(),a.fromUserId=this._client.userId,a.dataTime=Date.parse((new Date).toString())}if(!a)return}var p=e.RongIMClient._memoryStore.isPullFinished;if(p||o){if(c=e.MessageUtil.messageParser(a,this._onReceived,o),12==c.conversationType)return e.RongIMClient.RTCListener(c);if(t.getTopic&&"recallMsg"==t.getTopic()){var f=c.content;c.conversationType=f.conversationType,c.targetId=f.targetId,c.messageId=null}if(n&&(c.messageUId=n.getMessageUId(),c.sentTime=n.getTimestamp(),e.RongIMClient._storageProvider.setItem(this._client.userId,c.sentTime)),null!==c){if(c.conversationType!=e.ConversationType.CHATROOM&&(e.RongIMClient.MessageParams[c.messageType].msgTag.getMessageTag()>=0&&e.SyncTimeUtil.set(c),c.messageDirection==e.MessageDirection.SEND)){var m=e.RongIMClient._storageProvider,h=e.Bridge._client.userId,C=m.getItem("last_sentTime_"+h)||0;if(c.sentTime<=C&&!r)return}if(e.RongIMClient.MessageParams[c.messageType].msgTag.getMessageTag()>0){if(u=e.RongIMClient._dataAccessProvider.getConversation(c.conversationType,c.targetId,{onSuccess:function(){},onError:function(){}}),u||(u=e.RongIMClient.getInstance().createConversation(c.conversationType,c.targetId,"")),c.messageDirection==e.MessageDirection.RECEIVE&&64==(64&a.status)){var _=e.RongIMClient._storageProvider.getItem("mentioneds_"+i._client.userId+"_"+c.conversationType+"_"+c.targetId),y=c.conversationType+"_"+c.targetId,M={};if(c.content&&c.content.mentionedInfo&&(M[y]={uid:c.messageUId,time:c.sentTime,mentionedInfo:c.content.mentionedInfo},e.RongIMClient._storageProvider.setItem("mentioneds_"+i._client.userId+"_"+c.conversationType+"_"+c.targetId,JSON.stringify(M)),_=JSON.stringify(M)),_){M=JSON.parse(_);u.mentionedMsg=M[y]}}if(c.messageDirection==e.MessageDirection.RECEIVE&&(u.unreadMessageCount=u.unreadMessageCount+1,e.RongUtil.supportLocalStorage())){var R=e.RongIMClient._storageProvider.getItem("cu"+i._client.userId+u.conversationType+u.targetId),I=Number(R)+1;e.RongIMClient._storageProvider.setItem("cu"+i._client.userId+u.conversationType+c.targetId,I),u.unreadMessageCount=I}u.receivedTime=(new Date).getTime(),u.receivedStatus=c.receivedStatus,u.senderUserId=c.sendUserId,u.notificationStatus=e.ConversationNotificationStatus.DO_NOT_DISTURB,u.latestMessageId=c.messageId,u.latestMessage=c,u.sentTime=c.sentTime,e.RongIMClient._dataAccessProvider.addConversation(u,{onSuccess:function(e){},onError:function(){}})}if(c.conversationType!=e.ConversationType.CUSTOMER_SERVICE||"ChangeModeResponseMessage"!=c.messageType&&"SuspendMessage"!=c.messageType&&"HandShakeResponseMessage"!=c.messageType&&"TerminateMessage"!=c.messageType&&"CustomerStatusUpdateMessage"!=c.messageType&&"TextMessage"!=c.messageType&&"InformationNotificationMessage"!=c.messageType||e.RongIMClient._memoryStore.custStore.isInit){if(c.conversationType==e.ConversationType.CUSTOMER_SERVICE&&"HandShakeResponseMessage"!=c.messageType){if(!e.RongIMClient._memoryStore.custStore[c.targetId])return;if("TerminateMessage"==c.messageType&&e.RongIMClient._memoryStore.custStore[c.targetId].sid!=c.content.sid)return}if(c.messageType===e.RongIMClient.MessageType.HandShakeResponseMessage){var v=c.content.data;e.RongIMClient._memoryStore.custStore[c.targetId]=v,v.serviceType!=e.CustomerType.ONLY_HUMAN&&v.serviceType!=e.CustomerType.HUMAN_FIRST||"1"==v.notAutoCha&&e.RongIMClient.getInstance().switchToHumanMode(c.targetId,{onSuccess:function(){},onError:function(){}})}var S=new Date,T=S.getMonth()+1,E=S.getFullYear()+"/"+(1==T.toString().length?"0"+T:T)+"/"+S.getDate(),b=new Date(E).getTime()-c.sentTime<0;if(e.RongUtil.supportLocalStorage()&&c.messageType===e.RongIMClient.MessageType.ReadReceiptRequestMessage&&b&&c.messageDirection==e.MessageDirection.SEND){var O=i._client.userId+c.content.messageUId+"SENT";e.RongIMClient._storageProvider.setItem(O,JSON.stringify({count:0,dealtime:c.sentTime,userIds:{}}))}else if(e.RongUtil.supportLocalStorage()&&c.messageType===e.RongIMClient.MessageType.ReadReceiptRequestMessage&&b){var N=i._client.userId+c.conversationType+c.targetId+"RECEIVED",A=JSON.parse(e.RongIMClient._storageProvider.getItem(N));if(A)if(c.senderUserId in A){if(!A[c.senderUserId].uIds||!A[c.senderUserId].uIds||-1!=A[c.senderUserId].uIds.indexOf(c.content.messageUId))return;A[c.senderUserId].uIds.push(c.content.messageUId),A[c.senderUserId].dealtime=c.sentTime,A[c.senderUserId].isResponse=!1,e.RongIMClient._storageProvider.setItem(N,JSON.stringify(A))}else{var P={uIds:[c.content.messageUId],dealtime:c.sentTime,isResponse:!1};A[c.senderUserId]=P,e.RongIMClient._storageProvider.setItem(N,JSON.stringify(A))}else{var L={};L[c.senderUserId]={uIds:[c.content.messageUId],dealtime:c.sentTime,isResponse:!1},e.RongIMClient._storageProvider.setItem(N,JSON.stringify(L))}}if(e.RongUtil.supportLocalStorage()&&c.messageType===e.RongIMClient.MessageType.ReadReceiptResponseMessage&&b){var U,k=c.content,w=k.receiptMessageDic[i._client.userId];O="";if(c.receiptResponse||(c.receiptResponse={}),w){for(var D=[],B=0,j=w.length;B<j;B++)O=i._client.userId+w[B]+"SENT",!(U=JSON.parse(e.RongIMClient._storageProvider.getItem(O)))||c.senderUserId in U.userIds||(D.push(w[B]),U.count+=1,U.userIds[c.senderUserId]=c.sentTime,c.receiptResponse[w[B]]=U.count,e.RongIMClient._storageProvider.setItem(O,JSON.stringify(U)));k.receiptMessageDic[i._client.userId]=D,c.content=k}}var x=this;if(e.RongIMClient._voipProvider&&["AcceptMessage","RingingMessage","HungupMessage","InviteMessage","MediaModifyMessage","MemberModifyMessage"].indexOf(c.messageType)>-1)setTimeout(function(){e.RongIMClient._voipProvider.onReceived(c)});else{var H=s||0,F=!p;setTimeout(function(){x._onReceived(c,H,F)})}}}}},t.prototype.handleMessage=function(t){if(t)switch(t._name){case"ConnAckMessage":i._client.handler.connectCallback.process(t.getStatus(),t.getUserId(),t.getTimestamp());break;case"PublishMessage":t.getSyncMsg()||0==t.getQos()||i._client.channel.writeAndFlush(new e.PubAckMessage(t.getMessageId())),t.getSyncMsg()&&!e.RongIMClient._memoryStore.depend.isPolling?i._client.handler.syncMsgMap[t.getMessageId()]=t:i._client.handler.onReceived(t);break;case"QueryAckMessage":0!=t.getQos()&&i._client.channel.writeAndFlush(new e.QueryConMessage(t.getMessageId()));var n=i._client.handler.map[t.getMessageId()];n&&(n.Callback.process(t.getStatus(),t.getData(),t.getDate(),n.Message),delete i._client.handler.map[t.getMessageId()]);break;case"PubAckMessage":var o=i._client.handler.map[t.getMessageId()];if(o)o.Callback.process(t.getStatus()||0,t.getMessageUId(),t.getTimestamp(),o.Message,t.getMessageId()),delete i._client.handler.map[t.getMessageId()];else{var s=e.Bridge._client.userId;e.RongIMClient._storageProvider.setItem("last_sentTime_"+s,t.timestamp),i._client.handler.onReceived(i._client.handler.syncMsgMap[t.messageId],t,null,null,!0),delete i._client.handler.syncMsgMap[t.getMessageId()]}break;case"PingRespMessage":e.RongIMClient._memoryStore.isFirstPingMsg?e.RongIMClient._memoryStore.isFirstPingMsg=!1:i._client.pauseTimer();break;case"DisconnectMessage":i._client.channel.disconnect(t.getStatus())}},t}();e.MessageHandler=a}(RongIMLib||(RongIMLib={}));var __extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib;!function(e){var t=function(){function t(e){this.timeout=null,this.onError=null,e&&"number"==typeof e?this.timeoutMillis=e:(this.timeoutMillis=3e4,this.onError=e)}return t.prototype.resumeTimer=function(){var e=this;this.timeoutMillis>0&&!this.timeout&&(this.timeout=setTimeout(function(){e.readTimeOut(!0)},this.timeoutMillis))},t.prototype.pauseTimer=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},t.prototype.readTimeOut=function(t){t&&this.onError?this.onError(e.ErrorCode.TIMEOUT):this.pauseTimer()},t}();e.MessageCallback=t;var n=function(){function t(){this.publicServiceList=[]}return t.getInstance=function(){return new t},t.prototype.pottingProfile=function(t){var n;this.profile=new e.PublicServiceProfile,n=JSON.parse(t.extra),this.profile.isGlobal=n.isGlobal,this.profile.introduction=n.introduction,this.profile.menu=n.menu,this.profile.hasFollowed=n.follow,this.profile.publicServiceId=t.mpid,this.profile.name=t.name,this.profile.portraitUri=t.portraitUrl,this.profile.conversationType="mc"==t.type?e.ConversationType.APP_PUBLIC_SERVICE:e.ConversationType.PUBLIC_SERVICE,this.publicServiceList.push(this.profile)},t.prototype.mapping=function(t,n){switch(n){case"GetUserInfoOutput":return new e.UserInfo(t.userId,t.userName,t.userPortrait);case"GetQNupTokenOutput":return{deadline:e.MessageUtil.int64ToTimestamp(t.deadline),token:t.token};case"GetQNdownloadUrlOutput":return{downloadUrl:t.downloadUrl};case"CreateDiscussionOutput":return t.id;case"ChannelInfoOutput":var o=new e.Discussion;return o.creatorId=t.adminUserId,o.id=t.channelId,o.memberIdList=t.firstTenUserIds,o.name=t.channelName,o.isOpen=t.openStatus,o;case"GroupHashOutput":return t.result;case"QueryBlackListOutput":return t.userIds;case"SearchMpOutput":case"PullMpOutput":if(t.info){var s=this;Array.forEach(t.info,function(e){setTimeout(function(){s.pottingProfile(e)},100)})}return this.publicServiceList;default:return t}},t}();e.CallbackMapping=n;var o=function(n){function o(e,t){n.call(this,t),this._cb=e,this._timeout=t}return __extends(o,n),o.prototype.process=function(t,n,o,s,r){if(this.readTimeOut(),0==t){if(s&&(s.setSentStatus=t),e.RongIMClient._memoryStore.isPullFinished){var i=e.Bridge._client.userId;e.RongIMClient._storageProvider.setItem("last_sentTime_"+i,o),e.SyncTimeUtil.set({messageDirection:e.MessageDirection.SEND,sentTime:o})}this._cb({messageUId:n,timestamp:o,messageId:r})}else this._timeout(t,{messageUId:n,sentTime:o})},o.prototype.readTimeOut=function(e){t.prototype.readTimeOut.call(this,e)},o}(t);e.PublishCallback=o;var s=function(o){function s(e,t){o.call(this,t),this._cb=e,this._timeout=t}return __extends(s,o),s.prototype.process=function(t,o,s,r){if(this.readTimeOut(),r&&o&&0==t){try{o=n.getInstance().mapping(e.RongIMClient.Protobuf[r].decode(o),r)}catch(i){return void this._timeout(e.ErrorCode.UNKNOWN)}"GetUserInfoOutput"==r&&(e.Client.userInfoMapping[o.userId]=o),this._cb(o)}else t>0?this._timeout(t):this._cb(t)},s.prototype.readTimeOut=function(e){t.prototype.readTimeOut.call(this,e)},s}(t);e.QueryCallback=s;var r=function(n){function o(e,t,o){n.call(this,t),this._client=o,this._cb=e,this._timeout=t}return __extends(o,n),o.prototype.process=function(t,n,o){if(this.readTimeOut(),0==t){this._client.userId=n;var s=this;if(!e.RongIMClient._memoryStore.depend.isPolling&&e.RongIMClient._memoryStore.isFirstPingMsg?e.Bridge._client.checkSocket({onSuccess:function(){e.RongIMClient.isNotPullMsg||s._client.syncTime(void 0,void 0,void 0,!0)},onError:function(){e.RongIMClient._memoryStore.isFirstPingMsg=!1,e.RongIMClient.getInstance().disconnect(),e.RongIMClient.connect(e.RongIMClient._memoryStore.token,e.RongIMClient._memoryStore.callback)}}):e.RongIMClient.isNotPullMsg||s._client.syncTime(void 0,void 0,void 0,!0),e.Bridge._client.channel.socket.fire("StatusChanged",0),this._client.reconnectObj.onSuccess)this._client.reconnectObj.onSuccess(n),delete this._client.reconnectObj.onSuccess;else{var r=this;setTimeout(function(){r._cb(n)},500)}e.RongIMClient._memoryStore.connectAckTime=o,(new Date).getTime()-o?e.RongIMClient._memoryStore.deltaTime=(new Date).getTime()-o:e.RongIMClient._memoryStore.deltaTime=0}else if(6==t){e.RongIMClient.getInstance().disconnect();r=this;var i=r._client,a=i.appId,c=i.token;(new e.Navigation).getServerEndpoint(c,a,function(){i.clearHeartbeat();var t=new e.Client(c,a);e.Bridge._client=t,t.__init(function(){"websocket"==e.Transportations._TransportType&&t.keepLive()})},r._timeout,!1)}else e.Bridge._client.channel.socket.socket._status=t,this._client.reconnectObj.onError?(this._client.reconnectObj.onError(t),delete this._client.reconnectObj.onError):this._timeout(t)},o.prototype.readTimeOut=function(e){t.prototype.readTimeOut.call(this,e)},o}(t);e.ConnectAck=r}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(){window.getServerEndpoint=function(t){var n=e.RongIMClient._storageProvider;n.setItem("fullnavi",JSON.stringify(t));var o=t.server;o&&(o+=",");var s=t.backupServer||"",r="{server}{backupServer}",i=e.RongUtil.tplEngine(r,{server:o,backupServer:s});i=i.split(","),n.setItem("servers",JSON.stringify(i));var a=e.RongIMClient._memoryStore.token,c=e.InnerUtil.getUId(a);n.setItem("rc_uid",c);var u=t.userId;if(n.setItem("current_user",u),t.voipCallInfo){var l=JSON.parse(t.voipCallInfo);e.RongIMClient._memoryStore.voipStategy=l.strategy,n.setItem("voipStrategy",l.strategy)}var g=t.openMp;n.setItem("openMp"+c,g),e.RongIMClient._memoryStore.depend.openMp=g,e.Channel._ConnectionStatusListener.onChanged(e.ConnectionStatus.RESPONSE_NAVI)}}return t.clear=function(){var t=e.RongIMClient._storageProvider;t.removeItem("rc_uid"),t.removeItem("serverIndex"),t.removeItem("rongSDK")},t.prototype.connect=function(t,n,o){var s=e.RongIMClient._storageProvider.getItem("appId");s&&s!=t&&(e.RongIMClient._storageProvider.clearItem(),e.RongIMClient._storageProvider.setItem("appId",t)),s||e.RongIMClient._storageProvider.setItem("appId",t);var r=new e.Client(n,t);return this.getServerEndpoint(n,t,function(){r.connect(o)},o.onError,!0),r},t.prototype.getServerEndpoint=function(n,o,s,r,i){if(i){var a=md5(n).slice(8,16),c=e.RongIMClient._storageProvider,u=c.getItem("rongSDK"),l=e.Transportations._TransportType==u,g=c.getItem("rc_uid"),d=g==a,p=c.getItem("servers"),f="string"==typeof p;if(d&&l&&f){e.RongIMClient._memoryStore.voipStategy=c.getItem("voipStrategy");var m=c.getItem("openMp"+a);return e.RongIMClient._memoryStore.depend.openMp=m,void s()}}t.clear(),e.Channel._ConnectionStatusListener.onChanged(e.ConnectionStatus.REQUEST_NAVI);var h=document.createElement("script"),C=e.RongIMClient._memoryStore.depend,_=C.navi,y=C.isPolling?"cometnavi":"navi";n=encodeURIComponent(n);var M=e.RongIMClient.sdkver,R=e.RongUtil.getTimestamp(),I="{domain}/{path}.js?appId={appId}&token={token}&callBack=getServerEndpoint&v={sdkver}&r={random}",v=e.RongUtil.tplEngine(I,{domain:_,path:y,appId:o,token:n,sdkver:M,random:R});h.src=v,document.body.appendChild(h),h.onerror=function(){r(e.ConnectionState.TOKEN_INCORRECT)},"onload"in h?h.onload=s:h.onreadystatechange=function(){"loaded"==h.readyState&&s()}},t.Endpoint=new Object,t}();e.Navigation=t}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(t){this._name="BaseMessage",this.lengthSize=0,t instanceof e.Head?this._header=t:this._header=new e.Head(t,!1,e.Qos.AT_MOST_ONCE,!1)}return t.prototype.read=function(e,t){this.readMessage(e,t)},t.prototype.write=function(t){var n=new e.BinaryHelper,o=n.convertStream(t);return this._headerCode=this.getHeaderFlag(),o.write(this._headerCode),this.writeMessage(o),o},t.prototype.getHeaderFlag=function(){return this._header.encode()},t.prototype.getLengthSize=function(){return this.lengthSize},t.prototype.toBytes=function(){return this.write([]).getBytesArray()},t.prototype.isRetained=function(){return this._header.retain},t.prototype.setRetained=function(e){this._header.retain=e},t.prototype.setQos=function(t){this._header.qos="[object Object]"==Object.prototype.toString.call(t)?t:e.Qos[t]},t.prototype.setDup=function(e){this._header.dup=e},t.prototype.isDup=function(){return this._header.dup},t.prototype.getType=function(){return this._header.type},t.prototype.getQos=function(){return this._header.qos},t.prototype.messageLength=function(){return 0},t.prototype.writeMessage=function(e){},t.prototype.readMessage=function(e,t){},t.prototype.init=function(e){var t,n,o=this;for(n in e)e.hasOwnProperty(n)&&(t=n.replace(/^\w/,function(e){var t=e.charCodeAt(0);return"set"+(t>=97?String.fromCharCode(-33&t):e)}))in o&&("status"==n?o[t](disconnectStatus[e[n]]?disconnectStatus[e[n]]:e[n]):o[t](e[n]))},t}();e.BaseMessage=t;var n=function(t){function n(n){switch(t.call(this,0==arguments.length||3==arguments.length?e.Type.CONNECT:arguments[0]),this._name="ConnectMessage",this.CONNECT_HEADER_SIZE=12,this.protocolId="RCloud",this.binaryHelper=new e.BinaryHelper,this.protocolVersion=3,arguments.length){case 0:case 1:case 3:if(!arguments[0]||arguments[0].length>64)throw new Error("ConnectMessage:Client Id cannot be null and must be at most 64 characters long: "+arguments[0]);this.clientId=arguments[0],this.cleanSession=arguments[1],this.keepAlive=arguments[2]}}return __extends(n,t),n.prototype.messageLength=function(){var e=this.binaryHelper.toMQttString(this.clientId).length;return e+=this.binaryHelper.toMQttString(this.willTopic).length,e+=this.binaryHelper.toMQttString(this.will).length,e+=this.binaryHelper.toMQttString(this.appId).length,(e+=this.binaryHelper.toMQttString(this.token).length)+this.CONNECT_HEADER_SIZE},n.prototype.readMessage=function(e){this.protocolId=e.readUTF(),this.protocolVersion=e.readByte();var t=e.readByte();if(this.hasAppId=(128&t)>0,this.hasToken=(64&t)>0,this.retainWill=(32&t)>0,this.willQos=t>>3&3,this.hasWill=(4&t)>0,this.cleanSession=(32&t)>0,this.keepAlive=256*e.read()+e.read(),this.clientId=e.readUTF(),this.hasWill&&(this.willTopic=e.readUTF(),this.will=e.readUTF()),this.hasAppId)try{this.appId=e.readUTF()}catch(n){throw new Error(n)}if(this.hasToken)try{this.token=e.readUTF()}catch(n){throw new Error(n)}return e},n.prototype.writeMessage=function(e){var t=this.binaryHelper.convertStream(e);t.writeUTF(this.protocolId),t.write(this.protocolVersion);var n=this.cleanSession?2:0;return n|=this.hasWill?4:0,n|=this.willQos?this.willQos>>3:0,n|=this.retainWill?32:0,n|=this.hasToken?64:0,n|=this.hasAppId?128:0,t.write(n),t.writeChar(this.keepAlive),t.writeUTF(this.clientId),this.hasWill&&(t.writeUTF(this.willTopic),t.writeUTF(this.will)),this.hasAppId&&t.writeUTF(this.appId),this.hasToken&&t.writeUTF(this.token),t},n}(t);e.ConnectMessage=n;var o=function(t){function n(n){t.call(this,0==arguments.length?e.Type.CONNACK:1==arguments.length?arguments[0]instanceof e.Head?arguments[0]:e.Type.CONNACK:null),this._name="ConnAckMessage",this.MESSAGE_LENGTH=2,this.binaryHelper=new e.BinaryHelper;var o=this;switch(arguments.length){case 0:case 1:if(!(arguments[0]instanceof e.Head)&&arguments[0]in e.ConnectionState){if(null==arguments[0])throw new Error("ConnAckMessage:The status of ConnAskMessage can't be null");o.setStatus(arguments[0])}}}return __extends(n,t),n.prototype.messageLength=function(){var e=this.MESSAGE_LENGTH;return this.userId&&(e+=this.binaryHelper.toMQttString(this.userId).length),e},n.prototype.readMessage=function(e,t){e.read();var n=+e.read();if(!(n>=0&&n<=12))throw new Error("Unsupported CONNACK code:"+n);if(this.setStatus(n),t>this.MESSAGE_LENGTH){this.setUserId(e.readUTF());var o=(e.readUTF(),e.readLong());this.setTimestamp(o)}},n.prototype.writeMessage=function(e){var t=this.binaryHelper.convertStream(e);switch(t.write(128),+status){case 0:case 1:case 2:case 5:case 6:t.write(+status);break;case 3:case 4:t.write(3);break;default:throw new Error("Unsupported CONNACK code:"+status)}return this.userId&&t.writeUTF(this.userId),t},n.prototype.setStatus=function(e){this.status=e},n.prototype.setUserId=function(e){this.userId=e},n.prototype.getStatus=function(){return this.status},n.prototype.getUserId=function(){return this.userId},n.prototype.setTimestamp=function(e){this.timestrap=e},n.prototype.getTimestamp=function(){return this.timestrap},n}(t);e.ConnAckMessage=o;var s=function(t){function n(n){t.call(this,n instanceof e.Head?n:e.Type.DISCONNECT),this._name="DisconnectMessage",this.MESSAGE_LENGTH=2,this.binaryHelper=new e.BinaryHelper,n instanceof e.Head||n in e.ConnectionStatus&&(this.status=n)}return __extends(n,t),n.prototype.messageLength=function(){return this.MESSAGE_LENGTH},n.prototype.readMessage=function(e){e.read();var t=+e.read();if(!(t>=0&&t<=5))throw new Error("Unsupported CONNACK code:"+t);this.setStatus(disconnectStatus[t]?disconnectStatus[t]:t)},n.prototype.writeMessage=function(e){var t=this.binaryHelper.convertStream(e);if(t.write(0),!(+status>=1&&+status<=3))throw new Error("Unsupported CONNACK code:"+status);t.write(+status-1)},n.prototype.setStatus=function(e){this.status=e},n.prototype.getStatus=function(){return this.status},n}(t);e.DisconnectMessage=s;var r=function(t){function n(n){t.call(this,n&&n instanceof e.Head?n:e.Type.PINGREQ),this._name="PingReqMessage"}return __extends(n,t),n}(t);e.PingReqMessage=r;var i=function(t){function n(n){t.call(this,n&&n instanceof e.Head?n:e.Type.PINGRESP),this._name="PingRespMessage"}return __extends(n,t),n}(t);e.PingRespMessage=i;var a=function(t){function n(n){t.call(this,n),this._name="RetryableMessage",this.binaryHelper=new e.BinaryHelper}return __extends(n,t),n.prototype.messageLength=function(){return 2},n.prototype.writeMessage=function(e){var t=this.binaryHelper.convertStream(e),n=this.getMessageId(),o=255&n,s=(65280&n)>>8;return t.write(s),t.write(o),t},n.prototype.readMessage=function(e,t){var n=256*e.read()+e.read();this.setMessageId(parseInt(n,10))},n.prototype.setMessageId=function(e){this.messageId=e},n.prototype.getMessageId=function(){return this.messageId},n}(t);e.RetryableMessage=a;var c=function(t){function n(n){t.call(this,n instanceof e.Head?n:e.Type.PUBACK),this.msgLen=2,this.date=0,this.millisecond=0,this.timestamp=0,this.binaryHelper=new e.BinaryHelper,this._name="PubAckMessage",n instanceof e.Head||t.prototype.setMessageId.call(this,n)}return __extends(n,t),n.prototype.messageLength=function(){return this.msgLen},n.prototype.writeMessage=function(e){var t=this.binaryHelper.convertStream(e);a.prototype.writeMessage.call(this,t)},n.prototype.readMessage=function(e,t){a.prototype.readMessage.call(this,e),this.date=e.readInt(),this.status=256*e.read()+e.read(),this.millisecond=256*e.read()+e.read(),this.timestamp=1e3*this.date+this.millisecond,this.messageUId=e.readUTF()},n.prototype.setStatus=function(e){this.status=e},n.prototype.setTimestamp=function(e){this.timestamp=e},n.prototype.setMessageUId=function(e){this.messageUId=e},n.prototype.getStatus=function(){return this.status},n.prototype.getDate=function(){return this.date},n.prototype.getTimestamp=function(){return this.timestamp},n.prototype.getMessageUId=function(){return this.messageUId},n}(a);e.PubAckMessage=c;var u=function(t){function n(n,o,s){t.call(this,1==arguments.length&&n instanceof e.Head?n:3==arguments.length?e.Type.PUBLISH:0),this._name="PublishMessage",this.binaryHelper=new e.BinaryHelper,this.syncMsg=!1,3==arguments.length&&(this.topic=n,this.targetId=s,this.data="string"==typeof o?this.binaryHelper.toMQttString(o):o)}return __extends(n,t),n.prototype.messageLength=function(){var e=10;return e+=this.binaryHelper.toMQttString(this.topic).length,e+=this.binaryHelper.toMQttString(this.targetId).length,e+this.data.length},n.prototype.writeMessage=function(e){var t=this.binaryHelper.convertStream(e);t.writeUTF(this.topic),t.writeUTF(this.targetId),a.prototype.writeMessage.apply(this,arguments),t.write(this.data)},n.prototype.readMessage=function(e,t){var n=6;this.date=e.readInt(),this.topic=e.readUTF(),n+=this.binaryHelper.toMQttString(this.topic).length,this.targetId=e.readUTF(),n+=this.binaryHelper.toMQttString(this.targetId).length,a.prototype.readMessage.apply(this,arguments),this.data=new Array(t-n),this.data=e.read(this.data)},n.prototype.setTopic=function(e){this.topic=e},n.prototype.setData=function(e){this.data=e},n.prototype.setTargetId=function(e){this.targetId=e},n.prototype.setDate=function(e){this.date=e},n.prototype.setSyncMsg=function(e){this.syncMsg=e},n.prototype.getSyncMsg=function(){return this.syncMsg},n.prototype.getTopic=function(){return this.topic},n.prototype.getData=function(){return this.data},n.prototype.getTargetId=function(){return this.targetId},n.prototype.getDate=function(){return this.date},n}(a);e.PublishMessage=u;var l=function(t){function n(n,o,s){t.call(this,n instanceof e.Head?n:3==arguments.length?e.Type.QUERY:null),this.binaryHelper=new e.BinaryHelper,this._name="QueryMessage",3==arguments.length&&(this.data="string"==typeof o?this.binaryHelper.toMQttString(o):o,this.topic=n,this.targetId=s)}return __extends(n,t),n.prototype.messageLength=function(){var e=0;return e+=this.binaryHelper.toMQttString(this.topic).length,e+=this.binaryHelper.toMQttString(this.targetId).length,e+=2,e+this.data.length},n.prototype.writeMessage=function(e){var t=this.binaryHelper.convertStream(e);t.writeUTF(this.topic),t.writeUTF(this.targetId),a.prototype.writeMessage.call(this,t),t.write(this.data)},n.prototype.readMessage=function(e,t){var n=0;this.topic=e.readUTF(),this.targetId=e.readUTF(),n+=this.binaryHelper.toMQttString(this.topic).length,n+=this.binaryHelper.toMQttString(this.targetId).length,this.readMessage.apply(this,arguments),n+=2,this.data=new Array(t-n),e.read(this.data)},n.prototype.setTopic=function(e){this.topic=e},n.prototype.setData=function(e){this.data=e},n.prototype.setTargetId=function(e){this.targetId=e},n.prototype.getTopic=function(){return this.topic},n.prototype.getData=function(){return this.data},n.prototype.getTargetId=function(){return this.targetId},n}(a);e.QueryMessage=l;var g=function(t){function n(n){t.call(this,n instanceof e.Head?n:e.Type.QUERYCON),this._name="QueryConMessage",n instanceof e.Head||t.prototype.setMessageId.call(this,n)}return __extends(n,t),n}(a);e.QueryConMessage=g;var d=function(t){function n(n){t.call(this,n),this._name="QueryAckMessage",this.binaryHelper=new e.BinaryHelper}return __extends(n,t),n.prototype.readMessage=function(e,t){a.prototype.readMessage.call(this,e),this.date=e.readInt(),this.setStatus(256*e.read()+e.read()),t>0&&(this.data=new Array(t-8),this.data=e.read(this.data))},n.prototype.getData=function(){return this.data},n.prototype.getStatus=function(){return this.status},n.prototype.getDate=function(){return this.date},n.prototype.setDate=function(e){this.date=e},n.prototype.setStatus=function(e){this.status=e},n.prototype.setData=function(e){this.data=e},n}(a);e.QueryAckMessage=d}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(t){var n=new e.BinaryHelper;this.out=n.convertStream(t)}return t.prototype.writeMessage=function(t){t instanceof e.BaseMessage&&t.write(this.out)},t}();e.MessageOutputStream=t;var n=function(){function t(t,n){if(n)this.flags=t.headerCode;else{var o=(new e.BinaryHelper).convertStream(t);this.flags=o.readByte(),this._in=o}this.header=new e.Head(this.flags),this.isPolling=n,this.In=t}return t.prototype.readMessage=function(){switch(this.header.getType()){case 1:this.msg=new e.ConnectMessage(this.header);break;case 2:this.msg=new e.ConnAckMessage(this.header);break;case 3:this.msg=new e.PublishMessage(this.header),this.msg.setSyncMsg(this.header.getSyncMsg());break;case 4:this.msg=new e.PubAckMessage(this.header);break;case 5:this.msg=new e.QueryMessage(this.header);break;case 6:this.msg=new e.QueryAckMessage(this.header);break;case 7:this.msg=new e.QueryConMessage(this.header);break;case 9:case 11:case 13:this.msg=new e.PingRespMessage(this.header);break;case 8:case 10:case 12:this.msg=new e.PingReqMessage(this.header);break;case 14:this.msg=new e.DisconnectMessage(this.header);break;default:throw new Error("No support for deserializing "+this.header.getType()+" messages")}return this.isPolling?this.msg.init(this.In):this.msg.read(this._in,this.In.length-1),this.msg},t}();e.MessageInputStream=n;var o=function(){function t(t,n,o,s){this.retain=!1,this.qos=e.Qos.AT_LEAST_ONCE,this.dup=!1,this.syncMsg=!1,t&&+t==t&&1==arguments.length?(this.retain=(1&t)>0,this.qos=(6&t)>>1,this.dup=(8&t)>0,this.type=t>>4&15,this.syncMsg=8==(8&t)):(this.type=t,this.retain=n,this.qos=o,this.dup=s)}return t.prototype.getSyncMsg=function(){return this.syncMsg},t.prototype.getType=function(){return this.type},t.prototype.encode=function(){var t=this;switch(this.qos){case e.Qos[0]:t.qos=e.Qos.AT_MOST_ONCE;break;case e.Qos[1]:t.qos=e.Qos.AT_LEAST_ONCE;break;case e.Qos[2]:t.qos=e.Qos.EXACTLY_ONCE;break;case e.Qos[3]:t.qos=e.Qos.DEFAULT}var n=this.type<<4;return n|=this.retain?1:0,n|=this.qos<<1,n|(this.dup?8:0)},t.prototype.toString=function(){return"Head [type="+this.type+",retain="+this.retain+",qos="+this.qos+",dup="+this.dup+"]"},t}();e.Head=o;var s=function(){function e(){}return e.prototype.writeUTF=function(e,t){for(var n=[],o=0,s=0,r=e.length;s<r;s++){var i=e.charCodeAt(s);i>=0&&i<=127?(o+=1,n.push(i)):i>=128&&i<=2047?(o+=2,n.push(192|31&i>>6),n.push(128|63&i)):i>=2048&&i<=65535&&(o+=3,n.push(224|15&i>>12),n.push(128|63&i>>6),n.push(128|63&i))}for(s=0,r=n.length;s<r;s++)n[s]>255&&(n[s]&=255);return t?n:o<=255?[0,o].concat(n):[o>>8,255&o].concat(n)},e.prototype.readUTF=function(e){if("[object String]"==Object.prototype.toString.call(e))return e;for(var t="",n=e,o=0,s=n.length;o<s;o++){n[o]<0&&(n[o]+=256);var r=n[o].toString(2),i=r.match(/^1+?(?=0)/);if(i&&8==r.length){for(var a=i[0].length,c="",u=0;u<a;u++)c+=n[u+o].toString(2).slice(2);t+=String.fromCharCode(parseInt(c,2)),o+=a-1}else t+=String.fromCharCode(n[o])}return t},e.prototype.convertStream=function(e){return e instanceof r?e:new r(e)},e.prototype.toMQttString=function(e){return this.writeUTF(e)},e}();e.BinaryHelper=s;var r=function(){function e(e){this.position=0,this.writen=0,this.poolLen=0,this.binaryHelper=new s,this.pool=e,this.poolLen=e.length}return e.prototype.check=function(){return this.position>=this.pool.length},e.prototype.readInt=function(){if(this.check())return-1;for(var e="",t=0;t<4;t++){var n=this.pool[this.position++].toString(16);1==n.length&&(n="0"+n),e+=n.toString(16)}return parseInt(e,16)},e.prototype.readLong=function(){if(this.check())return-1;for(var e="",t=0;t<8;t++){var n=this.pool[this.position++].toString(16);1==n.length&&(n="0"+n),e+=n}return parseInt(e,16)},e.prototype.readTimestamp=function(){if(this.check())return-1;for(var e="",t=0;t<8;t++)e+=this.pool[this.position++].toString(16);return e=e.substring(2,8),parseInt(e,16)},e.prototype.readUTF=function(){if(this.check())return-1;var e=this.readByte()<<8|this.readByte();return this.binaryHelper.readUTF(this.pool.subarray(this.position,this.position+=e))},e.prototype.readByte=function(){if(this.check())return-1;var e=this.pool[this.position++];return e>255&&(e&=255),e},e.prototype.read=function(e){return e?this.pool.subarray(this.position,this.poolLen):this.readByte()},e.prototype.write=function(e){var t=e;return"[object array]"==Object.prototype.toString.call(t).toLowerCase()?[].push.apply(this.pool,t):+t==t&&(t>255&&(t&=255),this.pool.push(t),this.writen++),t},e.prototype.writeChar=function(e){if(+e!=e)throw new Error("writeChar:arguments type is error");this.write(e>>8&255),this.write(255&e),this.writen+=2},e.prototype.writeUTF=function(e){var t=this.binaryHelper.writeUTF(e);[].push.apply(this.pool,t),this.writen+=t.length},e.prototype.toComplements=function(){for(var e=this.pool,t=0;t<this.poolLen;t++)e[t]>128&&(e[t]-=256);return e},e.prototype.getBytesArray=function(e){return e?this.toComplements():this.pool},e}();e.RongIMStream=r}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(e){return this.connected=!1,this.isClose=!1,this.queue=[],this.empty=new Function,this._socket=e,this}return t.prototype.createTransport=function(t,n){if(!t)throw new Error("URL can't be empty");this.url=t;var o=e.RongIMClient._memoryStore.depend,s=o.wsScheme;return t=e.RongUtil.tplEngine("{wsScheme}{url}",{wsScheme:s,url:t}),this.socket=new WebSocket(t),this.socket.binaryType="arraybuffer",this.addEvent(),this.socket},t.prototype.send=function(t){if(this.connected||this.isClose){if(!this.isClose){var n=new e.RongIMStream([]);new e.MessageOutputStream(n).writeMessage(t);var o=n.getBytesArray(!0),s=new Int8Array(o);return this.socket.send(s.buffer),this}this._socket.fire("StatusChanged",e.ConnectionStatus.CONNECTION_CLOSED)}else this.queue.push(t)},t.prototype.onData=function(t){return e.MessageUtil.isArray(t)?this._socket.onMessage(new e.MessageInputStream(t).readMessage()):this._socket.onMessage(new e.MessageInputStream(e.MessageUtil.ArrayFormInput(t)).readMessage()),""},t.prototype.onClose=function(t){var n=this;n.isClose=!0,n.socket=this.empty,e.Bridge._client.clearHeartbeat(),1006!=t.code||this._status?n._status=0:n._socket.fire("StatusChanged",e.ConnectionStatus.NETWORK_UNAVAILABLE)},t.prototype.onError=function(e){throw new Error(e)},t.prototype.addEvent=function(){var e=this;e.socket.onopen=function(){e.connected=!0,e.isClose=!1,e.doQueue(),e._socket.fire("connect")},e.socket.onmessage=function(t){"string"==typeof t.data?e.onData(t.data.split(",")):e.onData(t.data)},e.socket.onerror=function(t){e.onError(t)},e.socket.onclose=function(t){e.onClose(t)}},t.prototype.doQueue=function(){for(var e=this,t=0,n=e.queue.length;t<n;t++)e.send(e.queue[t])},t.prototype.disconnect=function(e){var t=this;t.socket.readyState&&(t.isClose=!0,e&&(t._status=e),t.socket.close())},t.prototype.reconnect=function(){this.disconnect(),this.createTransport(this.url)},t.prototype.close=function(){this.socket.close()},t}();e.SocketTransportation=t}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(e){return this.empty=new Function,this.connected=!1,this.pid=+new Date+Math.random()+"",this.queue=[],this.socket=e,this}return t.prototype.createTransport=function(t,n){if(!t)throw new Error("Url is empty,Please check it!");this.url=t;var o=e.RongIMClient._storageProvider.getItem("sId"+e.Navigation.Endpoint.userId),s=this;return o?(setTimeout(function(){s.onSuccess('{"status":0,"userId":"'+e.Navigation.Endpoint.userId+'","headerCode":32,"messageId":0,"sessionid":"'+o+'"}'),s.connected=!0},500),this):(this.getRequest(t,!0),this)},t.prototype.requestFactory=function(t,n,o){var s=this.XmlHttpRequest();return o&&(s.multipart=!0),s.timeout=6e4,s.open(n||"GET",e.RongIMClient._memoryStore.depend.protocol+t),"POST"==n&&"setRequestHeader"in s&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=utf-8"),s},t.prototype.getRequest=function(e,t){var n=this;n.xhr=this.requestFactory(e+"&pid="+encodeURIComponent(n.pid),"GET"),"onload"in n.xhr?(n.xhr.onload=function(){n.xhr.onload=n.empty,"lost params"==this.responseText?n.onError():n.onSuccess(this.responseText,t)},n.xhr.onerror=function(){n.disconnect()}):n.xhr.onreadystatechange=function(){4==n.xhr.readyState&&(n.xhr.onreadystatechange=n.empty,/^(200|202)$/.test(n.xhr.status)?n.onSuccess(n.xhr.responseText,t):/^(400|403)$/.test(n.xhr.status)?n.onError():n.disconnect())},n.xhr.send()},t.prototype.send=function(t){var n=this,o=n.sendxhr=this.requestFactory(e.Navigation.Endpoint.host+"/websocket"+t.url+"&pid="+encodeURIComponent(n.pid),"POST");"onload"in o?(o.onload=function(){o.onload=n.empty,n.onData(o.responseText)},o.onerror=function(){o.onerror=n.empty}):o.onreadystatechange=function(){4==o.readyState&&(this.onreadystatechange=this.empty,/^(202|200)$/.test(o.status)&&n.onData(o.responseText))},o.send(JSON.stringify(t.data))},t.prototype.onData=function(t,n){if(t&&"lost params"!=t){var o=this,s=JSON.parse(t);return s.userId&&(e.Navigation.Endpoint.userId=s.userId),n&&e.RongIMClient._storageProvider.setItem("sId"+e.Navigation.Endpoint.userId,n),e.MessageUtil.isArray(s)||(s=[s]),Array.forEach(s,function(t){o.socket.fire("message",new e.MessageInputStream(t,!0).readMessage())}),""}},t.prototype.XmlHttpRequest=function(){var e="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;return"undefined"!=typeof XMLHttpRequest&&e?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:new ActiveXObject("Microsoft.XMLHTTP")},t.prototype.onClose=function(){this.xhr&&(this.xhr.onload?this.xhr.onreadystatechange=this.xhr.onload=this.empty:this.xhr.onreadystatechange=this.empty,this.xhr.abort(),this.xhr=null),this.sendxhr&&(this.sendxhr.onload?this.sendxhr.onreadystatechange=this.sendxhr.onload=this.empty:this.sendxhr.onreadystatechange=this.empty,this.sendxhr.abort(),this.sendxhr=null)},t.prototype.disconnect=function(){e.RongIMClient._storageProvider.removeItem("sId"+e.Navigation.Endpoint.userId),e.RongIMClient._storageProvider.removeItem(e.Navigation.Endpoint.userId+"msgId"),this.onClose()},t.prototype.reconnect=function(){this.disconnect(),this.createTransport(this.url)},t.prototype.onSuccess=function(t,n){var o=t.match(/"sessionid":"\S+?(?=")/);if(this.onData(t,o?o[0].slice(13):0),/"headerCode":-32,/.test(t))return e.RongIMClient._storageProvider.removeItem("sId"+e.Navigation.Endpoint.userId),void e.RongIMClient._storageProvider.removeItem(e.Navigation.Endpoint.userId+"msgId");this.getRequest(e.Navigation.Endpoint.host+"/pullmsg.js?sessionid="+e.RongIMClient._storageProvider.getItem("sId"+e.Navigation.Endpoint.userId)+"&timestrap="+encodeURIComponent((new Date).getTime()+Math.random()+"")),this.connected=!0,n&&this.socket.fire("connect")},t.prototype.onError=function(){e.RongIMClient._storageProvider.removeItem("sId"+e.Navigation.Endpoint.userId),e.RongIMClient._storageProvider.removeItem(e.Navigation.Endpoint.userId+"msgId"),this.onClose(),this.connected=!1,this.socket.fire("disconnect")},t.prototype.close=function(){this.xhr.abort(),this.sendxhr=null},t}();e.PollingTransportation=t}(RongIMLib||(RongIMLib={}));var typeMapping={"RC:TxtMsg":"TextMessage","RC:ImgMsg":"ImageMessage","RC:VcMsg":"VoiceMessage","RC:ImgTextMsg":"RichContentMessage","RC:FileMsg":"FileMessage","RC:LBSMsg":"LocationMessage","RC:InfoNtf":"InformationNotificationMessage","RC:ContactNtf":"ContactNotificationMessage","RC:ProfileNtf":"ProfileNotificationMessage","RC:CmdNtf":"CommandNotificationMessage","RC:DizNtf":"DiscussionNotificationMessage","RC:CmdMsg":"CommandMessage","RC:TypSts":"TypingStatusMessage","RC:CsChaR":"ChangeModeResponseMessage","RC:CsHsR":"HandShakeResponseMessage","RC:CsEnd":"TerminateMessage","RC:CsSp":"SuspendMessage","RC:CsUpdate":"CustomerStatusUpdateMessage","RC:ReadNtf":"ReadReceiptMessage","RC:VCAccept":"AcceptMessage","RC:VCRinging":"RingingMessage","RC:VCSummary":"SummaryMessage","RC:VCHangup":"HungupMessage","RC:VCInvite":"InviteMessage","RC:VCModifyMedia":"MediaModifyMessage","RC:VCModifyMem":"MemberModifyMessage","RC:CsContact":"CustomerContact","RC:PSImgTxtMsg":"PublicServiceRichContentMessage","RC:PSMultiImgTxtMsg":"PublicServiceMultiRichContentMessage","RC:GrpNtf":"GroupNotificationMessage","RC:PSCmd":"PublicServiceCommandMessage","RC:RcCmd":"RecallCommandMessage","RC:SRSMsg":"SyncReadStatusMessage","RC:RRReqMsg":"ReadReceiptRequestMessage","RC:RRRspMsg":"ReadReceiptResponseMessage","RCJrmf:RpMsg":"JrmfRedPacketMessage","RCJrmf:RpOpendMsg":"JrmfRedPacketOpenedMessage"},registerMessageTypeMapping={},HistoryMsgType={4:"qryCMsg",2:"qryDMsg",3:"qryGMsg",1:"qryPMsg",6:"qrySMsg",7:"qryPMsg",8:"qryPMsg",5:"qryCMsg"},disconnectStatus={1:6},RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib,RongIMLib;return function(RongIMLib){var Transportations=function(){function e(){}return e._TransportType=RongIMLib.Socket.WEBSOCKET,e}();RongIMLib.Transportations=Transportations;var SyncTimeUtil=function(){function e(){}return e.$getKey=function(e){var t=RongIMLib.Bridge._client,n=t.userId,o=1==e.messageDirection?"send":"receive",s=RongIMLib.RongIMClient._memoryStore.appKey;return RongIMLib.RongUtil.tplEngine("{appkey}_{userId}_{direction}box",{appkey:s,userId:n,direction:o})},e.set=function(t){var n=e.$getKey(t),o=t.sentTime;RongIMLib.RongIMClient._storageProvider.setItem(n,o)},e.get=function(){var t=e.$getKey({messageDirection:RongIMLib.MessageDirection.SEND}),n=e.$getKey({messageDirection:RongIMLib.MessageDirection.RECEIVE}),o=RongIMLib.RongIMClient._storageProvider;return{sent:Number(o.getItem(t)||0),received:Number(o.getItem(n)||0)}},e}();RongIMLib.SyncTimeUtil=SyncTimeUtil;var MessageUtil=function(){function MessageUtil(){}return MessageUtil.checkStorageSize=function(){return JSON.stringify(localStorage).length<468e4},MessageUtil.getFirstKey=function(e){var t="";for(var n in e){t=n;break}return t},MessageUtil.isEmpty=function(e){var t=!0;for(var n in e){t=!1;break}return t},MessageUtil.ArrayForm=function(e){if("[object ArrayBuffer]"==Object.prototype.toString.call(e)){var t=new Int8Array(e);return[].slice.call(t)}return e},MessageUtil.ArrayFormInput=function(e){return"[object ArrayBuffer]"==Object.prototype.toString.call(e)?new Uint8Array(e):e},MessageUtil.indexOf=function(e,t,n){for(var o=e.length,s=n<0?Math.max(0,+n):n||0;s<o;s++)if(e[s]==t)return s;return-1},MessageUtil.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},MessageUtil.forEach=function(e,t){return[].forEach?function(e,t){[].forEach.call(e,t)}:function(e,t){for(var n=0;n<e.length;n++)t.call(e,e[n],n,e)}},MessageUtil.remove=function(e,t){for(var n=0,o=e.length;n<o;n++)if(t(e[n]))return e.splice(n,1)[0];return null},MessageUtil.int64ToTimestamp=function(e,t){if(void 0===e.low)return e;var n=e.low;n<0&&(n+=4294967296),n=n.toString(16);var o=parseInt(e.high.toString(16)+"00000000".replace(new RegExp("0{"+n.length+"}$"),n),16);return t?new Date(o):o},MessageUtil.messageParser=function(entity,onReceived,offlineMsg){var message=new RongIMLib.Message,content=entity.content,de,objectName=entity.classname,val,isUseDef=!1;try{RongIMLib.RongIMClient._memoryStore.depend.isPolling?(val=(new RongIMLib.BinaryHelper).readUTF(content.offset?MessageUtil.ArrayForm(content.buffer).slice(content.offset,content.limit):content),de=JSON.parse(val)):(val=(new RongIMLib.BinaryHelper).readUTF(content.offset?MessageUtil.ArrayFormInput(content.buffer).subarray(content.offset,content.limit):content),de=JSON.parse(val))}catch(ex){de=val,isUseDef=!0}if(objectName in typeMapping){var str="new RongIMLib."+typeMapping[objectName]+"(de)";message.content=eval(str),message.messageType=typeMapping[objectName]}else if(objectName in registerMessageTypeMapping){var str="new RongIMLib.RongIMClient.RegisterMessage."+registerMessageTypeMapping[objectName]+"(de)";message.content=isUseDef?eval(str).decode(de):eval(str),message.messageType=registerMessageTypeMapping[objectName]}else message.content=new RongIMLib.UnknownMessage({content:de,objectName:objectName}),message.messageType="UnknownMessage";var dateTime=MessageUtil.int64ToTimestamp(entity.dataTime);return message.sentTime=dateTime>0?dateTime:+new Date,message.senderUserId=entity.fromUserId,message.conversationType=entity.type,entity.fromUserId==RongIMLib.Bridge._client.userId?message.targetId=entity.groupId:message.targetId=/^[234]$/.test(entity.type||entity.getType())?entity.groupId:message.senderUserId,1==entity.direction?(message.messageDirection=RongIMLib.MessageDirection.SEND,message.senderUserId=RongIMLib.Bridge._client.userId):message.messageDirection=RongIMLib.MessageDirection.RECEIVE,message.messageUId=entity.msgId,message.receivedTime=(new Date).getTime(),message.messageId=message.conversationType+"_"+~~(16777215*Math.random()),message.objectName=objectName,message.receivedStatus=RongIMLib.ReceivedStatus.READ,2==(2&entity.status)&&(message.receivedStatus=RongIMLib.ReceivedStatus.RETRIEVED),message.offLineMessage=!!offlineMsg,offlineMsg||RongIMLib.RongIMClient._memoryStore.connectAckTime>message.sentTime&&(message.offLineMessage=!0),message},MessageUtil.detectCMP=function(e){var t=new XMLHttpRequest;t.onreadystatechange=function(){4==t.readyState&&(200==t.status?e.success():e.fail(t.status))};var n=e.url,o=e.url;n=e.method||"GET";t.open(n,o);var s=e.headers;for(var r in s){var i=s[r];t.setRequestHeader(r,i)}var a=JSON.stringify(e.body||{});return t.send(a),t},MessageUtil.sign={converNum:1,msgNum:1,isMsgStart:!0,isConvStart:!0},MessageUtil}();RongIMLib.MessageUtil=MessageUtil;var MessageIdHandler=function(){function e(){}return e.init=function(){this.messageId=+(RongIMLib.RongIMClient._storageProvider.getItem(RongIMLib.Navigation.Endpoint.userId+"msgId")||RongIMLib.RongIMClient._storageProvider.setItem(RongIMLib.Navigation.Endpoint.userId+"msgId",0)||0)},e.messageIdPlus=function(e){return RongIMLib.RongIMClient._memoryStore.depend.isPolling&&this.init(),this.messageId>=65535?(e(),!1):(this.messageId++,RongIMLib.RongIMClient._memoryStore.depend.isPolling&&RongIMLib.RongIMClient._storageProvider.setItem(RongIMLib.Navigation.Endpoint.userId+"msgId",this.messageId),this.messageId)},e.clearMessageId=function(){this.messageId=0,RongIMLib.RongIMClient._memoryStore.depend.isPolling&&RongIMLib.RongIMClient._storageProvider.setItem(RongIMLib.Navigation.Endpoint.userId+"msgId",this.messageId)},e.getMessageId=function(){return RongIMLib.RongIMClient._memoryStore.depend.isPolling&&this.init(),this.messageId},e.messageId=0,e}();RongIMLib.MessageIdHandler=MessageIdHandler;var RongInnerTools=function(){function e(){}return e.convertUserStatus=function(e){e=RongIMLib.RongUtil.rename(e,{subUserId:"userId"});var t=JSON.parse(e.status),n=t.us;return n?(e.status=RongIMLib.RongUtil.rename(n,{o:"online",p:"platform",s:"status"}),e):e},e}();RongIMLib.RongInnerTools=RongInnerTools}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function e(e){throw new Error("This method is abstract, you must implement this method in inherited class.")}return e.obtain=function(){throw new Error("This method is abstract, you must implement this method in inherited class.")},e}();e.MessageContent=t;var n=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(t);e.NotificationMessage=n;var o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(t);e.StatusMessage=o;var s=function(){function t(){}return t.modelClone=function(e){var t={};for(var n in e)"messageName"!=n&&"encode"!=n&&(t[n]=e[n]);return t},t.modleCreate=function(t,n){var o=function o(s){var r=this;for(var i in t)r[t[i]]=s[t[i]];o.prototype.messageName=n,o.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))}};return o},t}();e.ModelUtil=s}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(e){this.messageName="CustomerStatusMessage",this.status=e.status}return t.obtain=function(){return null},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.CustomerStatusMessage=t;var n=function(){function t(e){this.messageName="ChangeModeResponseMessage",this.code=e.code,this.data=e.data,this.msg=e.msg}return t.obtain=function(){return null},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.ChangeModeResponseMessage=n;var o=function(){function t(e){this.messageName="ChangeModeMessage",this.uid=e.uid,this.sid=e.sid,this.pid=e.pid}return t.obtain=function(){return null},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.ChangeModeMessage=o;var s=function(){function t(e){this.messageName="CustomerStatusUpdateMessage",this.serviceStatus=e.serviceStatus,this.sid=e.sid}return t.obtain=function(){return null},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.CustomerStatusUpdateMessage=s;var r=function(){function t(e){this.messageName="HandShakeMessage",e&&(this.requestInfo=e.requestInfo,this.userInfo=e.userInfo)}return t.obtain=function(){return null},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.HandShakeMessage=r;var i=function(){function t(e){this.messageName="CustomerContact",this.page=e.page,this.nickName=e.nickName,this.routingInfo=e.routingInfo,this.info=e.info,this.requestInfo=e.requestInfo}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.CustomerContact=i;var a=function(){function t(e){this.messageName="EvaluateMessage",this.uid=e.uid,this.sid=e.sid,this.pid=e.pid,this.source=e.source,this.suggest=e.suggest,this.isresolve=e.isresolve,this.type=e.type}return t.obtain=function(){return null},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.EvaluateMessage=a;var c=function(){function t(e){this.messageName="HandShakeResponseMessage",this.msg=e.msg,this.status=e.status,this.data=e.data}return t.obtain=function(){return null},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.HandShakeResponseMessage=c;var u=function(){function t(e){this.messageName="SuspendMessage",this.uid=e.uid,this.sid=e.sid,this.pid=e.pid}return t.obtain=function(){return null},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.SuspendMessage=u;var l=function(){function t(e){this.messageName="TerminateMessage",this.code=e.code,this.msg=e.msg,this.sid=e.sid}return t.obtain=function(){return null},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.TerminateMessage=l}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function e(e){this.messageName="IsTypingStatusMessage"}return e.prototype.encode=function(){},e.prototype.getMessage=function(){return null},e}();e.IsTypingStatusMessage=t}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(e){if(this.messageName="InformationNotificationMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> InformationNotificationMessage.");this.message=e.message,this.extra=e.extra,e.user&&(this.user=e.user)}return t.obtain=function(e){return new t({message:e,extra:""})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.InformationNotificationMessage=t;var n=function(){function t(e){if(this.messageName="CommandMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> CommandMessage.");try{"[object String]"==Object.prototype.toString.call(e.data)?this.data=JSON.parse(e.data):this.data=e.data}catch(t){this.data=e.data}this.name=e.name,this.extra=e.extra}return t.obtain=function(e){return new t({data:e,extra:""})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.CommandMessage=n;var o=function(){function n(e){if(this.messageName="ContactNotificationMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> ContactNotificationMessage.");this.operation=e.operation,this.targetUserId=e.targetUserId,this.message=e.message,this.extra=e.extra,this.sourceUserId=e.sourceUserId,e.user&&(this.user=e.user)}return n.obtain=function(e,n,o,s){return new t({operation:e,sourceUserId:n,targetUserId:o,message:s})},n.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},n.CONTACT_OPERATION_ACCEPT_RESPONSE="ContactOperationAcceptResponse",n.CONTACT_OPERATION_REJECT_RESPONSE="ContactOperationRejectResponse",n.CONTACT_OPERATION_REQUEST="ContactOperationRequest",n}();e.ContactNotificationMessage=o;var s=function(){function t(e){if(this.messageName="ProfileNotificationMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> ProfileNotificationMessage.");this.operation=e.operation;try{"[object String]"==Object.prototype.toString.call(e.data)?this.data=JSON.parse(e.data):this.data=e.data}catch(t){this.data=e.data}this.extra=e.extra,e.user&&(this.user=e.user)}return t.obtain=function(e,n){return new t({operation:e,data:n})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.ProfileNotificationMessage=s;var r=function(){function t(e){if(this.messageName="CommandNotificationMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> ProfileNotificationMessage.");try{"[object String]"==Object.prototype.toString.call(e.data)?this.data=JSON.parse(e.data):this.data=e.data}catch(t){this.data=e.data}this.name=e.name,this.extra=e.extra,e.user&&(this.user=e.user)}return t.obtain=function(e,n){return new t({name:e,data:n,extra:""})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.CommandNotificationMessage=r;var i=function(){function t(e){if(this.messageName="DiscussionNotificationMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> DiscussionNotificationMessage.");this.extra=e.extra,this.extension=e.extension,this.type=e.type,this.isHasReceived=e.isHasReceived,this.operation=e.operation,this.user=e.user,e.user&&(this.user=e.user)}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.DiscussionNotificationMessage=i;var a=function(){function t(e){if(this.messageName="GroupNotificationMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> GroupNotificationMessage.");e.operatorUserId&&(this.operatorUserId=e.operatorUserId),e.operation&&(this.operation=e.operation),e.data&&(this.data=e.data),e.message&&(this.message=e.message),e.extra&&(this.extra=e.extra)}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.GroupNotificationMessage=a}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(e){if(this.messageName="TextMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> TextMessage.");this.content=e.content,this.extra=e.extra,e.user&&(this.user=e.user),e.mentionedInfo&&(this.mentionedInfo=e.mentionedInfo)}return t.obtain=function(e){return new t({extra:"",content:e})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.TextMessage=t;var n=function(){function t(e){if(this.messageName="TypingStatusMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> TypingStatusMessage.");this.typingContentType=e.typingContentType,this.data=e.data}return t.obtain=function(e,n){return new t({typingContentType:e,data:n})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.TypingStatusMessage=n;var o=function(){function t(e){if(this.messageName="ReadReceiptMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> ReadReceiptMessage.");this.lastMessageSendTime=e.lastMessageSendTime,this.messageUId=e.messageUId,this.type=e.type}return t.obtain=function(e,n,o){return new t({messageUId:e,lastMessageSendTime:n,type:o})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.ReadReceiptMessage=o;var s=function(){function t(e){if(this.messageName="VoiceMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> VoiceMessage.");this.content=e.content,this.duration=e.duration,this.extra=e.extra,e.user&&(this.user=e.user),e.mentionedInfo&&(this.mentionedInfo=e.mentionedInfo)}return t.obtain=function(e,n){return new t({content:e,duration:n,extra:""})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.VoiceMessage=s;var r=function(){function t(e){this.messageName="RecallCommandMessage",this.messageUId=e.messageUId,this.conversationType=e.conversationType,this.targetId=e.targetId,this.sentTime=e.sentTime,e.extra&&(this.extra=e.extra),e.user&&(this.user=e.user)}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.RecallCommandMessage=r;var i=function(){function t(e){if(this.messageName="ImageMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> ImageMessage.");this.content=e.content,this.imageUri=e.imageUri,e.extra&&(this.extra=e.extra),e.user&&(this.user=e.user),e.mentionedInfo&&(this.mentionedInfo=e.mentionedInfo)}return t.obtain=function(e,n){return new t({content:e,imageUri:n,extra:""})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.ImageMessage=i;var a=function(){function t(e){if(this.messageName="LocationMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> LocationMessage.");this.latitude=e.latitude,this.longitude=e.longitude,this.poi=e.poi,this.content=e.content,this.extra=e.extra,e.user&&(this.user=e.user),e.mentionedInfo&&(this.mentionedInfo=e.mentionedInfo)}return t.obtain=function(e,n,o,s){return new t({latitude:e,longitude:n,poi:o,content:s,extra:""})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.LocationMessage=a;var c=function(){function t(e){if(this.messageName="RichContentMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> RichContentMessage.");this.title=e.title,this.content=e.content,this.imageUri=e.imageUri,this.extra=e.extra,this.url=e.url,e.user&&(this.user=e.user)}return t.obtain=function(e,n,o,s){return new t({title:e,content:n,imageUri:o,url:s,extra:""})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.RichContentMessage=c;var u=function(){function e(e){this.messageName="JrmfRedPacketMessage",e&&(this.message=e)}return e.prototype.encode=function(){return""},e}();e.JrmfRedPacketMessage=u;var l=function(){function e(e){this.messageName="JrmfRedPacketOpenedMessage",e&&(this.message=e)}return e.prototype.encode=function(){return""},e}();e.JrmfRedPacketOpenedMessage=l;var g=function(){function e(e){if(this.messageName="UnknownMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> UnknownMessage.");this.message=e}return e.prototype.encode=function(){return""},e}();e.UnknownMessage=g;var d=function(){function t(e){if(this.messageName="PublicServiceCommandMessage",0==arguments.length)throw new Error("Can not instantiate with empty parameters, use obtain method instead -> PublicServiceCommandMessage.");this.content=e.content,this.extra=e.extra,this.menuItem=e.menuItem,e.user&&(this.user=e.user),e.mentionedInfo&&(this.mentionedInfo=e.mentionedInfo)}return t.obtain=function(e){return new t({content:"",command:"",menuItem:e,extra:""})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.PublicServiceCommandMessage=d;var p=function(){function e(e){this.messageName="PublicServiceMultiRichContentMessage",this.richContentMessages=e}return e.prototype.encode=function(){return null},e}();e.PublicServiceMultiRichContentMessage=p;var f=function(){function t(e){this.messageName="SyncReadStatusMessage",e.lastMessageSendTime&&(this.lastMessageSendTime=e.lastMessageSendTime)}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.SyncReadStatusMessage=f;var m=function(){function t(e){this.messageName="ReadReceiptRequestMessage",e.messageUId&&(this.messageUId=e.messageUId)}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.ReadReceiptRequestMessage=m;var h=function(){function t(e){this.messageName="ReadReceiptResponseMessage",e.receiptMessageDic&&(this.receiptMessageDic=e.receiptMessageDic)}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.ReadReceiptResponseMessage=h;var C=function(){function t(e){this.messageName="PublicServiceRichContentMessage",this.richContentMessage=e}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.PublicServiceRichContentMessage=C;var _=function(){function t(e){this.messageName="FileMessage",e.name&&(this.name=e.name),e.size&&(this.size=e.size),e.type&&(this.type=e.type),e.fileUrl&&(this.fileUrl=e.fileUrl),e.extra&&(this.extra=e.extra),e.user&&(this.user=e.user)}return t.obtain=function(e){return new t({name:e.name,size:e.size,type:e.type,fileUrl:e.fileUrl})},t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.FileMessage=_;var y=function(){function t(e){this.messageName="AcceptMessage",this.mediaId=e.mediaId,this.callId=e.callId,this.mediaType=e.mediaType,this.mode=e.mode,this.subInfo=e.subInfo}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.AcceptMessage=y;var M=function(){function t(e){this.messageName="RingingMessage",this.callId=e.callId}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.RingingMessage=M;var R=function(){function t(e){this.messageName="SummaryMessage",this.caller=e.caller,this.inviter=e.inviter,this.mediaType=e.mediaType,this.memberIdList=e.memberIdList,this.startTime=e.startTime,this.connectedTime=e.connectedTime,this.duration=e.duration,this.status=e.status}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.SummaryMessage=R;var I=function(){function t(e){this.messageName="HungupMessage",this.callId=e.callId,this.reason=e.reason,this.mode=e.mode,this.subInfo=e.subInfo}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.HungupMessage=I;var v=function(){function t(e){this.messageName="InviteMessage",this.mediaId=e.mediaId,this.callId=e.callId,this.engineType=e.engineType,this.channelInfo=e.channelInfo,this.mediaType=e.mediaType,this.extra=e.extra,this.inviteUserIds=e.inviteUserIds,this.observerUserIds=e.observerUserIds,this.mode=e.mode,this.subInfo=e.subInfo}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.InviteMessage=v;var S=function(){function t(e){this.messageName="MediaModifyMessage",this.callId=e.callId,this.mediaType=e.mediaType,this.mode=e.mode,this.subInfo=e.subInfo}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.MediaModifyMessage=S;var T=function(){function t(e){this.messageName="MemberModifyMessage",this.modifyMemType=e.modifyMemType,this.callId=e.callId,this.caller=e.caller,this.engineType=e.engineType,this.channelInfo=e.channelInfo,this.mediaType=e.mediaType,this.extra=e.extra,this.inviteUserIds=e.inviteUserIds,this.existedMemberStatusList=e.existedMemberStatusList,this.existedUserPofiles=e.existedUserPofiles,this.observerUserIds=e.observerUserIds,this.mode=e.mode,this.subInfo=e.subInfo}return t.prototype.encode=function(){return JSON.stringify(e.ModelUtil.modelClone(this))},t}();e.MemberModifyMessage=T}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function e(e,t){this.Id=e,this.Key=t}return e}();e.ChannelInfo=t;var n=function(){function e(e,t,n){this.platform=e,this.online=t,this.status=n}return e}();e.UserStatus=n;var o=function(){function e(e,t,n){}return e}();e.MentionedInfo=o;var s=function(){function e(e,t,n){this.msgId=e,this.msgDataTime=t,this.direct=n}return e}();e.DeleteMessage=s;var r=function(){function e(e,t,n){}return e}();e.CustomServiceConfig=r;var i=function(){function e(e,t,n,o,s,r,i){}return e}();e.CustomServiceSession=i;var a=function(){function t(e,t,n,o,s,r,i,a,c,u,l,g,d,p,f,m,h,C,_,y,M){this.conversationTitle=e,this.conversationType=t,this.draft=n,this.isTop=o,this.latestMessage=s,this.latestMessageId=r,this.notificationStatus=i,this.objectName=a,this.receivedStatus=c,this.receivedTime=u,this.senderUserId=l,this.senderUserName=g,this.sentStatus=d,this.sentTime=p,this.targetId=f,this.unreadMessageCount=m,this.senderPortraitUri=h,this.isHidden=C,this.mentionedMsg=_,this.hasUnreadMention=y,this._readTime=M}return t.prototype.setTop=function(){e.RongIMClient._dataAccessProvider.addConversation(this,{onSuccess:function(e){}})},t}();e.Conversation=a;var c=function(){function e(e,t,n,o,s){this.creatorId=e,this.id=t,this.memberIdList=n,this.name=o,this.isOpen=s}return e}();e.Discussion=c;var u=function(){function e(e,t,n){this.id=e,this.name=t,this.portraitUri=n}return e}();e.Group=u;var l=function(){function e(e,t,n,o,s,r,i,a,c,u,l,g,d,p,f,m,h){this.content=e,this.conversationType=t,this.extra=n,this.objectName=o,this.messageDirection=s,this.messageId=r,this.receivedStatus=i,this.receivedTime=a,this.senderUserId=c,this.sentStatus=u,this.sentTime=l,this.targetId=g,this.messageType=d,this.messageUId=p,this.isLocalMessage=f,this.offLineMessage=m,this.receiptResponse=h}return e}();e.Message=l;var g=function(){function e(e,t){this.isCounted=e,this.isPersited=t}return e.prototype.getMessageTag=function(){return this.isCounted&&this.isPersited?3:this.isCounted?2:this.isPersited?1:this.isCounted||this.isPersited?void 0:0},e.getTagByStatus=function(e){var t={3:{isCounted:!0,isPersited:!0},2:{isCounted:!0,isPersited:!1},1:{isCounted:!0,isPersited:!0},0:{isCounted:!0,isPersited:!0}};return t[e]||t[3]},e}();e.MessageTag=g;var d=function(){function e(e,t,n,o,s){this.id=e,this.name=t,this.type=n,this.sunMenuItems=o,this.url=s}return e}();e.PublicServiceMenuItem=d;var p=function(){function e(e,t,n,o,s,r,i,a){this.conversationType=e,this.introduction=t,this.menu=n,this.name=o,this.portraitUri=s,this.publicServiceId=r,this.hasFollowed=i,this.isGlobal=a}return e}();e.PublicServiceProfile=p;var f=function(){function e(e,t,n){this.id=e,this.name=t,this.portraitUri=n}return e}();e.UserInfo=f;var m=function(){function e(e,t){this.id=e,this.token=t}return e}();e.User=m;var h=function(){function e(e,t){this.id=e,this.user=t}return e}();e.Room=h}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(){this.userStatusListener=null}return t.prototype.init=function(t,n){new e.FeatureDectector(n.appCallback)},t.prototype.connect=function(t,n,o,s){e.RongIMClient.bridge=e.Bridge.getInstance(),e.RongIMClient._memoryStore.token=t,e.RongIMClient._memoryStore.callback=n,o=o||"",s=s||{};var r=!1,i=!1;if(e.Bridge._client&&e.Bridge._client.channel&&(r=e.Bridge._client.channel.connectionStatus==e.ConnectionStatus.CONNECTING,i=e.Bridge._client.channel.connectionStatus==e.ConnectionStatus.CONNECTED),!i&&!r){if(e.RongIMClient.otherDeviceLoginCount>5)return void n.onError(e.ConnectionStatus.ULTRALIMIT);s.force&&e.RongIMClient._storageProvider.removeItem("servers");for(var a=0,c=e.RongIMClient._memoryStore.listenerList.length;a<c;a++)e.RongIMClient.bridge.setListener(e.RongIMClient._memoryStore.listenerList[a]);e.RongIMClient._memoryStore.listenerList.length=0,e.RongIMClient.bridge.connect(e.RongIMClient._memoryStore.appKey,t,{onSuccess:function(e){setTimeout(function(){n.onSuccess(e)})},onError:function(t){t!=e.ConnectionState.TOKEN_INCORRECT&&t?setTimeout(function(){n.onError(t)}):setTimeout(function(){n.onTokenIncorrect()})}})}},t.prototype.reconnect=function(t,n){var o=e.RongIMClient._memoryStore,s=o.token;if(!s)throw new Error("reconnect: token is empty.");if(e.Bridge._client&&e.Bridge._client.channel&&e.Bridge._client.channel.connectionStatus!=e.ConnectionStatus.CONNECTED&&e.Bridge._client.channel.connectionStatus!=e.ConnectionStatus.CONNECTING){n=n||{};var r=n.auto?"auto":"custom";({auto:function(){var o=function(t){var n=t.step(),o=t.url,s=function(){e.RongUtil.request({url:o,success:function(){t.done()},error:function(){r()}})},r=function(){var o=n();if("done"!=o)setTimeout(s,o);else{var r=e.ConnectionStatus.NETWORK_UNAVAILABLE;t.done(r)}};r()},r=e.RongIMClient._memoryStore.depend.protocol,i=n.url||"cdn.ronghub.com/RongIMLib-2.2.6.min.js",a={protocol:r,path:i};i=e.RongUtil.formatProtoclPath(a);var c=n.rate||[100,1e3,3e3,6e3,1e4,18e3];c.push("done"),o({url:i,step:function(){var e=0;return function(){var t=c[e];return e++,t}},done:function(n){n?t.onError(n):e.RongIMClient.connect(s,t)}})},custom:function(){e.RongIMClient.connect(s,t)}})[r]()}},t.prototype.logout=function(){e.RongIMClient.bridge.disconnect(),e.RongIMClient.bridge=null},t.prototype.disconnect=function(){e.RongIMClient.bridge.disconnect()},t.prototype.sendReceiptResponse=function(t,n,o){var s=e.Bridge._client.userId+t+n+"RECEIVED",r=this;if(e.RongUtil.supportLocalStorage()){var i=JSON.parse(e.RongIMClient._storageProvider.getItem(s));if(i){var a=[];for(var c in i){var u={};u[c]=i[c].uIds,i[c].isResponse||a.push(u)}if(0==a.length)return void o.onSuccess();var l=setInterval(function(){1==a.length&&clearInterval(l);var c=a.splice(0,1)[0],u=new e.ReadReceiptResponseMessage({receiptMessageDic:c});r.sendMessage(t,n,u,{onSuccess:function(t){var n=e.MessageUtil.getFirstKey(c);i[n].isResponse=!0,e.RongIMClient._storageProvider.setItem(s,JSON.stringify(i)),o.onSuccess(t)},onError:function(e,t){o.onError(e,t)}})},200)}else o.onSuccess()}else o.onSuccess()},t.prototype.sendTypingStatusMessage=function(t,n,o,s){var r=this;o in e.RongIMClient.MessageParams&&r.sendMessage(t,n,e.TypingStatusMessage.obtain(e.RongIMClient.MessageParams[o].objectName,""),{onSuccess:function(){setTimeout(function(){s.onSuccess()})},onError:function(e){setTimeout(function(){s.onError(e,null)})},onBefore:function(){}})},t.prototype.sendRecallMessage=function(t,n){var o=new e.RecallCommandMessage({conversationType:t.conversationType,targetId:t.targetId,sentTime:t.sentTime,messageUId:t.messageUId,extra:t.extra,user:t.user});this.sendMessage(t.conversationType,t.senderUserId,o,n,!1,null,null,2)},t.prototype.sendTextMessage=function(t,n,o,s){var r=e.TextMessage.obtain(o);this.sendMessage(t,n,r,s)},t.prototype.getRemoteHistoryMessages=function(t,n,o,s,r,i){if(s<=1)throw new Error("the count must be greater than 1.");i=i||{};var a=i.order||0,c=function(){return[t,n,"_",a].join("")},u=c();e.RongUtil.isNumber(o)||(o=e.RongIMClient._memoryStore.lastReadTime.get(u));var l=e.RongIMClient._memoryStore,g=l.historyMessageLimit,d=g.get(u)||{},p=d.hasMore;if(!p&&d.time==o&&0==a)return r.onSuccess([],p);var f=new e.RongIMClient.Protobuf.HistoryMsgInput;f.setTargetId(n),f.setTime(o),f.setCount(s),f.setOrder(a),e.RongIMClient.bridge.queryMsg(HistoryMsgType[t],e.MessageUtil.ArrayForm(f.toArrayBuffer()),n,{onSuccess:function(t){var o=e.MessageUtil.int64ToTimestamp(t.syncTime);e.RongIMClient._memoryStore.lastReadTime.set(u,o),g.set(u,{hasMore:!!t.hasMsg,time:o});var s,i=t.list.reverse(),a=null,c=e.SentStatus.READ;if(e.RongUtil.supportLocalStorage())for(var l=0,d=i.length;l<d;l++)a=e.MessageUtil.messageParser(i[l]),s=JSON.parse(e.RongIMClient._storageProvider.getItem(e.Bridge._client.userId+a.messageUId+"SENT")),s&&(a.receiptResponse||(a.receiptResponse={}),a.receiptResponse[a.messageUId]=s.count),a.sentStatus=c,a.targetId=n,i[l]=a;else for(l=0,d=i.length;l<d;l++){a=e.MessageUtil.messageParser(i[l]);a.sentStatus=c,i[l]=a}setTimeout(function(){r.onSuccess(i,!!t.hasMsg)})},onError:function(e){setTimeout(function(){r.onError(e)})}},"HistoryMessagesOuput")},t.prototype.hasRemoteUnreadMessages=function(t,n){var o=null;window.RCCallback=function(e){setTimeout(function(){n.onSuccess(!!+e.status)}),o.parentNode.removeChild(o)},o=document.createElement("script"),o.src=e.RongIMClient._memoryStore.depend.api+"/message/exist.js?appKey="+encodeURIComponent(e.RongIMClient._memoryStore.appKey)+"&token="+encodeURIComponent(t)+"&callBack=RCCallback&_="+e.RongUtil.getTimestamp(),document.body.appendChild(o),o.onerror=function(){setTimeout(function(){n.onError(e.ErrorCode.UNKNOWN)}),o.parentNode.removeChild(o)}},t.prototype.getRemoteConversationList=function(t,n,o){var s=new e.RongIMClient.Protobuf.RelationsInput,r=this;s.setType(1),void 0===o?s.setCount(0):s.setCount(o),e.RongIMClient.bridge.queryMsg(26,e.MessageUtil.ArrayForm(s.toArrayBuffer()),e.Bridge._client.userId,{onSuccess:function(o){if(o.info){o.info=o.info.reverse();for(var s=0,i=o.info.length;s<i;s++)e.RongIMClient.getInstance().pottingConversation(o.info[s])}var a=e.RongIMClient._memoryStore.conversationList;setTimeout(function(){if(n)return t.onSuccess(r.filterConversations(n,a));t.onSuccess(a)})},onError:function(e){t.onError(e)}},"RelationsOutput")},t.prototype.addMemberToDiscussion=function(t,n,o){var s=new e.RongIMClient.Protobuf.ChannelInvitationInput;s.setUsers(n),e.RongIMClient.bridge.queryMsg(0,e.MessageUtil.ArrayForm(s.toArrayBuffer()),t,{onSuccess:function(){setTimeout(function(){o.onSuccess()})},onError:function(e){setTimeout(function(){o.onError(e)})}})},t.prototype.createDiscussion=function(t,n,o){var s=new e.RongIMClient.Protobuf.CreateDiscussionInput,r=this;s.setName(t),e.RongIMClient.bridge.queryMsg(1,e.MessageUtil.ArrayForm(s.toArrayBuffer()),e.Bridge._client.userId,{onSuccess:function(e){n.length>0&&r.addMemberToDiscussion(e,n,{onSuccess:function(){},onError:function(e){setTimeout(function(){o.onError(e)})}}),setTimeout(function(){o.onSuccess(e)})},onError:function(e){setTimeout(function(){o.onError(e)})}},"CreateDiscussionOutput")},t.prototype.getDiscussion=function(t,n){var o=new e.RongIMClient.Protobuf.ChannelInfoInput;o.setNothing(1),e.RongIMClient.bridge.queryMsg(4,e.MessageUtil.ArrayForm(o.toArrayBuffer()),t,{onSuccess:function(e){setTimeout(function(){n.onSuccess(e)})},onError:function(e){setTimeout(function(){n.onError(e)})}},"ChannelInfoOutput")},t.prototype.quitDiscussion=function(t,n){var o=new e.RongIMClient.Protobuf.LeaveChannelInput;o.setNothing(1),e.RongIMClient.bridge.queryMsg(7,e.MessageUtil.ArrayForm(o.toArrayBuffer()),t,{onSuccess:function(){setTimeout(function(){n.onSuccess()})},onError:function(e){setTimeout(function(){n.onError(e)})}})},t.prototype.removeMemberFromDiscussion=function(t,n,o){var s=new e.RongIMClient.Protobuf.ChannelEvictionInput;s.setUser(n),e.RongIMClient.bridge.queryMsg(9,e.MessageUtil.ArrayForm(s.toArrayBuffer()),t,{onSuccess:function(){setTimeout(function(){o.onSuccess()})},onError:function(e){setTimeout(function(){o.onError(e)})}})},t.prototype.setDiscussionInviteStatus=function(t,n,o){var s=new e.RongIMClient.Protobuf.ModifyPermissionInput;s.setOpenStatus(n.valueOf()),e.RongIMClient.bridge.queryMsg(11,e.MessageUtil.ArrayForm(s.toArrayBuffer()),t,{onSuccess:function(e){setTimeout(function(){o.onSuccess()})},onError:function(e){setTimeout(function(){o.onError(e)})}})},t.prototype.setDiscussionName=function(t,n,o){var s=new e.RongIMClient.Protobuf.RenameChannelInput;s.setName(n),e.RongIMClient.bridge.queryMsg(12,e.MessageUtil.ArrayForm(s.toArrayBuffer()),t,{onSuccess:function(){setTimeout(function(){o.onSuccess()})},onError:function(e){o.onError(e)}})},t.prototype.joinChatRoom=function(t,n,o){var s=new e.RongIMClient.Protobuf.ChrmInput;s.setNothing(1),e.Bridge._client.chatroomId=t,e.RongIMClient.bridge.queryMsg(19,e.MessageUtil.ArrayForm(s.toArrayBuffer()),t,{onSuccess:function(){setTimeout(function(){o.onSuccess()});var s=new e.RongIMClient.Protobuf.ChrmPullMsg;0==n&&(n=-1),s.setCount(n),s.setSyncTime(0),e.Bridge._client.queryMessage("chrmPull",e.MessageUtil.ArrayForm(s.toArrayBuffer()),t,1,{onSuccess:function(n){var o=n.list,s=e.MessageUtil.int64ToTimestamp(n.syncTime),r=o[o.length-1];r&&(r=e.MessageUtil.messageParser(r),s=r.sentTime),e.RongIMClient._memoryStore.lastReadTime.set(t+e.Bridge._client.userId+"CST",s);for(var i=e.Bridge._client,a=0,c=o.length;a<c;a++){var u="R"+o[a].msgId;if(!(u in i.cacheMessageIds)){i.cacheMessageIds[u]=!0;var l=e.RongUtil.keys(i.cacheMessageIds);if(l.length>10&&(u=l[0],delete i.cacheMessageIds[u]),e.RongIMClient._memoryStore.filterMessages.length>0)for(var g=0,d=e.RongIMClient._memoryStore.filterMessages.length;g<d;g++)e.RongIMClient.MessageParams[e.RongIMClient._memoryStore.filterMessages[g]].objectName!=o[a].classname&&i.handler.onReceived(o[a]);else i.handler.onReceived(o[a])}}},onError:function(t){setTimeout(function(){o.onError(e.ErrorCode.CHATROOM_HISMESSAGE_ERROR)})}},"DownStreamMessages")},onError:function(e){setTimeout(function(){o.onError(e)})}},"ChrmOutput")},t.prototype.getChatRoomInfo=function(t,n,o,s){var r=new e.RongIMClient.Protobuf.QueryChatroomInfoInput;r.setCount(n),r.setOrder(o),e.RongIMClient.bridge.queryMsg("queryChrmI",e.MessageUtil.ArrayForm(r.toArrayBuffer()),t,{onSuccess:function(t){t.userInfos.forEach(function(t){t.time=e.MessageUtil.int64ToTimestamp(t.time)}),setTimeout(function(){s.onSuccess(t)})},onError:function(e){setTimeout(function(){s.onError(e)})}},"QueryChatroomInfoOutput")},t.prototype.quitChatRoom=function(t,n){var o=new e.RongIMClient.Protobuf.ChrmInput;o.setNothing(1),e.RongIMClient.bridge.queryMsg(17,e.MessageUtil.ArrayForm(o.toArrayBuffer()),t,{onSuccess:function(){setTimeout(function(){n.onSuccess()})},onError:function(e){setTimeout(function(){n.onError(e)})}},"ChrmOutput")},t.prototype.setChatroomHisMessageTimestamp=function(t,n){e.RongIMClient._memoryStore.lastReadTime.set("chrhis_"+t,n)},t.prototype.getChatRoomHistoryMessages=function(t,n,o,s){var r=new e.RongIMClient.Protobuf.HistoryMsgInput;r.setTargetId(t);var i=e.RongIMClient._memoryStore.lastReadTime.get("chrhis_"+t)||0;r.setTime(i),r.setCount(n),r.setOrder(o),e.RongIMClient.bridge.queryMsg(34,e.MessageUtil.ArrayForm(r.toArrayBuffer()),e.Bridge._client.userId,{onSuccess:function(n){e.RongIMClient._memoryStore.lastReadTime.set("chrhis_"+t,e.MessageUtil.int64ToTimestamp(n.syncTime));for(var o=n.list.reverse(),r=0,i=o.length;r<i;r++)o[r]=e.MessageUtil.messageParser(o[r]);setTimeout(function(){s.onSuccess(o,!!n.hasMsg)})},onError:function(e){setTimeout(function(){s.onError(e)})}},"HistoryMsgOuput")},t.prototype.setMessageStatus=function(e,t,n,o,s){setTimeout(function(){s.onSuccess(!0)})},t.prototype.addToBlacklist=function(t,n){var o=new e.RongIMClient.Protobuf.Add2BlackListInput;o.setUserId(t),e.RongIMClient.bridge.queryMsg(21,e.MessageUtil.ArrayForm(o.toArrayBuffer()),t,{onSuccess:function(){setTimeout(function(){n.onSuccess()})},onError:function(e){setTimeout(function(){n.onError(e)})}})},t.prototype.getBlacklist=function(t){var n=new e.RongIMClient.Protobuf.QueryBlackListInput;n.setNothing(1),e.RongIMClient.bridge.queryMsg(23,e.MessageUtil.ArrayForm(n.toArrayBuffer()),e.Bridge._client.userId,{onSuccess:function(e){setTimeout(function(){t.onSuccess(e)})},onError:function(e){setTimeout(function(){t.onError(e)})}},"QueryBlackListOutput")},t.prototype.getBlacklistStatus=function(t,n){var o=new e.RongIMClient.Protobuf.BlackListStatusInput;o.setUserId(t),e.RongIMClient.bridge.queryMsg(24,e.MessageUtil.ArrayForm(o.toArrayBuffer()),t,{onSuccess:function(t){setTimeout(function(){n.onSuccess(e.BlacklistStatus[t])})},onError:function(e){setTimeout(function(){n.onError(e)})}})},t.prototype.removeFromBlacklist=function(t,n){var o=new e.RongIMClient.Protobuf.RemoveFromBlackListInput;o.setUserId(t),e.RongIMClient.bridge.queryMsg(22,e.MessageUtil.ArrayForm(o.toArrayBuffer()),t,{onSuccess:function(){setTimeout(function(){n.onSuccess()})},onError:function(e){setTimeout(function(){n.onError(e)})}})},t.prototype.getFileToken=function(t,n){if(/(1|2|3|4)/.test(t.toString())){var o=new e.RongIMClient.Protobuf.GetQNupTokenInput;o.setType(t),e.RongIMClient.bridge.queryMsg(30,e.MessageUtil.ArrayForm(o.toArrayBuffer()),e.Bridge._client.userId,{onSuccess:function(e){setTimeout(function(){n.onSuccess(e)})},onError:function(e){setTimeout(function(){n.onError(e)})}},"GetQNupTokenOutput")}else setTimeout(function(){n.onError(e.ErrorCode.QNTKN_FILETYPE_ERROR)})},t.prototype.getFileUrl=function(t,n,o,s){if(/(1|2|3|4)/.test(t.toString())){var r=new e.RongIMClient.Protobuf.GetQNdownloadUrlInput;r.setType(t),r.setKey(n),o&&r.setFileName(o),e.RongIMClient.bridge.queryMsg(31,e.MessageUtil.ArrayForm(r.toArrayBuffer()),e.Bridge._client.userId,{onSuccess:function(e){setTimeout(function(){s.onSuccess(e)})},onError:function(e){setTimeout(function(){s.onError(e)})}},"GetQNdownloadUrlOutput")}else setTimeout(function(){s.onError(e.ErrorCode.QNTKN_FILETYPE_ERROR)})},t.prototype.sendMessage=function(t,n,o,s,r,i,a,c,u){if(e.Bridge._client.channel){if(!e.Bridge._client.channel.socket.socket.connected)throw setTimeout(function(){s.onError(e.ErrorCode.TIMEOUT,null)}),new Error("connect is timeout! postion:sendMessage");var l=t==e.ConversationType.DISCUSSION||t==e.ConversationType.GROUP,g=new e.RongIMClient.Protobuf.UpStreamMessage;if(r&&l?g.setSessionId(7):g.setSessionId(e.RongIMClient.MessageParams[o.messageName].msgTag.getMessageTag()),i&&g.setPushText(i),a&&g.setAppData(a),l&&o.messageName==e.RongIMClient.MessageType.ReadReceiptResponseMessage){var d=o;if(d.receiptMessageDic){var p=[];for(var f in d.receiptMessageDic)p.push(f);g.setUserId(p)}}l&&o.messageName==e.RongIMClient.MessageType.SyncReadStatusMessage&&g.setUserId(e.Bridge._client.userId),u=u||{};var m=u.userIds;l&&m&&g.setUserId(m),g.setClassname(e.RongIMClient.MessageParams[o.messageName].objectName),g.setContent(o.encode());var h=g.toArrayBuffer();"[object ArrayBuffer]"==Object.prototype.toString.call(h)&&(h=[].slice.call(new Int8Array(h)));var C=this,_=new e.Message,y=this.getConversation(t,n);3==e.RongIMClient.MessageParams[o.messageName].msgTag.getMessageTag()&&(y||(y=e.RongIMClient.getInstance().createConversation(t,n,"")),y.sentTime=(new Date).getTime(),y.sentStatus=e.SentStatus.SENDING,y.senderUserName="",y.senderUserId=e.Bridge._client.userId,y.notificationStatus=e.ConversationNotificationStatus.DO_NOT_DISTURB,y.latestMessage=_,y.unreadMessageCount=0,e.RongIMClient._dataAccessProvider.addConversation(y,{onSuccess:function(e){}})),e.RongIMClient._memoryStore.converStore=y,_.content=o,_.conversationType=t,_.senderUserId=e.Bridge._client.userId,_.objectName=e.RongIMClient.MessageParams[o.messageName].objectName,_.targetId=n,_.sentTime=(new Date).getTime(),_.messageDirection=e.MessageDirection.SEND,_.sentStatus=e.SentStatus.SENT,_.messageType=o.messageName,e.RongIMClient.bridge.pubMsg(t.valueOf(),h,n,{onSuccess:function(r){if(r&&r.timestamp&&e.RongIMClient._memoryStore.lastReadTime.set("converST_"+e.Bridge._client.userId+t+n,r.timestamp),(t==e.ConversationType.DISCUSSION||t==e.ConversationType.GROUP)&&o.messageName==e.RongIMClient.MessageType.ReadReceiptRequestMessage){var i=_.content,a=e.Bridge._client.userId+i.messageUId+"SENT";e.RongIMClient._storageProvider.setItem(a,JSON.stringify({count:0,dealtime:r.timestamp,userIds:{}}))}if(3==e.RongIMClient.MessageParams[_.messageType].msgTag.getMessageTag()){var c=e.RongIMClient._memoryStore.converStore;c.sentStatus=_.sentStatus,c.latestMessage=_,C.updateConversation(c),e.RongIMClient._dataAccessProvider.addMessage(t,n,_,{onSuccess:function(t){_=t,_.messageUId=r.messageUId,_.sentTime=r.timestamp,_.sentStatus=e.SentStatus.SENT,_.messageId=r.messageId,e.RongIMClient._dataAccessProvider.updateMessage(_)},onError:function(){}})}setTimeout(function(){c&&C.updateConversation(c),_.sentTime=r.timestamp,_.messageUId=r.messageUId,s.onSuccess(_)})},onError:function(o,r){_.sentStatus=e.SentStatus.FAILED,r&&(_.messageUId=r.messageUId,_.sentTime=r.sentTime),3==e.RongIMClient.MessageParams[_.messageType].msgTag.getMessageTag()&&(e.RongIMClient._memoryStore.converStore.latestMessage=_),e.RongIMClient._dataAccessProvider.addMessage(t,n,_,{onSuccess:function(t){_.messageId=t.messageId,e.RongIMClient._dataAccessProvider.updateMessage(_)},onError:function(){}}),setTimeout(function(){s.onError(o,_)})}},null,c),s.onBefore&&s.onBefore(e.MessageIdHandler.messageId),_.messageId=e.MessageIdHandler.messageId+""}else setTimeout(function(){s.onError(e.ErrorCode.RC_NET_UNAVAILABLE,null)})},t.prototype.setConnectionStatusListener=function(t){var n={onChanged:function(n){t.onChanged(n),e.RongUtil.forEach(e.RongIMClient.statusListeners,function(e){e(n)})}};e.RongIMClient.bridge?e.RongIMClient.bridge.setListener(n):e.RongIMClient._memoryStore.listenerList.push(n)},t.prototype.setOnReceiveMessageListener=function(t){e.RongIMClient.bridge?e.RongIMClient.bridge.setListener(t):e.RongIMClient._memoryStore.listenerList.push(t)},t.prototype.registerMessageType=function(t,n,o,s,r){if(!t)throw new Error("messageType can't be empty,postion -> registerMessageType");if(!n)throw new Error("objectName can't be empty,postion -> registerMessageType");if("[object Array]"==Object.prototype.toString.call(s)){var i=e.ModelUtil.modleCreate(s,t);e.RongIMClient.RegisterMessage[t]=i}else{if("[object Function]"!=Object.prototype.toString.call(s)&&"[object Object]"!=Object.prototype.toString.call(s))throw new Error("The index of 3 parameter was wrong type  must be object or function or array-> registerMessageType");if(!s.encode)throw new Error("encode method has not realized or messageName is undefined-> registerMessageType");if(!s.decode)throw new Error("decode method has not realized -> registerMessageType")}registerMessageTypeMapping[n]=t},t.prototype.registerMessageTypes=function(t){var n=[],o=function(e){var t=[];for(var n in e)t.push(n);return t};for(var s in t){var r=t[s],i=r.proto,a=o(i),c=r.flag||3,u=e.MessageTag.getTagByStatus(c);c=new e.MessageTag(u.isCounted,u.isPersited),n.push({type:s,name:r.name,flag:c,protos:a})}for(var l=function(t){var n=t.type,o=t.name,s=t.flag,r=t.protos;e.RongIMClient.registerMessageType(n,o,s,r)},g=0,d=n.length;g<d;g++){r=n[g];l(r)}},t.prototype.addConversation=function(t,n){for(var o=!0,s=0,r=e.RongIMClient._memoryStore.conversationList.length;s<r;s++)if(e.RongIMClient._memoryStore.conversationList[s].conversationType===t.conversationType&&e.RongIMClient._memoryStore.conversationList[s].targetId===t.targetId){e.RongIMClient._memoryStore.conversationList.unshift(e.RongIMClient._memoryStore.conversationList.splice(s,1)[0]),o=!1;break}o&&e.RongIMClient._memoryStore.conversationList.unshift(t),n&&n.onSuccess(!0)},t.prototype.updateConversation=function(t){for(var n,o=0,s=e.RongIMClient._memoryStore.conversationList.length;o<s;o++){var r=e.RongIMClient._memoryStore.conversationList[o];if(t.conversationType===r.conversationType&&t.targetId===r.targetId){t.conversationTitle&&(r.conversationTitle=t.conversationTitle),t.senderUserName&&(r.senderUserName=t.senderUserName),t.senderPortraitUri&&(r.senderPortraitUri=t.senderPortraitUri),t.latestMessage&&(r.latestMessage=t.latestMessage),t.sentStatus&&(r.sentStatus=t.sentStatus);break}}return n},t.prototype.removeConversation=function(t,n,o){var s=new e.RongIMClient.Protobuf.RelationsInput;s.setType(t),e.RongIMClient.bridge.queryMsg(27,e.MessageUtil.ArrayForm(s.toArrayBuffer()),n,{onSuccess:function(){for(var s=e.RongIMClient._memoryStore.conversationList,r=s.length,i=0;i<r;i++)if(s[i].conversationType==t&&n==s[i].targetId){s.splice(i,1);break}o.onSuccess(!0)},onError:function(e){setTimeout(function(){o.onError(e)})}})},t.prototype.getMessage=function(t,n){n.onSuccess(new e.Message)},t.prototype.addMessage=function(e,t,n,o){o&&o.onSuccess(n)},t.prototype.removeMessage=function(t,n,o,s){e.RongIMClient.getInstance().deleteRemoteMessages(t,n,o,s)},t.prototype.removeLocalMessage=function(e,t,n,o){o.onSuccess(!0)},t.prototype.updateMessage=function(e,t){t&&t.onSuccess(e)},t.prototype.clearRemoteHistoryMessages=function(t,n){var o=new e.RongIMClient.Protobuf.CleanHisMsgInput,s=t.conversationType,r={1:"cleanPMsg",2:"cleanDMsg",3:"cleanGMsg",5:"cleanCMsg",6:"cleanSMsg"},i=r[s];if(i){var a=t.timestamp;if("number"==typeof a){o.setDataTime(a);var c=t.targetId;o.setTargetId(c),e.RongIMClient.bridge.queryMsg(i,e.MessageUtil.ArrayForm(o.toArrayBuffer()),c,{onSuccess:function(e){n.onSuccess(!e)},onError:function(t){1==t&&(t=e.ErrorCode.CLEAR_HIS_ERROR),setTimeout(function(){n.onError(t)})}})}else n.onError(e.ErrorCode.CLEAR_HIS_TIME_ERROR)}else n.onError(e.ErrorCode.CLEAR_HIS_TYPE_ERROR)},t.prototype.clearHistoryMessages=function(e,t){this.clearRemoteHistoryMessages(e,t)},t.prototype.clearMessages=function(e,t,n){},t.prototype.updateMessages=function(t,n,o,s,r){var i=this;"readStatus"==o&&e.RongIMClient._memoryStore.conversationList.length>0&&i.getConversationList({onSuccess:function(e){Array.forEach(e,function(e){e.conversationType==t&&e.targetId==n&&(e.unreadMessageCount=0)})},onError:function(e){setTimeout(function(){r.onError(e)})}},null),setTimeout(function(){r.onSuccess(!0)})},t.prototype.getConversation=function(t,n,o){for(var s=null,r=0,i=e.RongIMClient._memoryStore.conversationList.length;r<i;r++)if(e.RongIMClient._memoryStore.conversationList[r].conversationType==t&&e.RongIMClient._memoryStore.conversationList[r].targetId==n&&(s=e.RongIMClient._memoryStore.conversationList[r],e.RongUtil.supportLocalStorage())){var a=e.RongIMClient._storageProvider.getItem("cu"+e.Bridge._client.userId+t+n);0==s.unreadMessageCount&&(s.unreadMessageCount=Number(a))}return setTimeout(function(){o&&o.onSuccess(s)}),s},t.prototype.filterConversations=function(t,n){var o=[];return e.RongUtil.forEach(t,function(t){e.RongUtil.forEach(n,function(e){e.conversationType==t&&o.push(e)})}),o},t.prototype.getConversationList=function(t,n,o,s){var r=this,i=e.RongIMClient._memoryStore.isSyncRemoteConverList,a=e.RongIMClient._memoryStore.conversationList,c=a.length>o;i||!c?e.RongIMClient.getInstance().getRemoteConversationList({onSuccess:function(n){e.RongUtil.supportLocalStorage()&&Array.forEach(e.RongIMClient._memoryStore.conversationList,function(t){var n=e.RongIMClient._storageProvider.getItem("cu"+e.Bridge._client.userId+t.conversationType+t.targetId);0==t.unreadMessageCount&&(t.unreadMessageCount=Number(n))}),e.RongIMClient._memoryStore.isSyncRemoteConverList=!1,setTimeout(function(){t.onSuccess(n)})},onError:function(e){setTimeout(function(){t.onError(e)})}},n,o,s):setTimeout(function(){var e=a.slice(0,o);n&&(e=r.filterConversations(n,e)),t.onSuccess(e)})},t.prototype.clearCache=function(){var t=e.RongIMClient._memoryStore||{};t.conversationList=[],t.isSyncRemoteConverList=!0},t.prototype.clearConversations=function(t,n){Array.forEach(t,function(t){Array.forEach(e.RongIMClient._memoryStore.conversationList,function(n){t==n.conversationType&&e.RongIMClient.getInstance().removeConversation(n.conversationType,n.targetId,{onSuccess:function(){},onError:function(){}})})}),setTimeout(function(){n.onSuccess(!0)})},t.prototype.setMessageContent=function(e,t,n){},t.prototype.getHistoryMessages=function(t,n,o,s,r,i,a){var c={objectname:i,order:a};e.RongIMClient.getInstance().getRemoteHistoryMessages(t,n,o,s,r,c)},t.prototype.getTotalUnreadCount=function(t,n){var o=0,s=e.RongIMClient._storageProvider;if(n)e.RongUtil.forEach(n,function(t){var n=s.getItemKeyList("cu"+e.Bridge._client.userId+t);e.RongUtil.forEach(n,function(e){var t=s.getItem(e),n=Number(t)||0;o+=n})});else{var r=s.getItemKeyList("cu"+e.Bridge._client.userId);e.RongUtil.forEach(r,function(e){var t=s.getItem(e),n=Number(t)||0;o+=n})}t.onSuccess(o)},t.prototype.getConversationUnreadCount=function(t,n){var o=0;Array.forEach(t,function(t){Array.forEach(e.RongIMClient._memoryStore.conversationList,function(e){e.conversationType==t&&(o+=e.unreadMessageCount)})}),setTimeout(function(){n.onSuccess(o)})},t.prototype.setUnreadCount=function(t,n,o){var s=e.RongIMClient._storageProvider,r="cu"+e.Bridge._client.userId+t+n;s.setItem(r,o)},t.prototype.getUnreadCount=function(t,n,o){var s="cu"+e.Bridge._client.userId+t+n,r=e.RongIMClient._storageProvider.getItem(s),i=Number(r);setTimeout(function(){o.onSuccess(i||0)})},t.prototype.cleanMentioneds=function(t){if(t){t.mentionedMsg=null;var n=t.targetId,o=t.conversationType,s=e.RongIMClient._storageProvider.getItem("mentioneds_"+e.Bridge._client.userId+"_"+o+"_"+n);if(s){var r=JSON.parse(s);delete r[o+"_"+n],e.MessageUtil.isEmpty(r)?e.RongIMClient._storageProvider.removeItem("mentioneds_"+e.Bridge._client.userId+"_"+o+"_"+n):e.RongIMClient._storageProvider.setItem("mentioneds_"+e.Bridge._client.userId+"_"+o+"_"+n,JSON.stringify(r))}}},t.prototype.clearUnreadCountByTimestamp=function(e,t,n,o){setTimeout(function(){o.onSuccess(!0)})},t.prototype.clearUnreadCount=function(t,n,o){var s=this;e.RongIMClient._storageProvider.removeItem("cu"+e.Bridge._client.userId+t+n),this.getConversation(t,n,{onSuccess:function(e){e&&(e.unreadMessageCount=0,s.cleanMentioneds(e)),setTimeout(function(){o.onSuccess(!0)})},onError:function(e){setTimeout(function(){o.onError(e)})}})},t.prototype.clearTotalUnreadCount=function(t){var n=e.RongIMClient._memoryStore.conversationList,o=this;if(n)for(var s=0;s<n.length;s++){var r=n[s];r&&(r.unreadMessageCount=0,o.cleanMentioneds(r))}var i=e.RongIMClient._storageProvider.getItemKeyList("cu"+e.Bridge._client.userId);e.RongUtil.forEach(i,function(t){e.RongIMClient._storageProvider.removeItem(t)}),setTimeout(function(){t.onSuccess(!0)})},t.prototype.setConversationToTop=function(e,t,n,o){var s=this;this.getConversation(e,t,{onSuccess:function(e){e.isTop=n,s.addConversation(e,o),setTimeout(function(){o.onSuccess(!0)})},onError:function(e){setTimeout(function(){o.onError(e)})}})},t.prototype.getConversationNotificationStatus=function(t,n){var o=t.targetId,s=t.conversationType,r=e.RongIMClient._memoryStore.notification,i=function(){return s+"_"+o},a=i(),c=r[a];if("number"!=typeof c){var u={1:"qryPPush",3:"qryDPush"},l=u[s];if(l){var g=new e.RongIMClient.Protobuf.BlockPushInput;g.setBlockeeId(o);var d=e.Bridge._client.userId,p=function(e){r[a]=e,setTimeout(function(){n.onSuccess(e)})};e.RongIMClient.bridge.queryMsg(l,e.MessageUtil.ArrayForm(g.toArrayBuffer()),d,{onSuccess:function(e){p(e)},onError:function(e){1==e?p(e):setTimeout(function(){n.onError(e)})}})}else n.onError(8001)}else n.onSuccess(c)},t.prototype.setConversationNotificationStatus=function(t,n){var o=t.conversationType,s=t.targetId,r=t.status,i=function(){return o+"_"+r},a={"1_1":"blkPPush","3_1":"blkDPush","1_0":"unblkPPush","3_0":"unblkDPush"},c=i();e.RongIMClient._memoryStore.notification[c]=r;var u=a[c];if(u){var l=new e.RongIMClient.Protobuf.BlockPushInput;l.setBlockeeId(s);var g=e.Bridge._client.userId;e.RongIMClient.bridge.queryMsg(u,e.MessageUtil.ArrayForm(l.toArrayBuffer()),g,{onSuccess:function(e){setTimeout(function(){n.onSuccess(e)})},onError:function(e){setTimeout(function(){n.onError(e)})}})}else setTimeout(function(){n.onError(8001)})},t.prototype.getUserStatus=function(t,n){var o=new e.RongIMClient.Protobuf.GetUserStatusInput;t=e.Bridge._client.userId,e.RongIMClient.bridge.queryMsg(35,e.MessageUtil.ArrayForm(o.toArrayBuffer()),t,{onSuccess:function(t){t=e.RongInnerTools.convertUserStatus(t),setTimeout(function(){n.onSuccess(t)})},onError:function(e){setTimeout(function(){n.onError(e)})}},"GetUserStatusOutput")},t.prototype.setUserStatus=function(t,n){var o=new e.RongIMClient.Protobuf.SetUserStatusInput,s=e.Bridge._client.userId;t&&o.setStatus(t),e.RongIMClient.bridge.queryMsg(36,e.MessageUtil.ArrayForm(o.toArrayBuffer()),s,{onSuccess:function(e){setTimeout(function(){n.onSuccess(!0)})},onError:function(e){setTimeout(function(){n.onError(e)})}},"SetUserStatusOutput")},t.prototype.subscribeUserStatus=function(t,n){var o=new e.RongIMClient.Protobuf.SubUserStatusInput,s=e.Bridge._client.userId;o.setUserid(t),e.RongIMClient.bridge.queryMsg(37,e.MessageUtil.ArrayForm(o.toArrayBuffer()),s,{onSuccess:function(e){setTimeout(function(){n&&n.onSuccess(!0)})},onError:function(e){setTimeout(function(){n&&n.onError(e)})}},"SubUserStatusOutput")},t.prototype.setUserStatusListener=function(t,n){e.RongIMClient.userStatusListener=n;var o=t.userIds||[];o.length&&e.RongIMClient._dataAccessProvider.subscribeUserStatus(o)},t.prototype.clearListeners=function(){},t.prototype.setServerInfo=function(e){},t.prototype.getUnreadMentionedMessages=function(e,t){return null},t.prototype.setConversationHidden=function(e,t,n){},t.prototype.setMessageExtra=function(e,t,n){setTimeout(function(){n.onSuccess(!0)})},t.prototype.setMessageReceivedStatus=function(e,t,n){setTimeout(function(){n.onSuccess(!0)})},t.prototype.setMessageSentStatus=function(e,t,n){setTimeout(function(){n.onSuccess(!0)})},t.prototype.getAllConversations=function(e){setTimeout(function(){e.onSuccess([])})},t.prototype.getConversationByContent=function(e,t){setTimeout(function(){t.onSuccess([])})},t.prototype.getMessagesFromConversation=function(e,t,n,o){setTimeout(function(){o.onSuccess([])})},t.prototype.searchConversationByContent=function(e,t,n){setTimeout(function(){t.onSuccess([])})},t.prototype.searchMessageByContent=function(e,t,n,o,s,r,i){setTimeout(function(){i.onSuccess([])})},t.prototype.getDelaTime=function(){return e.RongIMClient._memoryStore.deltaTime},t.prototype.getCurrentConnectionStatus=function(){var t=e.Bridge._client||{},n=t.channel||{},o=e.ConnectionStatus.CONNECTION_CLOSED;return"number"==typeof n.connectionStatus&&(o=n.connectionStatus),o},t.prototype.getAgoraDynamicKey=function(t,n,o){var s=new e.RongIMClient.Protobuf.VoipDynamicInput;s.setEngineType(t),s.setChannelName(n),e.RongIMClient.bridge.queryMsg(32,e.MessageUtil.ArrayForm(s.toArrayBuffer()),e.Bridge._client.userId,{onSuccess:function(e){setTimeout(function(){o.onSuccess(e)})},onError:function(e){setTimeout(function(){o.onError(e)})}},"VoipDynamicOutput")},t.prototype.setDeviceInfo=function(e){},t.prototype.setEnvironment=function(e){},t.prototype.clearData=function(){return!0},t.prototype.getPublicServiceProfile=function(t,n,o){var s=e.RongIMClient._memoryStore.publicServiceMap.get(t,n);setTimeout(function(){o.onSuccess(s)})},t.prototype.getRemotePublicServiceList=function(t,n){if(e.RongIMClient._memoryStore.depend.openMp){var o=new e.RongIMClient.Protobuf.PullMpInput;n?o.setTime(n):o.setTime(0),o.setMpid(""),e.RongIMClient.bridge.queryMsg(28,e.MessageUtil.ArrayForm(o.toArrayBuffer()),e.Bridge._client.userId,{onSuccess:function(n){e.RongIMClient._memoryStore.publicServiceMap.publicServiceList.length=0,e.RongIMClient._memoryStore.publicServiceMap.publicServiceList=n,setTimeout(function(){t&&t.onSuccess(n)})},onError:function(e){setTimeout(function(){t&&t.onError(e)})}},"PullMpOutput")}},t.prototype.getRTCUserInfoList=function(t,n){var o=new e.RongIMClient.Protobuf.RtcQueryListInput;o.setOrder(2),e.RongIMClient.bridge.queryMsg("rtcUData",e.MessageUtil.ArrayForm(o.toArrayBuffer()),t.id,{onSuccess:function(t){var o={},s=t.list;e.RongUtil.forEach(s,function(t){var n=t.userId,s={};e.RongUtil.forEach(t.userData,function(e){var t=e.key,n=e.value;s[t]=n}),o[n]=s}),n.onSuccess(o)},onError:function(e){n.onError(e)}},"RtcUserListOutput")},t.prototype.getRTCUserList=function(t,n){var o=new e.RongIMClient.Protobuf.RtcQueryListInput;o.setOrder(2),e.RongIMClient.bridge.queryMsg("rtcUList",e.MessageUtil.ArrayForm(o.toArrayBuffer()),t.id,{onSuccess:function(e){n.onSuccess({users:e.list})},onError:function(e){n.onError(e)}},"RtcUserListOutput")},t.prototype.setRTCUserInfo=function(t,n,o){var s=new e.RongIMClient.Protobuf.RtcValueInfo;s.setKey(n.key),s.setValue(n.value),e.RongIMClient.bridge.queryMsg("rtcUPut",e.MessageUtil.ArrayForm(s.toArrayBuffer()),t.id,{onSuccess:function(){o.onSuccess(!0)},onError:function(e){o.onError(e)}})},t.prototype.removeRTCUserInfo=function(t,n,o){var s=new e.RongIMClient.Protobuf.RtcKeyDeleteInput,r=n.keys||[];e.RongUtil.isArray(r)||(r=[r]),s.setKey(r),e.RongIMClient.bridge.queryMsg("rtcUDel",e.MessageUtil.ArrayForm(s.toArrayBuffer()),t.id,{onSuccess:function(){o.onSuccess(!0)},onError:function(e){o.onError(e)}})},t.prototype.getRTCRoomInfo=function(t,n){var o=new e.RongIMClient.Protobuf.RtcQueryListInput;o.setOrder(2),e.RongIMClient.bridge.queryMsg("rtcRInfo",e.MessageUtil.ArrayForm(o.toArrayBuffer()),t.id,{onSuccess:function(t){var o={id:t.roomId,total:t.userCount};e.RongUtil.forEach(t.roomData,function(e){o[e.key]=e.value}),n.onSuccess(o)},onError:function(e){n.onError(e)}},"RtcRoomInfoOutput")},t.prototype.setRTCRoomInfo=function(t,n,o){var s=new e.RongIMClient.Protobuf.RtcValueInfo;s.setKey(n.key),s.setValue(n.value),e.RongIMClient.bridge.queryMsg("rtcRPut",e.MessageUtil.ArrayForm(s.toArrayBuffer()),t.id,{onSuccess:function(){o.onSuccess(!0)},onError:function(e){o.onError(e)}})},t.prototype.removeRTCRoomInfo=function(t,n,o){var s=new e.RongIMClient.Protobuf.RtcKeyDeleteInput,r=n.keys||[];e.RongUtil.isArray(r)||(r=[r]),s.setKey(r),e.RongIMClient.bridge.queryMsg("rtcRDel",e.MessageUtil.ArrayForm(s.toArrayBuffer()),t.id,{onSuccess:function(){o.onSuccess(!0)},onError:function(e){o.onError(e)}})},t.prototype.joinRTCRoom=function(t,n){var o=new e.RongIMClient.Protobuf.RtcInput;e.RongIMClient.bridge.queryMsg("rtcRJoin_data",e.MessageUtil.ArrayForm(o.toArrayBuffer()),t.id,{onSuccess:function(t){var o={},s=t.list,r=t.token;e.RongUtil.forEach(s,function(t){var n=t.userId,s={};e.RongUtil.forEach(t.userData,function(e){var t=e.key,n=e.value;s[t]=n}),o[n]=s}),n.onSuccess({users:o,token:r})},onError:function(e){n.onError(e)}},"RtcUserListOutput")},t.prototype.quitRTCRoom=function(t,n){var o=new e.RongIMClient.Protobuf.SetUserStatusInput;e.RongIMClient.bridge.queryMsg("rtcRExit",e.MessageUtil.ArrayForm(o.toArrayBuffer()),t.id,{onSuccess:function(){n.onSuccess(!0)},onError:function(e){n.onError(e)}})},t.prototype.RTCPing=function(t,n){var o=new e.RongIMClient.Protobuf.RtcInput;e.RongIMClient.bridge.queryMsg("rtcPing",e.MessageUtil.ArrayForm(o.toArrayBuffer()),t.id,n)},t.prototype.setRTCData=function(t,n,o,s,r,i,a){var c=new e.RongIMClient.Protobuf.RtcSetDataInput;c.setInterior(s),c.setTarget(r),c.setKey(n),c.setValue(o),a=a||{};var u=a.name,l=a.content;u&&c.setObjectName(u),l&&(e.RongUtil.isString(l)||(l=JSON.stringify(l)),c.setContent(l)),e.RongIMClient.bridge.queryMsg("rtcSetData",e.MessageUtil.ArrayForm(c.toArrayBuffer()),t,i,"RtcOutput")},t.prototype.getRTCData=function(t,n,o,s,r){var i=new e.RongIMClient.Protobuf.RtcDataInput;i.setInterior(o),i.setTarget(s),i.setKey(n),e.RongIMClient.bridge.queryMsg("rtcQryData",e.MessageUtil.ArrayForm(i.toArrayBuffer()),t,{onSuccess:function(t){var n={},o=t.outInfo;e.RongUtil.forEach(o,function(e){n[e.key]=e.value}),r.onSuccess(n)},onError:r.onError},"RtcQryOutput")},t.prototype.removeRTCData=function(t,n,o,s,r,i){var a=new e.RongIMClient.Protobuf.RtcDataInput;a.setInterior(o),a.setTarget(s),a.setKey(n),i=i||{};var c=i.name,u=i.content;c&&a.setObjectName(c),u&&(e.RongUtil.isString(u)||(u=JSON.stringify(u)),a.setContent(u)),e.RongIMClient.bridge.queryMsg("rtcDelData",e.MessageUtil.ArrayForm(a.toArrayBuffer()),t,r,"RtcOutput")},t.prototype.setRTCUserData=function(t,n,o,s,r,i){this.setRTCData(t,n,o,s,e.RTCAPIType.PERSON,r,i)},t.prototype.getRTCUserData=function(t,n,o,s,r){this.getRTCData(t,n,o,e.RTCAPIType.PERSON,s)},t.prototype.removeRTCUserData=function(t,n,o,s,r){this.removeRTCData(t,n,o,e.RTCAPIType.PERSON,s,r)},t.prototype.setRTCRoomData=function(t,n,o,s,r,i){this.setRTCData(t,n,o,s,e.RTCAPIType.ROOM,r,i)},t.prototype.getRTCRoomData=function(t,n,o,s,r){this.getRTCData(t,n,o,e.RTCAPIType.ROOM,s)},t.prototype.removeRTCRoomData=function(t,n,o,s,r){this.removeRTCData(t,n,o,e.RTCAPIType.ROOM,s,r)},t.prototype.getNavi=function(){var t=e.RongIMClient._storageProvider.getItem("fullnavi")||"{}";return JSON.parse(t)},t.prototype.getRTCToken=function(t,n){var o=new e.RongIMClient.Protobuf.RtcInput;e.RongIMClient.bridge.queryMsg("rtcToken",e.MessageUtil.ArrayForm(o.toArrayBuffer()),t.id,{onSuccess:function(e){n.onSuccess(e)},onError:function(e){n.onError(e)}},"RtcTokenOutput")},t}();e.ServerDataProvider=t}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(e){this.version="2.8.27",this.userId="",this.useConsole=!1,this.appKey="",this.token="",this.addon=e}return t.prototype.init=function(e,t){this.appKey=e,this.useConsole&&console.log("init"),t=t||{},t.version=this.version;var n=this.addon.initWithAppkey(e,t.dbPath,t);return n&&(n=JSON.parse(n)),this.addon.registerMessageType("RC:VcMsg",3),this.addon.registerMessageType("RC:ImgTextMsg",3),this.addon.registerMessageType("RC:FileMsg",3),this.addon.registerMessageType("RC:LBSMsg",3),this.addon.registerMessageType("RC:PSImgTxtMsg",3),this.addon.registerMessageType("RC:PSMultiImgTxtMsg",3),this.addon.registerMessageType("RCJrmf:RpMsg",3),this.addon.registerMessageType("RCJrmf:RpOpendMsg",1),this.addon.registerMessageType("RC:GrpNtf",1),this.addon.registerMessageType("RC:DizNtf",0),this.addon.registerMessageType("RC:InfoNtf",0),this.addon.registerMessageType("RC:ContactNtf",0),this.addon.registerMessageType("RC:ProfileNtf",0),this.addon.registerMessageType("RC:CmdNtf",0),this.addon.registerMessageType("RC:CmdMsg",0),this.addon.registerMessageType("RC:TypSts",0),this.addon.registerMessageType("RC:CsChaR",0),this.addon.registerMessageType("RC:CsHsR",0),this.addon.registerMessageType("RC:CsEnd",0),this.addon.registerMessageType("RC:CsSp",0),this.addon.registerMessageType("RC:CsUpdate",0),this.addon.registerMessageType("RC:CsContact",0),this.addon.registerMessageType("RC:ReadNtf",0),this.addon.registerMessageType("RC:VCAccept",0),this.addon.registerMessageType("RC:VCRinging",0),this.addon.registerMessageType("RC:VCSummary",0),this.addon.registerMessageType("RC:VCHangup",0),this.addon.registerMessageType("RC:VCInvite",0),this.addon.registerMessageType("RC:VCModifyMedia",0),this.addon.registerMessageType("RC:VCModifyMem",0),this.addon.registerMessageType("RC:PSCmd",0),this.addon.registerMessageType("RC:RcCmd",0),this.addon.registerMessageType("RC:SRSMsg",0),this.addon.registerMessageType("RC:RRReqMsg",0),this.addon.registerMessageType("RC:RRRspMsg",0),n},t.prototype.connect=function(t,n,o,s){this.useConsole&&console.log("connect"),this.userId=o,this.connectCallback=n,e.Bridge._client={userId:o},s=s||{};var r=!!s.openMp,i=!!s.openUS;s.type&&this.addon.setEnvironment(!0),this.addon.connectWithToken(t,o,s.serverList,r,i)},t.prototype.setServerInfo=function(e){"setServerInfo"in this.addon&&this.addon.setServerInfo(e.navi)},t.prototype.logout=function(){this.useConsole&&console.log("logout"),this.disconnect()},t.prototype.disconnect=function(){this.useConsole&&console.log("disconnect"),this.addon.disconnect(!0)},t.prototype.clearListeners=function(){this.addon.setOnReceiveStatusListener(),this.addon.setConnectionStatusListener(),this.addon.setOnReceiveMessageListener()},t.prototype.clearData=function(){return this.useConsole&&console.log("clearData"),this.addon.clearData()},t.prototype.setConnectionStatusListener=function(t){var n=this;n.connectListener=t,this.useConsole&&console.log("setConnectionStatusListener"),n.addon&&n.addon.setConnectionStatusListener(function(o){switch(o){case 10:setTimeout(function(){t.onChanged(e.ConnectionStatus.CONNECTING)});break;case 31004:setTimeout(function(){n.connectCallback.onTokenIncorrect()});break;case 1:case 8:case 9:case 11:case 12:case 31011:case 3e4:case 30002:setTimeout(function(){t.onChanged(e.ConnectionStatus.DISCONNECTED)});break;case 0:case 33005:setTimeout(function(){n.connectCallback.onSuccess(n.userId),t.onChanged(e.ConnectionStatus.CONNECTED)});break;case 6:setTimeout(function(){t.onChanged(e.ConnectionStatus.KICKED_OFFLINE_BY_OTHER_CLIENT)});break;default:setTimeout(function(){t.onChanged(o)})}})},t.prototype.setOnReceiveMessageListener=function(t){var n=this;n.messageListener=t,this.useConsole&&console.log("setOnReceiveMessageListener"),n.addon&&n.addon.setOnReceiveMessageListener(function(o,s,r,i){var a=n.buildMessage(o);a.offLineMessage=r,setTimeout(function(){["AcceptMessage","RingingMessage","HungupMessage","InviteMessage","MediaModifyMessage","MemberModifyMessage"].indexOf(a.messageType)>-1?e.RongIMClient._voipProvider&&e.RongIMClient._voipProvider.onReceived(a):t.onReceived(a,s,i)})})},t.prototype.sendTypingStatusMessage=function(t,n,o,s){var r=this;this.useConsole&&console.log("sendTypingStatusMessage"),o in e.RongIMClient.MessageParams&&r.sendMessage(t,n,e.TypingStatusMessage.obtain(e.RongIMClient.MessageParams[o].objectName,""),{onSuccess:function(){setTimeout(function(){s.onSuccess()})},onError:function(e){setTimeout(function(){s.onError(e,null)})},onBefore:function(){}})},t.prototype.setMessageStatus=function(e,t,n,o,s){this.addon.updateMessageReceiptStatus(e,t,n),s.onSuccess(!0)},t.prototype.sendTextMessage=function(t,n,o,s){var r=e.TextMessage.obtain(o);this.useConsole&&console.log("sendTextMessage"),this.sendMessage(t,n,r,s)},t.prototype.getRemoteHistoryMessages=function(t,n,o,s,r,i){try{var a=this;a.useConsole&&console.log("getRemoteHistoryMessages"),a.addon.getRemoteHistoryMessages(t,n,o||0,s,function(t,n){var o=t?JSON.parse(t).list:[],s=[];o.reverse();for(var i=0,c=o.length;i<c;i++){var u=a.buildMessage(o[i].obj);u.sentStatus=e.SentStatus.READ,s[i]=u}r.onSuccess(s,!!n)},function(e){r.onError(e)})}catch(c){r.onError(c)}},t.prototype.getRemoteConversationList=function(e,t,n,o){try{this.useConsole&&console.log("getRemoteConversationList");var s=t||[1,2,3,4,5,6,7,8],r=this.addon.getConversationList(s),i=JSON.parse(r).list,a=[],c=this,u=0;i.reverse(),o="boolean"==typeof o&&o;for(var l=0,g=i.length;l<g;l++){var d=i[l].obj,p=JSON.parse(d);if(""!=p){if(1==p.isHidden&&o)continue;a[u]=c.buildConversation(d),u++}}a.reverse();var f=a.length;n=n||f,f>n&&(a.length=n),e.onSuccess(a)}catch(m){e.onError(m)}},t.prototype.removeConversation=function(t,n,o){try{this.useConsole&&console.log("removeConversation"),this.addon.removeConversation(t,n);for(var s=e.RongIMClient._memoryStore.conversationList,r=s.length,i=0;i<r;i++)if(s[i].conversationType==t&&n==s[i].targetId){s.splice(i,1);break}o.onSuccess(!0)}catch(a){o.onError(a)}},t.prototype.joinChatRoom=function(e,t,n){this.useConsole&&console.log("joinChatRoom"),this.addon.joinChatRoom(e,t,function(){n.onSuccess()},function(e){n.onError(e)})},t.prototype.quitChatRoom=function(e,t){this.useConsole&&console.log("quitChatRoom"),this.addon.quitChatRoom(e,function(){t.onSuccess()},function(e){t.onError(e)})},t.prototype.addToBlacklist=function(e,t){this.useConsole&&console.log("addToBlacklist"),this.addon.addToBlacklist(e,function(){t.onSuccess()},function(e){t.onError(e)})},t.prototype.getBlacklist=function(e){this.useConsole&&console.log("getBlacklist"),this.addon.getBlacklist(function(t){e.onSuccess(t)},function(t){e.onError(t)})},t.prototype.getBlacklistStatus=function(e,t){this.useConsole&&console.log("getBlacklistStatus"),this.addon.getBlacklistStatus(e,function(e){t.onSuccess(e)},function(e){t.onError(e)})},t.prototype.removeFromBlacklist=function(e,t){this.useConsole&&console.log("removeFromBlacklist"),this.addon.removeFromBlacklist(e,function(){t.onSuccess()},function(e){t.onError(e)})},t.prototype.sendMessage=function(t,n,o,s,r,i,a,c,u){var l=this,g=[];l.useConsole&&console.log("sendMessage"),u=u||{};var d=t==e.ConversationType.DISCUSSION||t==e.ConversationType.GROUP;if(d&&o.messageName==e.RongIMClient.MessageType.ReadReceiptResponseMessage){g=[];var p=o;if(p.receiptMessageDic){var f=[];for(var m in p.receiptMessageDic)f.push(m);g=f}}d&&o.messageName==e.RongIMClient.MessageType.SyncReadStatusMessage&&(g=[],g.push(l.userId));var h=u.userIds;d&&h&&(g=h);var C=l.addon.sendMessage(t,n,e.RongIMClient.MessageParams[o.messageName].objectName,o.encode(),i||"",a||"",function(e){},function(t,n){var o=l.buildMessage(t),r=e.ErrorCode.SENSITIVE_REPLACE;if(n==r)return s.onError(r,o);s.onSuccess(o)},function(e,t){s.onError(t,l.buildMessage(e))},g),_=JSON.parse(C);s.onBefore&&s.onBefore(_.messageId),e.MessageIdHandler.messageId=_.messageId},t.prototype.registerMessageType=function(t,n,o,s,r){this.useConsole&&console.log("registerMessageType"),this.addon.registerMessageType(n,o.getMessageTag(),r);var i=e.ModelUtil.modleCreate(s,t);e.RongIMClient.RegisterMessage[t]=i,e.RongIMClient.RegisterMessage[t].messageName=t,registerMessageTypeMapping[n]=t,e.RongIMClient.MessageType[t]=t,e.RongIMClient.MessageParams[t]={objectName:n,msgTag:o},typeMapping[n]=t},t.prototype.registerMessageTypes=function(t){var n=[],o=function(e){var t=[];for(var n in e)t.push(n);return t};for(var s in t){var r=t[s],i=r.proto,a=o(i),c=r.flag||3,u=e.MessageTag.getTagByStatus(c);c=new e.MessageTag(u.isCounted,u.isPersited),n.push({type:s,name:r.name,flag:c,protos:a})}for(var l=function(t){var n=t.type,o=t.name,s=t.flag,r=t.protos;e.RongIMClient.registerMessageType(n,o,s,r)},g=0,d=n.length;g<d;g++){r=n[g];l(r)}},t.prototype.addMessage=function(t,n,o,s){this.useConsole&&console.log("addMessage");var r=o.direction,i=this.addon.insertMessage(t,n,o.senderUserId,o.objectName,JSON.stringify(o.content),function(){s.onSuccess(a.buildMessage(i))},function(){s.onError(e.ErrorCode.MSG_INSERT_ERROR)},r),a=this},t.prototype.removeMessage=function(e,t,n,o){},t.prototype.removeLocalMessage=function(e,t,n,o){try{this.useConsole&&console.log("removeLocalMessage"),this.addon.deleteMessages(n),o.onSuccess(!0)}catch(s){o.onError(s)}},t.prototype.getMessage=function(e,t){try{this.useConsole&&console.log("getMessage");var n=this.buildMessage(this.addon.getMessage(e));t.onSuccess(n)}catch(o){t.onError(o)}},t.prototype.clearMessages=function(e,t,n){try{this.useConsole&&console.log("clearMessages"),this.addon.clearMessages(e,t),n.onSuccess(!0)}catch(o){n.onError(o)}},t.prototype.setUnreadCount=function(e,t,n){},t.prototype.getConversation=function(e,t,n){try{this.useConsole&&console.log("getConversation");var o=this.addon.getConversation(e,t);n.onSuccess(this.buildConversation(o))}catch(s){n.onError(s)}},t.prototype.getConversationList=function(e,t,n,o){this.useConsole&&console.log("getConversationList"),this.getRemoteConversationList(e,t,n,o)},t.prototype.clearCache=function(){var t=e.RongIMClient._memoryStore||{};t.conversationList=[],t.isSyncRemoteConverList},t.prototype.clearConversations=function(e,t){try{this.useConsole&&console.log("clearConversations"),this.addon.clearConversations(),t.onSuccess(!0)}catch(n){t.onError(n)}},t.prototype.setMessageContent=function(e,t,n){t=JSON.stringify(t),this.addon.setMessageContent(e,t,n)},t.prototype.getHistoryMessages=function(t,n,o,s,r,i,a){if(this.useConsole&&console.log("getHistoryMessages"),s<=0)r.onError(e.ErrorCode.TIMEOUT);else{i=i||"",a=void 0===a||a;try{var c=this.addon.getHistoryMessages(t,n,o||0,s,i,a),u=c?JSON.parse(c).list:[],l=[],g=this;u.reverse();for(var d=0,p=u.length;d<p;d++){var f=g.buildMessage(u[d].obj);l[d]=f}r.onSuccess(l,p==s)}catch(m){r.onError(m)}}},t.prototype.clearRemoteHistoryMessages=function(t,n){var o=t.conversationType,s=t.targetId,r=t.timestamp;return{1:!0,2:!0,3:!0,5:!0,6:!0}[o]?"number"!=typeof r?void n.onError(e.ErrorCode.CLEAR_HIS_TIME_ERROR):void this.addon.clearRemoteHistoryMessages(+o,s,r,function(){n.onSuccess(!0)},function(t){1==t&&(t=e.ErrorCode.CLEAR_HIS_ERROR),n.onError(t)}):void n.onError(e.ErrorCode.CLEAR_HIS_TYPE_ERROR)},t.prototype.clearHistoryMessages=function(t,n){var o=+t.conversationType,s=t.targetId;try{this.addon.clearMessages(o,s),n.onSuccess(!0)}catch(f){console.log(f),n.onError(e.ErrorCode.CLEAR_HIS_ERROR)}},t.prototype.getTotalUnreadCount=function(e,t){try{var n;this.useConsole&&console.log("getTotalUnreadCount"),n=t?this.addon.getTotalUnreadCount(t):this.addon.getTotalUnreadCount(),e.onSuccess(n)}catch(o){e.onError(o)}},t.prototype.getConversationUnreadCount=function(e,t){this.useConsole&&console.log("getConversationUnreadCount"),this.getTotalUnreadCount(t,e)},t.prototype.getUnreadCount=function(e,t,n){try{this.useConsole&&console.log("getUnreadCount");var o=this.addon.getUnreadCount(e,t);n.onSuccess(o)}catch(s){n.onError(s)}},t.prototype.clearUnreadCount=function(e,t,n){try{this.useConsole&&console.log("clearUnreadCount"),this.addon.clearUnreadCount(e,t),n.onSuccess(!0)}catch(o){n.onError(o)}},t.prototype.clearTotalUnreadCount=function(e){this.useConsole&&console.log("clearTotalUnreadCount")},t.prototype.clearUnreadCountByTimestamp=function(e,t,n,o){try{this.useConsole&&console.log("clearUnreadCountByTimestamp"),this.addon.clearUnreadCountByTimestamp(e,t,n),o.onSuccess(!0)}catch(s){o.onError(s)}},t.prototype.setConversationToTop=function(e,t,n,o){try{this.useConsole&&console.log("setConversationToTop"),this.addon.setConversationToTop(e,t,n),o.onSuccess(!0)}catch(s){o.onError(s)}},t.prototype.setConversationHidden=function(e,t,n){this.addon.setConversationHidden(e,t,n)},t.prototype.setMessageReceivedStatus=function(e,t,n){try{this.useConsole&&console.log("setMessageReceivedStatus"),this.addon.setMessageReceivedStatus(e,t),n.onSuccess(!0)}catch(o){n.onError(o)}},t.prototype.setMessageSentStatus=function(e,t,n){try{this.useConsole&&console.log("setMessageSentStatus"),this.addon.setMessageSentStatus(e,t),n.onSuccess(!0)}catch(o){n.onError(o)}},t.prototype.getFileToken=function(e,t){this.useConsole&&console.log("getFileToken"),this.addon.getUploadToken(e,function(e){t.onSuccess({token:e})},function(e){t.onError(e)})},t.prototype.getFileUrl=function(e,t,n,o){this.useConsole&&console.log("getFileUrl"),this.addon.getDownloadUrl(e,t,n,function(e){o.onSuccess({downloadUrl:e})},function(e){o.onError(e)})},t.prototype.searchConversationByContent=function(e,t,n){var o=[];o=void 0===n?[1,2,3,4,5,6,7]:n;try{this.useConsole&&console.log("searchConversationByContent");var s=this.addon.searchConversationByContent(o,e),r=JSON.parse(s).list,i=[],a=this;r.reverse();for(var c=0,u=r.length;c<u;c++)i[c]=a.buildConversation(r[c].obj);t.onSuccess(i)}catch(l){t.onError(l)}},t.prototype.searchMessageByContent=function(e,t,n,o,s,r,i){var a=this;try{this.useConsole&&console.log("searchMessageByContent"),this.addon.searchMessageByContent(e,t,n,o,s,r,function(e,t){var n=e?JSON.parse(e).list:[],o=[];n.reverse();for(var s=0,r=n.length;s<r;s++)o[s]=a.buildMessage(n[s].obj);i.onSuccess(o,t)})}catch(c){i.onError(c)}},t.prototype.getChatRoomInfo=function(e,t,n,o){this.useConsole&&console.log("getChatRoomInfo"),this.addon.getChatroomInfo(e,t,n,function(e,t){var n=e?JSON.parse(e).list:[],s={userInfos:[],userTotalNums:t};if(n.length>0)for(var r=0,i=n.length;r<i;r++)s.userInfos.push(JSON.parse(n[r].obj));o.onSuccess(s)},function(e){o.onError(e)})},t.prototype.setChatroomHisMessageTimestamp=function(e,t){},t.prototype.getChatRoomHistoryMessages=function(e,t,n,o){},t.prototype.getDelaTime=function(){return this.addon.getDeltaTime()},t.prototype.getUserStatus=function(t,n){this.addon.getUserStatus(t,function(t){var o=e.RongInnerTools.convertUserStatus({status:t,userId:""});n.onSuccess(o)},function(e){n.onError(e)})},t.prototype.setUserStatus=function(e,t){this.addon.setUserStatus(e,function(){t.onSuccess(!0)},function(e){t.onError(e)})},t.prototype.subscribeUserStatus=function(e,t){this.addon.subscribeUserStatus(e,function(){t&&t.onSuccess(!0)},function(e){t&&t.onError(e)})},t.prototype.setUserStatusListener=function(t,n){this.addon.setOnReceiveStatusListener(function(t,n){var o=e.RongInnerTools.convertUserStatus({userId:t,status:n});e.RongIMClient.userStatusObserver.notify({key:t,entity:o})});var o=t.userIds||[];o.length&&e.RongIMClient._dataAccessProvider.subscribeUserStatus(o)},t.prototype.getUnreadMentionedMessages=function(e,t){for(var n=this,o=JSON.parse(n.addon.getUnreadMentionedMessages(e,t)).list,s=0,r=o.length;s<r;s++){var i=JSON.parse(o[s].obj);i.content=JSON.parse(i.content),o[s]=i}return o},t.prototype.hasRemoteUnreadMessages=function(e,t){t.onSuccess(!1)},t.prototype.sendRecallMessage=function(e,t){var n=this;n.addon.recallMessage("RC:RcCmd",JSON.stringify(e),e.push||"",function(){e.objectName="RC:RcCmd",t.onSuccess(n.buildMessage(JSON.stringify(e)))},function(e){t.onError(e)})},t.prototype.updateMessage=function(e,t){},t.prototype.updateMessages=function(e,t,n,o,s){},t.prototype.reconnect=function(e){},t.prototype.sendReceiptResponse=function(e,t,n){},t.prototype.setMessageExtra=function(e,t,n){},t.prototype.addMemberToDiscussion=function(e,t,n){},t.prototype.createDiscussion=function(e,t,n){},t.prototype.getDiscussion=function(e,t){},t.prototype.quitDiscussion=function(e,t){},t.prototype.removeMemberFromDiscussion=function(e,t,n){},t.prototype.setDiscussionInviteStatus=function(e,t,n){},t.prototype.setDiscussionName=function(e,t,n){},t.prototype.setEnvironment=function(e){this.addon.setEnvironment(e)},t.prototype.addConversation=function(e,t){},t.prototype.updateConversation=function(e){return null},t.prototype.getConversationNotificationStatus=function(t,n){var o=t.conversationType,s=t.targetId,r=e.RongIMClient._memoryStore.notification,i=o+"_"+s,a=r[i];"number"!=typeof a?this.addon.getConversationNotificationStatus(o,s,function(e){r[i]=e,n.onSuccess(e)},function(e){n.onError(e)}):n.onSuccess(a)},t.prototype.setConversationNotificationStatus=function(t,n){var o=t.conversationType,s=t.targetId,r=t.status;e.RongIMClient._memoryStore.notification[o+"_"+s]=r;var i=!!r;this.addon.setConversationNotificationStatus(o,s,i,function(){n.onSuccess(r)},function(e){n.onError(e)})},t.prototype.getCurrentConnectionStatus=function(){return this.addon.getConnectionStatus()},t.prototype.getAgoraDynamicKey=function(e,t,n){this.addon.getVoIPKey(e,t,"",function(e){n.onSuccess(e)},function(e){n.onError(e)})},t.prototype.getPublicServiceProfile=function(t,n,o){var s=e.RongIMClient._memoryStore.publicServiceMap.get(t,n);o.onSuccess(s)},t.prototype.setDeviceInfo=function(e){var t=e.id||"";this.addon.setDeviceId(t)},t.prototype.getRemotePublicServiceList=function(t,n){var o=[],s=this.addon.getAccounts(),r=function(e){var t={hasFollowed:!1,isGlobal:!1,menu:null};if(!e.obj){var n={error:e};throw new Error("公众账号数据格式错误: "+JSON.stringify(n))}var o=JSON.parse(e.obj),s={aType:"conversationType",aId:"publicServiceId",aName:"introduction",aUri:"portraitUri",follow:"hasFollowed",isGlobal:"isGlobal"};for(var r in o){var i=o[r];if("aExtra"==r){var a=JSON.parse(i);t.hasFollowed=a.follow,t.isGlobal=a.isGlobal,t.menu=a.menu}var c=s[r];c&&(t[c]=i)}return t};if(s){s=JSON.parse(s);for(var i=s.list,a=0,c=i.length;a<c;a++){var u=i[a];u=r(u),o.push(u)}}o.length>0&&(e.RongIMClient._memoryStore.publicServiceMap.publicServiceList.length=0,e.RongIMClient._memoryStore.publicServiceMap.publicServiceList=o),t.onSuccess(e.RongIMClient._memoryStore.publicServiceMap.publicServiceList)},t.prototype.buildMessage=function(t){var n=new e.Message,o=JSON.parse(t);n.conversationType=o.conversationType,n.targetId=o.targetId,n.messageDirection=o.direction,n.senderUserId=o.senderUserId,o.direction==e.MessageDirection.RECEIVE?n.receivedStatus=o.status:o.direction==e.MessageDirection.SEND&&(n.sentStatus=o.status),n.sentTime=o.sentTime,n.objectName=o.objectName;var s=o.content?JSON.parse(o.content):o.content,r=typeMapping[o.objectName]||registerMessageTypeMapping[o.objectName];return s&&(s.messageName=r),n.content=s,n.messageId=o.messageId,n.messageUId=o.messageUid,n.messageType=r,n},t.prototype.buildConversation=function(t){if(""===t)return null;var n=new e.Conversation,o=JSON.parse(t),s=o.lastestMsg?this.buildMessage(o.lastestMsg):{};n.conversationTitle=o.title,n.conversationType=o.conversationType,n.draft=o.draft,n.isTop=o.isTop,n.isHidden=o.isHidden,s.conversationType=o.conversationType,s.targetId=o.targetId,n.latestMessage=s,n.latestMessageId=s.messageId,n.latestMessage.messageType=typeMapping[s.objectName]||registerMessageTypeMapping[s.objectName],n.objectName=s.objectName,n.receivedStatus=e.ReceivedStatus.READ,n.sentTime=s.sentTime,n.senderUserId=s.senderUserId,n.sentStatus=s.status,n.targetId=o.targetId,n.unreadMessageCount=o.unreadCount,n.hasUnreadMention=o.m_hasUnreadMention;var r=this.getUnreadMentionedMessages(o.conversationType,o.targetId);if(r.length>0){var i=r.pop();n.mentionedMsg={uid:i.messageUid,time:i.sentTime,mentionedInfo:i.content.mentionedInfo,sendUserId:i.senderUserId}}return n},t.prototype.getRTCUserInfoList=function(e,t){},t.prototype.setRTCUserInfo=function(e,t,n){},t.prototype.removeRTCUserInfo=function(e,t,n){},t.prototype.getRTCUserList=function(e,t){},t.prototype.getRTCRoomInfo=function(e,t){},t.prototype.setRTCRoomInfo=function(e,t,n){},t.prototype.removeRTCRoomInfo=function(e,t,n){},t.prototype.joinRTCRoom=function(e,t){},t.prototype.quitRTCRoom=function(e,t){},t.prototype.RTCPing=function(e,t){},t.prototype.setRTCUserData=function(e,t,n,o,s,r){},t.prototype.getRTCUserData=function(e,t,n,o,s){},t.prototype.removeRTCUserData=function(e,t,n,o,s){},t.prototype.setRTCRoomData=function(e,t,n,o,s,r){},t.prototype.getRTCRoomData=function(e,t,n,o,s){},t.prototype.removeRTCRoomData=function(e,t,n,o,s){},t.prototype.getNavi=function(){},t.prototype.getRTCToken=function(e,t){},t}();e.VCDataProvider=t}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function e(){this._memeoryStore={},this.prefix="rong_"}return e.prototype.setItem=function(e,t){this._memeoryStore[e]=decodeURIComponent(t)},e.prototype.getItem=function(e){return this._memeoryStore[e]},e.prototype.removeItem=function(e){this.getItem(e)&&delete this._memeoryStore[e]},e.prototype.getItemKey=function(e){var t=this,n=null,o=new RegExp(e+"\\w+");for(var s in t._memeoryStore)s.match(o)&&(n=s);return n},e.prototype.getItemKeyList=function(e){var t=this.prefix,n=this,o=[],s=new RegExp(e+"\\w+");for(var r in n._memeoryStore)r.match(s)&&(r=r.substring(t.length),o.push(r));return o},e.prototype.clearItem=function(){var e=this;for(var t in e._memeoryStore)delete e._memeoryStore[t]},e.prototype.onOutOfQuota=function(){return 4096},e}();e.MemeoryProvider=t}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(){this.prefix="rong_",this._host="";var t=new Date,n=t.getMonth()+1,o=t.getFullYear()+"/"+(1==n.toString().length?"0"+n:n)+"/"+t.getDate(),s=new Date(o).getTime();for(var r in localStorage){if(r.lastIndexOf("RECEIVED")>-1){var i=JSON.parse(localStorage.getItem(r));for(var a in i)s-i[a].dealtime>0&&delete i[a];e.RongUtil.isEmpty(i)?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(i))}r.lastIndexOf("SENT")>-1&&s-JSON.parse(localStorage.getItem(r)).dealtime>0&&localStorage.removeItem(r)}}return t.prototype.setItem=function(e,t){e&&(-1==e.indexOf(this.prefix)&&(e=this.prefix+e),localStorage.setItem(e,t))},t.prototype.getItem=function(e){return e?(-1==e.indexOf(this.prefix)&&(e=this.prefix+e),localStorage.getItem(e||"")):""},t.prototype.getItemKey=function(e){var t="",n=this.prefix+e;for(var o in localStorage)if(0==o.indexOf(n)){t=o;break}return t},t.prototype.getItemKeyList=function(e){var t=[],n=this.prefix,o=n+e;for(var s in localStorage)0==s.indexOf(o)&&(s=s.substring(n.length),t.push(s));return t},t.prototype.removeItem=function(e){e&&(-1==e.indexOf(this.prefix)&&(e=this.prefix+e),localStorage.removeItem(e.toString()))},t.prototype.clearItem=function(){var e=this;for(var t in localStorage)t.indexOf(e.prefix)>-1&&e.removeItem(t)},t.prototype.onOutOfQuota=function(){return JSON.stringify(localStorage).length},t}();e.LocalStorageProvider=t}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function e(){this.opersistName="RongIMLib",this.keyManager="RongUserDataKeyManager",this._host="",this.prefix="rong_",this.oPersist=document.createElement("div"),this.oPersist.style.display="none",this.oPersist.style.behavior="url('#default#userData')",document.body.appendChild(this.oPersist),this.oPersist.load(this.opersistName)}return e.prototype.setItem=function(e,t){e&&-1==e.indexOf(this.prefix)&&(e=this.prefix+e),this.oPersist.setAttribute(e,t);var n=this.getItem(this.keyManager);n?-1==n.indexOf(e)&&(n+=","+e):n=e,this.oPersist.setAttribute(this.prefix+this.keyManager,n),this.oPersist.save(this.opersistName)},e.prototype.getItem=function(e){return e&&-1==e.indexOf(this.prefix)&&(e=this.prefix+e),e?this.oPersist.getAttribute(e):e},e.prototype.removeItem=function(e){e&&-1==e.indexOf(this.prefix)&&(e=this.prefix+e),this.oPersist.removeAttribute(e),this.oPersist.save(this.opersistName);for(var t=this.getItem(this.keyManager),n=t&&t.split(",")||[],o=0,s=n.length;o<s;o++)n[o]==e&&n.splice(o,1);this.oPersist.setAttribute(this.prefix+this.keyManager,n.join(",")),this.oPersist.save(this.opersistName)},e.prototype.getItemKey=function(e){var t=null,n=this.getItem(this.keyManager),o=n&&n.split(",")||[],s=this.prefix+e;if(o.length)for(var r=0,i=o.length;r<i;r++)if(o[r]&&0==o[r].indexOf(s)){t=o[r];break}return t},e.prototype.getItemKeyList=function(e){var t=[],n=this.getItem(this.keyManager),o=n&&n.split(",")||[],s=this.prefix,r=s+e;if(o.length)for(var i=0,a=o.length;i<a;i++)if(o[i]&&0==o[i].indexOf(r)){var c=o[i];c=c.substring(s.length),t.push(o[i])}return t},e.prototype.clearItem=function(){var e=this.getItem(this.keyManager),t=[],n=this;if(e&&(t=e.split(",")),t.length){for(var o=0,s=t.length;o<s;o++)t[o]&&n.removeItem(t[o]);n.removeItem(n.keyManager)}},e.prototype.onOutOfQuota=function(){return 10485760},e}();e.UserDataProvider=t}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function t(t){if(this.script=document.createElement("script"),this.head=document.getElementsByTagName("head")[0],"WebSocket"in window&&"ArrayBuffer"in window&&3===WebSocket.prototype.CLOSED&&!e.RongIMClient._memoryStore.depend.isPolling){if(e.Transportations._TransportType=e.Socket.WEBSOCKET,!e.RongIMClient.Protobuf){var n=e.RongIMClient._memoryStore.depend.protobuf,o=this.script;o.src=n,this.head.appendChild(o),o.onload=o.onreadystatechange=function(){if(!(this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o.onload=o.onreadystatechange=null,t&&t(),t))){var n=e.RongIMClient._memoryStore.token,s=e.RongIMClient._memoryStore.callback;n&&e.RongIMClient.connect(n,s)}}}}else e.Transportations._TransportType="xhr-polling",e.RongIMClient.Protobuf=Polling}return t}();e.FeatureDectector=t}(RongIMLib||(RongIMLib={})),function(RongIMLib){var FeaturePatcher=function(){function FeaturePatcher(){}return FeaturePatcher.prototype.patchAll=function(){this.patchJSON(),this.patchForEach()},FeaturePatcher.prototype.patchForEach=function(){Array.forEach||(Array.forEach=function(e,t){for(var n=0;n<e.length;n++)t.call(e,e[n],n,e)})},FeaturePatcher.prototype.patchJSON=function(){window.JSON||(window.JSON=function(){function JSON(){}return JSON.parse=function(sJSON){return eval("("+sJSON+")")},JSON.stringify=function(e){return this.str("",{"":e})},JSON.str=function(e,t){var n,o,s,r,i,a=t[e],c=this;switch(a&&"object"==Object(F_project_vue_wechat_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_12__["a"])(a)&&"function"==typeof a.toJSON&&(a=a.toJSON(e)),Object(F_project_vue_wechat_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_12__["a"])(a)){case"string":return c.quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(i=[],"[object Array]"===Object.prototype.toString.apply(a)){for(r=a.length,n=0;n<r;n+=1)i[n]=c.str(n,a)||"null";return 0===i.length?"[]":"["+i.join(",")+"]"}for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s=c.str(o,a))&&i.push(c.quote(o)+":"+s);return 0===i.length?"{}":"{"+i.join(",")+"}"}},JSON.quote=function(e){var t=this;return t.rx_escapable.lastIndex=0,t.rx_escapable.test(e)?'"'+e.replace(t.rx_escapable,function(e){var n=t.meta[e];return"string"==typeof n?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},JSON.rx_escapable=new RegExp('[\\"\\\\"\0--­؀-؄܏឴឵‌-‏\u2028- ⁠-⁯\ufeff￰-￿]',"g"),JSON.meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"''":"\\''","\\":"\\\\"},JSON}())},FeaturePatcher}();RongIMLib.FeaturePatcher=FeaturePatcher}(RongIMLib||(RongIMLib={})),function(e){!function(){function e(){}e.prototype.load=function(e,t,n){var o=document.createElement("script");o.async=!0,t&&(o.addEventListener?o.addEventListener("load",function(e){var n=e.target||e.srcElement;t(n.src)},!1):o.readyState&&(o.onreadystatechange=function(e){var n=e.srcElement;t(n.src)})),n&&(o.onerror=function(e){var t=e.target||e.srcElement;n(t.src)}),(document.head||document.getElementsByTagName("head")[0]).appendChild(o),o.src=e}}()}(RongIMLib||(RongIMLib={})),function(e){var t=function(){function e(){this.publicServiceList=[]}return e.prototype.get=function(e,t){for(var n=0,o=this.publicServiceList.length;n<o;n++)if(this.publicServiceList[n].conversationType==e&&t==this.publicServiceList[n].publicServiceId)return this.publicServiceList[n]},e.prototype.add=function(e){for(var t=!0,n=this,o=0,s=this.publicServiceList.length;o<s;o++)if(n.publicServiceList[o].conversationType==e.conversationType&&e.publicServiceId==n.publicServiceList[o].publicServiceId){this.publicServiceList.unshift(this.publicServiceList.splice(o,1)[0]),t=!1;break}t&&this.publicServiceList.unshift(e)},e.prototype.replace=function(e){for(var t=this,n=0,o=this.publicServiceList.length;n<o;n++)if(t.publicServiceList[n].conversationType==e.conversationType&&e.publicServiceId==t.publicServiceList[n].publicServiceId){t.publicServiceList.splice(n,1,e);break}},e.prototype.remove=function(e,t){for(var n=this,o=0,s=this.publicServiceList.length;o<s;o++)if(n.publicServiceList[o].conversationType==e&&t==n.publicServiceList[o].publicServiceId){this.publicServiceList.splice(o,1);break}},e}();e.PublicServiceMap=t;var n=function(){function e(){this.conversationList=[]}return e.prototype.get=function(e,t){for(var n=0,o=this.conversationList.length;n<o;n++)if(this.conversationList[n].conversationType==e&&this.conversationList[n].targetId==t)return this.conversationList[n];return null},e.prototype.add=function(e){for(var t=!0,n=0,o=this.conversationList.length;n<o;n++)if(this.conversationList[n].conversationType===e.conversationType&&this.conversationList[n].targetId===e.targetId){this.conversationList.unshift(this.conversationList.splice(n,1)[0]),t=!1;break}t&&this.conversationList.unshift(e)},e.prototype.replace=function(e){for(var t=0,n=this.conversationList.length;t<n;t++)if(this.conversationList[t].conversationType===e.conversationType&&this.conversationList[t].targetId===e.targetId){this.conversationList.splice(t,1,e);break}},e.prototype.remove=function(e){for(var t=0,n=this.conversationList.length;t<n;t++)if(this.conversationList[t].conversationType===e.conversationType&&this.conversationList[t].targetId===e.targetId){this.conversationList.splice(t,1);break}},e}();e.ConversationMap=n;var o=function(){function t(){}return t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t.prototype.logger=function(t,n,o){e.RongIMClient.logger({code:t,funcName:n,msg:o})},t.prototype.check=function(t,n,o,s){if(e.RongIMClient._dataAccessProvider||o){for(var r=0,i=s.length;r<i;r++)if(!new RegExp(this.getType(s[r])).test(t[r])){var a="第"+(r+1)+"个参数错误, 错误类型："+this.getType(s[r])+" ["+t[r]+"] -> 位置:"+n;this.logger("-3",n,a)}}else{a="该参数不正确或尚未实例化RongIMClient -> 位置:"+n;this.logger("-4",n,a)}},t.prototype.getType=function(e){var t=Object.prototype.toString.call(e).toLowerCase();return t.slice(8,t.length-1)},t.prototype.checkCookieDisable=function(){document.cookie="checkCookie=1";var e=document.cookie.match(new RegExp("(^| )checkCookie=([^;]*)(;|$)")),t=!1;return e||(t=!0),document.cookie="checkCookie=1;expires=Thu, 01-Jan-1970 00:00:01 GMT",t},t}();e.CheckParam=o;var s=function(){function e(e){this.map={},this.keys=[],this.limit=e||10}return e.prototype.set=function(e,t){this.map[e]=t},e.prototype.get=function(e){return this.map[e]||0},e.prototype.remove=function(e){delete this.map[e]},e}();e.LimitableMap=s;var r=function(){function e(){this.cache={}}return e.prototype.set=function(e,t){this.cache[e]=t},e.prototype.get=function(e){return this.cache[e]},e.prototype.remove=function(e){delete this.cache[e]},e}();e.MemoryCache=r;var i=function(){function e(e){var t=this;t.xmlhttp=null,t.options=e;var n="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;"undefined"!=typeof XMLHttpRequest&&n?t.xmlhttp=new XMLHttpRequest:"undefined"!=typeof XDomainRequest?t.xmlhttp=new XDomainRequest:t.xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}return e.prototype.send=function(e){var t=this;t.options.url||(t.options.url="http://upload.qiniu.com/putb64/-1"),t.xmlhttp.onreadystatechange=function(){4==t.xmlhttp.readyState&&(t.options.type?e():e(JSON.parse(t.xmlhttp.responseText.replace(/'/g,'"'))))},t.xmlhttp.open("POST",t.options.url,!0),t.xmlhttp.withCredentials=!1,"setRequestHeader"in t.xmlhttp&&(t.options.type?t.xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=utf-8"):(t.xmlhttp.setRequestHeader("Content-type","application/octet-stream"),t.xmlhttp.setRequestHeader("Authorization","UpToken "+t.options.token))),t.xmlhttp.send(t.options.type?"appKey="+t.options.appKey+"&deviceId="+t.options.deviceId+"&timestamp="+t.options.timestamp+"&deviceInfo="+t.options.deviceInfo+"&privateInfo="+JSON.stringify(t.options.privateInfo):t.options.base64)},e}();e.RongAjax=i;var a=function(){function e(){}return e.noop=function(){},e.isEmpty=function(e){var t=!0;for(var n in e){t=!1;break}return t},e.MD5=function(e,t,n){return md5(e,t,n)},e.isObject=function(e){return"[object Object]"==Object.prototype.toString.call(e)},e.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},e.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},e.isFunction=function(e){return"[object Function]"==Object.prototype.toString.call(e)},e.stringFormat=function(e,t){for(var n=0,o=t.length;n<o;n++){var s=t[n],r=new RegExp("\\{"+n+"\\}","g");e=e.replace(r,s)}return e},e.tplEngine=function(e,t,n){function o(t){return e.replace(n||/{([^}]+)}/g,function(e,n){return"\\"==e.charAt(0)?e.slice(1):void 0!=t[n]?t[n]:"{"+n+"}"})}"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);for(var s=[],r=0,i=t.length;r<i;r++)s.push(o(t[r]));return s.join("")},e.forEach=function(t,n){n=n||e.noop;var o=function(){for(var e in t)t.hasOwnProperty(e)&&n(t[e],e,t)},s=function(){for(var e=0,o=t.length;e<o;e++)n(t[e],e)};e.isObject(t)&&o(),e.isArray(t)&&s()},e.extend=function(t,n,o,s){return e.forEach(t,function(e,t){var o=t in n;s&&o&&(n[t]=e),o||(n[t]=e)}),n},e.createXHR=function(){var e={XMLHttpRequest:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return new XMLHttpRequest}),XDomainRequest:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return new XDomainRequest}),ActiveXObject:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return new ActiveXObject("Microsoft.XMLHTTP")})},t="function"==typeof XMLHttpRequest,n="function"==typeof XDomainRequest;return e[t?"XMLHttpRequest":n?"XDomainRequest":"ActiveXObject"]()},e.request=function(t){var n=t.url,o=t.success,s=t.error,r=t.method||"GET",i=e.createXHR();i.onreadystatechange=function(){4==i.readyState&&(200==i.status?o():s())},i.open(r,n,!0),i.send(null)},e.formatProtoclPath=function(t){var n=t.path,o=t.protocol,s=t.tmpl||"{0}{1}",r=t.sub,i="://",a=n.indexOf(i);return a>-1&&(a+=i.length,n=n.substring(a)),r&&(a=n.indexOf("/"))>-1&&(n=n.substr(0,a)),e.stringFormat(s,[o,n])},e.supportLocalStorage=function(){var e=!1;if("object"==("undefined"===typeof localStorage?"undefined":Object(F_project_vue_wechat_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_12__["a"])(localStorage)))try{var t="RC_TMP_KEY",n="RC_TMP_VAL";localStorage.setItem(t,n),localStorage.getItem(t)==n&&(e=!0)}catch(o){console.log("localStorage is disabled.")}return e},e.rename=function(t,n){var o=e.isObject(t);o&&(t=[t]),t=JSON.parse(JSON.stringify(t));var s=function(e,t,o){delete o[t],t=n[t],o[t]=e};return e.forEach(t,function(t){e.forEach(t,function(t,o,r){(o in n?s:e.noop)(t,o,r)})}),o?t[0]:t},e.some=function(e,t){for(var n=!1,o=0,s=e.length;o<s;o++)if(t(e[o])){n=!0;break}return n},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.isNumber=function(e){return"[object Number]"==Object.prototype.toString.call(e)},e.getTimestamp=function(){return(new Date).getTime()},e}();e.RongUtil=a;var c=function(){function e(){this.watchers={}}return e.prototype.genUId=function(e){return[e,(new Date).getTime()].join("_")},e.prototype.watch=function(e){var t=this,n=e.key,o=e.multiple;n=a.isArray(n)?n:[n];var s=e.func;a.forEach(n,function(e){e=o?t.genUId(e):e,t.watchers[e]=s})},e.prototype.notify=function(e){var t=this,n=e.key,o=e.entity;for(var s in t.watchers)0==s.indexOf(n)&&t.watchers[s](o)},e.prototype.remove=function(){},e}();e.RongObserver=c;var u=function(){function e(e){this.timeout=0,this.timer=null,this.timeout=e.timeout}return e.prototype.resume=function(e){this.timer=setTimeout(e,this.timeout)},e.prototype.pause=function(){clearTimeout(this.timer)},e}();e.Timer=u;var l=function(){function e(){}return e.getUId=function(e){return md5(e).slice(8,16)},e}();e.InnerUtil=l}(RongIMLib||(RongIMLib={})),RongIMLib})}).call(this,__webpack_require__("dd40")(module))},aa31:function(e,t,n){"use strict";var o=n("5d98"),s=n.n(o);s.a},b40a:function(e,t,n){var o={"./icon_bjpk10.png":"56e8","./icon_canvas.png":"72cf","./icon_cqssc.png":"1253","./icon_gxk3.png":"41a9","./icon_xyft.png":"3606"};function s(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}s.keys=function(){return Object.keys(o)},s.resolve=r,e.exports=s,s.id="b40a"},b470:function(e,t,n){},b776:function(e,t,n){},b937:function(e,t,n){},c1a6:function(e,t,n){e.exports=n.p+"media/结婚.9b47e356.mp4"},c4aa:function(e,t,n){"use strict";var o=n("1a59"),s=n.n(o);s.a},c4cb:function(e,t,n){},c677:function(e,t,n){"use strict";var o=n("ffc9"),s=n.n(o);s.a},c7c9:function(e,t,n){"use strict";var o=n("886b"),s=n.n(o);s.a},c88c:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});n("a481"),n("6762"),n("2fdb"),n("ac6a"),n("28a5");var o=n("d225"),s=n("bd86"),r=n("76a0"),i=function e(){Object(o["a"])(this,e)};Object(s["a"])(i,"deleteBlank",function(e){return 0===e.replace(/\s+/g,"").length}),Object(s["a"])(i,"on",function(){return document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!0)}:function(e,t,n){e&&t&&n&&e.attachEvent("on".concat(t),n)}}()),Object(s["a"])(i,"off",function(){return document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!0)}:function(e,t,n){e&&t&&e.detachEvent("on".concat(t),n)}}());var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toast-primary";Object(r["Toast"])({message:e,position:t,className:n,duration:2500})},c=function(e){r["Indicator"].open({text:e||"加载中...",spinnerType:"fading-circle"})},u=function(){r["Indicator"].close()}},ca36:function(e,t,n){},cb95:function(e,t,n){},d59f:function(e,t,n){"use strict";n.d(t,"a",function(){return u});n("96cf");var o=n("3b8d"),s=n("d225"),r=n("bd86"),i=n("bc3a"),a=n.n(i),c=n("9614"),u=function e(){Object(s["a"])(this,e)};Object(r["a"])(u,"getChatList",Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.a.post("".concat(c["a"].chatListUrl)).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(JSON.stringify(e))}));case 1:case"end":return e.stop()}},e)}))),Object(r["a"])(u,"getFriendList",Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.a.post("".concat(c["a"].friendList)).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(JSON.stringify(e))}));case 1:case"end":return e.stop()}},e)}))),Object(r["a"])(u,"getVueList",Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.a.post("".concat(c["a"].vueList)).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(JSON.stringify(e))}));case 1:case"end":return e.stop()}},e)}))),Object(r["a"])(u,"getJsNativeList",Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.a.post("".concat(c["a"].jsNativeList)).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(JSON.stringify(e))}));case 1:case"end":return e.stop()}},e)}))),Object(r["a"])(u,"getStrategyList",Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.a.post("".concat(c["a"].strategyList)).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(JSON.stringify(e))}));case 1:case"end":return e.stop()}},e)}))),Object(r["a"])(u,"getMeItemList",Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a.a.post("".concat(c["a"].meItemList)).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(JSON.stringify(e))}));case 1:case"end":return e.stop()}},e)})))},d8c5:function(e,t,n){e.exports=n.p+"img/flower.918ed3c7.gif"},dafd:function(e,t,n){},dbd5:function(e,t,n){"use strict";var o=n("69ac"),s=n.n(o);s.a},dcc1:function(e,t,n){"use strict";var o=n("ca36"),s=n.n(o);s.a},deef:function(e,t,n){},e0ef:function(e,t,n){},e292:function(e,t,n){"use strict";var o=n("deef"),s=n.n(o);s.a},e2f8:function(e,t,n){},e647:function(e,t,n){"use strict";var o=n("7864"),s=n.n(o);s.a},e6fe:function(e,t,n){"use strict";var o=n("0a42"),s=n.n(o);s.a},f02d:function(e,t,n){},f878:function(e,t,n){"use strict";var o=n("c4cb"),s=n.n(o);s.a},fee2:function(e,t,n){},ffc9:function(e,t,n){}});
//# sourceMappingURL=app.f957ab47.js.map